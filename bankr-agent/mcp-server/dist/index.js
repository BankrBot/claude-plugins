#!/usr/bin/env node
var E3=Object.create;var{getPrototypeOf:I3,defineProperty:Q6,getOwnPropertyNames:b3}=Object;var T3=Object.prototype.hasOwnProperty;var bX=(Q,X,W)=>{W=Q!=null?E3(I3(Q)):{};let Y=X||!Q||!Q.__esModule?Q6(W,"default",{value:Q,enumerable:!0}):W;for(let G of b3(Q))if(!T3.call(Y,G))Q6(Y,G,{get:()=>Q[G],enumerable:!0});return Y};var M=(Q,X)=>()=>(X||Q((X={exports:{}}).exports,X),X.exports);var TX=(Q,X)=>{for(var W in X)Q6(Q,W,{get:X[W],enumerable:!0,configurable:!0,set:(Y)=>X[W]=()=>Y})};var B9=M((lG)=>{Object.defineProperty(lG,"__esModule",{value:!0});lG.regexpCode=lG.getEsmExportName=lG.getProperty=lG.safeStringify=lG.stringify=lG.strConcat=lG.addCodeArg=lG.str=lG._=lG.nil=lG._Code=lG.Name=lG.IDENTIFIER=lG._CodeOrName=void 0;class AQ{}lG._CodeOrName=AQ;lG.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class w1 extends AQ{constructor(Q){super();if(!lG.IDENTIFIER.test(Q))throw Error("CodeGen: name must be a valid identifier");this.str=Q}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}lG.Name=w1;class T0 extends AQ{constructor(Q){super();this._items=typeof Q==="string"?[Q]:Q}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let Q=this._items[0];return Q===""||Q==='""'}get str(){var Q;return(Q=this._str)!==null&&Q!==void 0?Q:this._str=this._items.reduce((X,W)=>`${X}${W}`,"")}get names(){var Q;return(Q=this._names)!==null&&Q!==void 0?Q:this._names=this._items.reduce((X,W)=>{if(W instanceof w1)X[W.str]=(X[W.str]||0)+1;return X},{})}}lG._Code=T0;lG.nil=new T0("");function uG(Q,...X){let W=[Q[0]],Y=0;while(Y<X.length)A8(W,X[Y]),W.push(Q[++Y]);return new T0(W)}lG._=uG;var L8=new T0("+");function fG(Q,...X){let W=[$9(Q[0])],Y=0;while(Y<X.length)W.push(L8),A8(W,X[Y]),W.push(L8,$9(Q[++Y]));return nz(W),new T0(W)}lG.str=fG;function A8(Q,X){if(X instanceof T0)Q.push(...X._items);else if(X instanceof w1)Q.push(X);else Q.push(sz(X))}lG.addCodeArg=A8;function nz(Q){let X=1;while(X<Q.length-1){if(Q[X]===L8){let W=tz(Q[X-1],Q[X+1]);if(W!==void 0){Q.splice(X-1,3,W);continue}Q[X++]="+"}X++}}function tz(Q,X){if(X==='""')return Q;if(Q==='""')return X;if(typeof Q=="string"){if(X instanceof w1||Q[Q.length-1]!=='"')return;if(typeof X!="string")return`${Q.slice(0,-1)}${X}"`;if(X[0]==='"')return Q.slice(0,-1)+X.slice(1);return}if(typeof X=="string"&&X[0]==='"'&&!(Q instanceof w1))return`"${Q}${X.slice(1)}`;return}function az(Q,X){return X.emptyStr()?Q:Q.emptyStr()?X:fG`${Q}${X}`}lG.strConcat=az;function sz(Q){return typeof Q=="number"||typeof Q=="boolean"||Q===null?Q:$9(Array.isArray(Q)?Q.join(","):Q)}function ez(Q){return new T0($9(Q))}lG.stringify=ez;function $9(Q){return JSON.stringify(Q).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}lG.safeStringify=$9;function QK(Q){return typeof Q=="string"&&lG.IDENTIFIER.test(Q)?new T0(`.${Q}`):uG`[${Q}]`}lG.getProperty=QK;function XK(Q){if(typeof Q=="string"&&lG.IDENTIFIER.test(Q))return new T0(`${Q}`);throw Error(`CodeGen: invalid export name: ${Q}, use explicit $id name mapping`)}lG.getEsmExportName=XK;function WK(Q){return new T0(Q.toString())}lG.regexpCode=WK});var q8=M((dG)=>{Object.defineProperty(dG,"__esModule",{value:!0});dG.ValueScope=dG.ValueScopeName=dG.Scope=dG.varKinds=dG.UsedValueState=void 0;var L0=B9();class cG extends Error{constructor(Q){super(`CodeGen: "code" for ${Q} not defined`);this.value=Q.value}}var UQ;(function(Q){Q[Q.Started=0]="Started",Q[Q.Completed=1]="Completed"})(UQ||(dG.UsedValueState=UQ={}));dG.varKinds={const:new L0.Name("const"),let:new L0.Name("let"),var:new L0.Name("var")};class U8{constructor({prefixes:Q,parent:X}={}){this._names={},this._prefixes=Q,this._parent=X}toName(Q){return Q instanceof L0.Name?Q:this.name(Q)}name(Q){return new L0.Name(this._newName(Q))}_newName(Q){let X=this._names[Q]||this._nameGroup(Q);return`${Q}${X.index++}`}_nameGroup(Q){var X,W;if(((W=(X=this._parent)===null||X===void 0?void 0:X._prefixes)===null||W===void 0?void 0:W.has(Q))||this._prefixes&&!this._prefixes.has(Q))throw Error(`CodeGen: prefix "${Q}" is not allowed in this scope`);return this._names[Q]={prefix:Q,index:0}}}dG.Scope=U8;class V8 extends L0.Name{constructor(Q,X){super(X);this.prefix=Q}setValue(Q,{property:X,itemIndex:W}){this.value=Q,this.scopePath=L0._`.${new L0.Name(X)}[${W}]`}}dG.ValueScopeName=V8;var UK=L0._`\n`;class pG extends U8{constructor(Q){super(Q);this._values={},this._scope=Q.scope,this.opts={...Q,_n:Q.lines?UK:L0.nil}}get(){return this._scope}name(Q){return new V8(Q,this._newName(Q))}value(Q,X){var W;if(X.ref===void 0)throw Error("CodeGen: ref must be passed in value");let Y=this.toName(Q),{prefix:G}=Y,J=(W=X.key)!==null&&W!==void 0?W:X.ref,H=this._values[G];if(H){let z=H.get(J);if(z)return z}else H=this._values[G]=new Map;H.set(J,Y);let $=this._scope[G]||(this._scope[G]=[]),B=$.length;return $[B]=X.ref,Y.setValue(X,{property:G,itemIndex:B}),Y}getValue(Q,X){let W=this._values[Q];if(!W)return;return W.get(X)}scopeRefs(Q,X=this._values){return this._reduceValues(X,(W)=>{if(W.scopePath===void 0)throw Error(`CodeGen: name "${W}" has no value`);return L0._`${Q}${W.scopePath}`})}scopeCode(Q=this._values,X,W){return this._reduceValues(Q,(Y)=>{if(Y.value===void 0)throw Error(`CodeGen: name "${Y}" has no value`);return Y.value.code},X,W)}_reduceValues(Q,X,W={},Y){let G=L0.nil;for(let J in Q){let H=Q[J];if(!H)continue;let $=W[J]=W[J]||new Map;H.forEach((B)=>{if($.has(B))return;$.set(B,UQ.Started);let z=X(B);if(z){let K=this.opts.es5?dG.varKinds.var:dG.varKinds.const;G=L0._`${G}${K} ${B} = ${z};${this.opts._n}`}else if(z=Y===null||Y===void 0?void 0:Y(B))G=L0._`${G}${z}${this.opts._n}`;else throw new cG(B);$.set(B,UQ.Completed)})}return G}}dG.ValueScope=pG});var k=M((A0)=>{Object.defineProperty(A0,"__esModule",{value:!0});A0.or=A0.and=A0.not=A0.CodeGen=A0.operators=A0.varKinds=A0.ValueScopeName=A0.ValueScope=A0.Scope=A0.Name=A0.regexpCode=A0.stringify=A0.getProperty=A0.nil=A0.strConcat=A0.str=A0._=void 0;var x=B9(),j0=q8(),e0=B9();Object.defineProperty(A0,"_",{enumerable:!0,get:function(){return e0._}});Object.defineProperty(A0,"str",{enumerable:!0,get:function(){return e0.str}});Object.defineProperty(A0,"strConcat",{enumerable:!0,get:function(){return e0.strConcat}});Object.defineProperty(A0,"nil",{enumerable:!0,get:function(){return e0.nil}});Object.defineProperty(A0,"getProperty",{enumerable:!0,get:function(){return e0.getProperty}});Object.defineProperty(A0,"stringify",{enumerable:!0,get:function(){return e0.stringify}});Object.defineProperty(A0,"regexpCode",{enumerable:!0,get:function(){return e0.regexpCode}});Object.defineProperty(A0,"Name",{enumerable:!0,get:function(){return e0.Name}});var NQ=q8();Object.defineProperty(A0,"Scope",{enumerable:!0,get:function(){return NQ.Scope}});Object.defineProperty(A0,"ValueScope",{enumerable:!0,get:function(){return NQ.ValueScope}});Object.defineProperty(A0,"ValueScopeName",{enumerable:!0,get:function(){return NQ.ValueScopeName}});Object.defineProperty(A0,"varKinds",{enumerable:!0,get:function(){return NQ.varKinds}});A0.operators={GT:new x._Code(">"),GTE:new x._Code(">="),LT:new x._Code("<"),LTE:new x._Code("<="),EQ:new x._Code("==="),NEQ:new x._Code("!=="),NOT:new x._Code("!"),OR:new x._Code("||"),AND:new x._Code("&&"),ADD:new x._Code("+")};class Q1{optimizeNodes(){return this}optimizeNames(Q,X){return this}}class rG extends Q1{constructor(Q,X,W){super();this.varKind=Q,this.name=X,this.rhs=W}render({es5:Q,_n:X}){let W=Q?j0.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${W} ${this.name}${Y};`+X}optimizeNames(Q,X){if(!Q[this.name.str])return;if(this.rhs)this.rhs=E1(this.rhs,Q,X);return this}get names(){return this.rhs instanceof x._CodeOrName?this.rhs.names:{}}}class M8 extends Q1{constructor(Q,X,W){super();this.lhs=Q,this.rhs=X,this.sideEffects=W}render({_n:Q}){return`${this.lhs} = ${this.rhs};`+Q}optimizeNames(Q,X){if(this.lhs instanceof x.Name&&!Q[this.lhs.str]&&!this.sideEffects)return;return this.rhs=E1(this.rhs,Q,X),this}get names(){let Q=this.lhs instanceof x.Name?{}:{...this.lhs.names};return MQ(Q,this.rhs)}}class oG extends M8{constructor(Q,X,W,Y){super(Q,W,Y);this.op=X}render({_n:Q}){return`${this.lhs} ${this.op}= ${this.rhs};`+Q}}class nG extends Q1{constructor(Q){super();this.label=Q,this.names={}}render({_n:Q}){return`${this.label}:`+Q}}class tG extends Q1{constructor(Q){super();this.label=Q,this.names={}}render({_n:Q}){return`break${this.label?` ${this.label}`:""};`+Q}}class aG extends Q1{constructor(Q){super();this.error=Q}render({_n:Q}){return`throw ${this.error};`+Q}get names(){return this.error.names}}class sG extends Q1{constructor(Q){super();this.code=Q}render({_n:Q}){return`${this.code};`+Q}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Q,X){return this.code=E1(this.code,Q,X),this}get names(){return this.code instanceof x._CodeOrName?this.code.names:{}}}class wQ extends Q1{constructor(Q=[]){super();this.nodes=Q}render(Q){return this.nodes.reduce((X,W)=>X+W.render(Q),"")}optimizeNodes(){let{nodes:Q}=this,X=Q.length;while(X--){let W=Q[X].optimizeNodes();if(Array.isArray(W))Q.splice(X,1,...W);else if(W)Q[X]=W;else Q.splice(X,1)}return Q.length>0?this:void 0}optimizeNames(Q,X){let{nodes:W}=this,Y=W.length;while(Y--){let G=W[Y];if(G.optimizeNames(Q,X))continue;OK(Q,G.names),W.splice(Y,1)}return W.length>0?this:void 0}get names(){return this.nodes.reduce((Q,X)=>B1(Q,X.names),{})}}class X1 extends wQ{render(Q){return"{"+Q._n+super.render(Q)+"}"+Q._n}}class eG extends wQ{}class z9 extends X1{}z9.kind="else";class l0 extends X1{constructor(Q,X){super(X);this.condition=Q}render(Q){let X=`if(${this.condition})`+super.render(Q);if(this.else)X+="else "+this.else.render(Q);return X}optimizeNodes(){super.optimizeNodes();let Q=this.condition;if(Q===!0)return this.nodes;let X=this.else;if(X){let W=X.optimizeNodes();X=this.else=Array.isArray(W)?new z9(W):W}if(X){if(Q===!1)return X instanceof l0?X:X.nodes;if(this.nodes.length)return this;return new l0(GJ(Q),X instanceof l0?[X]:X.nodes)}if(Q===!1||!this.nodes.length)return;return this}optimizeNames(Q,X){var W;if(this.else=(W=this.else)===null||W===void 0?void 0:W.optimizeNames(Q,X),!(super.optimizeNames(Q,X)||this.else))return;return this.condition=E1(this.condition,Q,X),this}get names(){let Q=super.names;if(MQ(Q,this.condition),this.else)B1(Q,this.else.names);return Q}}l0.kind="if";class P1 extends X1{}P1.kind="for";class QJ extends P1{constructor(Q){super();this.iteration=Q}render(Q){return`for(${this.iteration})`+super.render(Q)}optimizeNames(Q,X){if(!super.optimizeNames(Q,X))return;return this.iteration=E1(this.iteration,Q,X),this}get names(){return B1(super.names,this.iteration.names)}}class XJ extends P1{constructor(Q,X,W,Y){super();this.varKind=Q,this.name=X,this.from=W,this.to=Y}render(Q){let X=Q.es5?j0.varKinds.var:this.varKind,{name:W,from:Y,to:G}=this;return`for(${X} ${W}=${Y}; ${W}<${G}; ${W}++)`+super.render(Q)}get names(){let Q=MQ(super.names,this.from);return MQ(Q,this.to)}}class Z8 extends P1{constructor(Q,X,W,Y){super();this.loop=Q,this.varKind=X,this.name=W,this.iterable=Y}render(Q){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Q)}optimizeNames(Q,X){if(!super.optimizeNames(Q,X))return;return this.iterable=E1(this.iterable,Q,X),this}get names(){return B1(super.names,this.iterable.names)}}class VQ extends X1{constructor(Q,X,W){super();this.name=Q,this.args=X,this.async=W}render(Q){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Q)}}VQ.kind="func";class qQ extends wQ{render(Q){return"return "+super.render(Q)}}qQ.kind="return";class WJ extends X1{render(Q){let X="try"+super.render(Q);if(this.catch)X+=this.catch.render(Q);if(this.finally)X+=this.finally.render(Q);return X}optimizeNodes(){var Q,X;return super.optimizeNodes(),(Q=this.catch)===null||Q===void 0||Q.optimizeNodes(),(X=this.finally)===null||X===void 0||X.optimizeNodes(),this}optimizeNames(Q,X){var W,Y;return super.optimizeNames(Q,X),(W=this.catch)===null||W===void 0||W.optimizeNames(Q,X),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(Q,X),this}get names(){let Q=super.names;if(this.catch)B1(Q,this.catch.names);if(this.finally)B1(Q,this.finally.names);return Q}}class ZQ extends X1{constructor(Q){super();this.error=Q}render(Q){return`catch(${this.error})`+super.render(Q)}}ZQ.kind="catch";class OQ extends X1{render(Q){return"finally"+super.render(Q)}}OQ.kind="finally";class YJ{constructor(Q,X={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...X,_n:X.lines?`
`:""},this._extScope=Q,this._scope=new j0.Scope({parent:Q}),this._nodes=[new eG]}toString(){return this._root.render(this.opts)}name(Q){return this._scope.name(Q)}scopeName(Q){return this._extScope.name(Q)}scopeValue(Q,X){let W=this._extScope.value(Q,X);return(this._values[W.prefix]||(this._values[W.prefix]=new Set)).add(W),W}getScopeValue(Q,X){return this._extScope.getValue(Q,X)}scopeRefs(Q){return this._extScope.scopeRefs(Q,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Q,X,W,Y){let G=this._scope.toName(X);if(W!==void 0&&Y)this._constants[G.str]=W;return this._leafNode(new rG(Q,G,W)),G}const(Q,X,W){return this._def(j0.varKinds.const,Q,X,W)}let(Q,X,W){return this._def(j0.varKinds.let,Q,X,W)}var(Q,X,W){return this._def(j0.varKinds.var,Q,X,W)}assign(Q,X,W){return this._leafNode(new M8(Q,X,W))}add(Q,X){return this._leafNode(new oG(Q,A0.operators.ADD,X))}code(Q){if(typeof Q=="function")Q();else if(Q!==x.nil)this._leafNode(new sG(Q));return this}object(...Q){let X=["{"];for(let[W,Y]of Q){if(X.length>1)X.push(",");if(X.push(W),W!==Y||this.opts.es5)X.push(":"),(0,x.addCodeArg)(X,Y)}return X.push("}"),new x._Code(X)}if(Q,X,W){if(this._blockNode(new l0(Q)),X&&W)this.code(X).else().code(W).endIf();else if(X)this.code(X).endIf();else if(W)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(Q){return this._elseNode(new l0(Q))}else(){return this._elseNode(new z9)}endIf(){return this._endBlockNode(l0,z9)}_for(Q,X){if(this._blockNode(Q),X)this.code(X).endFor();return this}for(Q,X){return this._for(new QJ(Q),X)}forRange(Q,X,W,Y,G=this.opts.es5?j0.varKinds.var:j0.varKinds.let){let J=this._scope.toName(Q);return this._for(new XJ(G,J,X,W),()=>Y(J))}forOf(Q,X,W,Y=j0.varKinds.const){let G=this._scope.toName(Q);if(this.opts.es5){let J=X instanceof x.Name?X:this.var("_arr",X);return this.forRange("_i",0,x._`${J}.length`,(H)=>{this.var(G,x._`${J}[${H}]`),W(G)})}return this._for(new Z8("of",Y,G,X),()=>W(G))}forIn(Q,X,W,Y=this.opts.es5?j0.varKinds.var:j0.varKinds.const){if(this.opts.ownProperties)return this.forOf(Q,x._`Object.keys(${X})`,W);let G=this._scope.toName(Q);return this._for(new Z8("in",Y,G,X),()=>W(G))}endFor(){return this._endBlockNode(P1)}label(Q){return this._leafNode(new nG(Q))}break(Q){return this._leafNode(new tG(Q))}return(Q){let X=new qQ;if(this._blockNode(X),this.code(Q),X.nodes.length!==1)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(qQ)}try(Q,X,W){if(!X&&!W)throw Error('CodeGen: "try" without "catch" and "finally"');let Y=new WJ;if(this._blockNode(Y),this.code(Q),X){let G=this.name("e");this._currNode=Y.catch=new ZQ(G),X(G)}if(W)this._currNode=Y.finally=new OQ,this.code(W);return this._endBlockNode(ZQ,OQ)}throw(Q){return this._leafNode(new aG(Q))}block(Q,X){if(this._blockStarts.push(this._nodes.length),Q)this.code(Q).endBlock(X);return this}endBlock(Q){let X=this._blockStarts.pop();if(X===void 0)throw Error("CodeGen: not in self-balancing block");let W=this._nodes.length-X;if(W<0||Q!==void 0&&W!==Q)throw Error(`CodeGen: wrong number of nodes: ${W} vs ${Q} expected`);return this._nodes.length=X,this}func(Q,X=x.nil,W,Y){if(this._blockNode(new VQ(Q,X,W)),Y)this.code(Y).endFunc();return this}endFunc(){return this._endBlockNode(VQ)}optimize(Q=1){while(Q-- >0)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Q){return this._currNode.nodes.push(Q),this}_blockNode(Q){this._currNode.nodes.push(Q),this._nodes.push(Q)}_endBlockNode(Q,X){let W=this._currNode;if(W instanceof Q||X&&W instanceof X)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${X?`${Q.kind}/${X.kind}`:Q.kind}"`)}_elseNode(Q){let X=this._currNode;if(!(X instanceof l0))throw Error('CodeGen: "else" without "if"');return this._currNode=X.else=Q,this}get _root(){return this._nodes[0]}get _currNode(){let Q=this._nodes;return Q[Q.length-1]}set _currNode(Q){let X=this._nodes;X[X.length-1]=Q}}A0.CodeGen=YJ;function B1(Q,X){for(let W in X)Q[W]=(Q[W]||0)+(X[W]||0);return Q}function MQ(Q,X){return X instanceof x._CodeOrName?B1(Q,X.names):Q}function E1(Q,X,W){if(Q instanceof x.Name)return Y(Q);if(!G(Q))return Q;return new x._Code(Q._items.reduce((J,H)=>{if(H instanceof x.Name)H=Y(H);if(H instanceof x._Code)J.push(...H._items);else J.push(H);return J},[]));function Y(J){let H=W[J.str];if(H===void 0||X[J.str]!==1)return J;return delete X[J.str],H}function G(J){return J instanceof x._Code&&J._items.some((H)=>H instanceof x.Name&&X[H.str]===1&&W[H.str]!==void 0)}}function OK(Q,X){for(let W in X)Q[W]=(Q[W]||0)-(X[W]||0)}function GJ(Q){return typeof Q=="boolean"||typeof Q=="number"||Q===null?!Q:x._`!${O8(Q)}`}A0.not=GJ;var MK=JJ(A0.operators.AND);function NK(...Q){return Q.reduce(MK)}A0.and=NK;var wK=JJ(A0.operators.OR);function PK(...Q){return Q.reduce(wK)}A0.or=PK;function JJ(Q){return(X,W)=>X===x.nil?W:W===x.nil?X:x._`${O8(X)} ${Q} ${O8(W)}`}function O8(Q){return Q instanceof x.Name?Q:x._`(${Q})`}});var h=M((DJ)=>{Object.defineProperty(DJ,"__esModule",{value:!0});DJ.checkStrictMode=DJ.getErrorPath=DJ.Type=DJ.useFunc=DJ.setEvaluated=DJ.evaluatedPropsToName=DJ.mergeEvaluated=DJ.eachItem=DJ.unescapeJsonPointer=DJ.escapeJsonPointer=DJ.escapeFragment=DJ.unescapeFragment=DJ.schemaRefOrVal=DJ.schemaHasRulesButRef=DJ.schemaHasRules=DJ.checkUnknownRules=DJ.alwaysValidSchema=DJ.toHash=void 0;var l=k(),TK=B9();function jK(Q){let X={};for(let W of Q)X[W]=!0;return X}DJ.toHash=jK;function RK(Q,X){if(typeof X=="boolean")return X;if(Object.keys(X).length===0)return!0;return zJ(Q,X),!KJ(X,Q.self.RULES.all)}DJ.alwaysValidSchema=RK;function zJ(Q,X=Q.schema){let{opts:W,self:Y}=Q;if(!W.strictSchema)return;if(typeof X==="boolean")return;let G=Y.RULES.keywords;for(let J in X)if(!G[J])AJ(Q,`unknown keyword: "${J}"`)}DJ.checkUnknownRules=zJ;function KJ(Q,X){if(typeof Q=="boolean")return!Q;for(let W in Q)if(X[W])return!0;return!1}DJ.schemaHasRules=KJ;function SK(Q,X){if(typeof Q=="boolean")return!Q;for(let W in Q)if(W!=="$ref"&&X.all[W])return!0;return!1}DJ.schemaHasRulesButRef=SK;function CK({topSchemaRef:Q,schemaPath:X},W,Y,G){if(!G){if(typeof W=="number"||typeof W=="boolean")return W;if(typeof W=="string")return l._`${W}`}return l._`${Q}${X}${(0,l.getProperty)(Y)}`}DJ.schemaRefOrVal=CK;function kK(Q){return FJ(decodeURIComponent(Q))}DJ.unescapeFragment=kK;function vK(Q){return encodeURIComponent(w8(Q))}DJ.escapeFragment=vK;function w8(Q){if(typeof Q=="number")return`${Q}`;return Q.replace(/~/g,"~0").replace(/\//g,"~1")}DJ.escapeJsonPointer=w8;function FJ(Q){return Q.replace(/~1/g,"/").replace(/~0/g,"~")}DJ.unescapeJsonPointer=FJ;function _K(Q,X){if(Array.isArray(Q))for(let W of Q)X(W);else X(Q)}DJ.eachItem=_K;function $J({mergeNames:Q,mergeToName:X,mergeValues:W,resultToName:Y}){return(G,J,H,$)=>{let B=H===void 0?J:H instanceof l.Name?(J instanceof l.Name?Q(G,J,H):X(G,J,H),H):J instanceof l.Name?(X(G,H,J),J):W(J,H);return $===l.Name&&!(B instanceof l.Name)?Y(G,B):B}}DJ.mergeEvaluated={props:$J({mergeNames:(Q,X,W)=>Q.if(l._`${W} !== true && ${X} !== undefined`,()=>{Q.if(l._`${X} === true`,()=>Q.assign(W,!0),()=>Q.assign(W,l._`${W} || {}`).code(l._`Object.assign(${W}, ${X})`))}),mergeToName:(Q,X,W)=>Q.if(l._`${W} !== true`,()=>{if(X===!0)Q.assign(W,!0);else Q.assign(W,l._`${W} || {}`),P8(Q,W,X)}),mergeValues:(Q,X)=>Q===!0?!0:{...Q,...X},resultToName:LJ}),items:$J({mergeNames:(Q,X,W)=>Q.if(l._`${W} !== true && ${X} !== undefined`,()=>Q.assign(W,l._`${X} === true ? true : ${W} > ${X} ? ${W} : ${X}`)),mergeToName:(Q,X,W)=>Q.if(l._`${W} !== true`,()=>Q.assign(W,X===!0?!0:l._`${W} > ${X} ? ${W} : ${X}`)),mergeValues:(Q,X)=>Q===!0?!0:Math.max(Q,X),resultToName:(Q,X)=>Q.var("items",X)})};function LJ(Q,X){if(X===!0)return Q.var("props",!0);let W=Q.var("props",l._`{}`);if(X!==void 0)P8(Q,W,X);return W}DJ.evaluatedPropsToName=LJ;function P8(Q,X,W){Object.keys(W).forEach((Y)=>Q.assign(l._`${X}${(0,l.getProperty)(Y)}`,!0))}DJ.setEvaluated=P8;var BJ={};function xK(Q,X){return Q.scopeValue("func",{ref:X,code:BJ[X.code]||(BJ[X.code]=new TK._Code(X.code))})}DJ.useFunc=xK;var N8;(function(Q){Q[Q.Num=0]="Num",Q[Q.Str=1]="Str"})(N8||(DJ.Type=N8={}));function gK(Q,X,W){if(Q instanceof l.Name){let Y=X===N8.Num;return W?Y?l._`"[" + ${Q} + "]"`:l._`"['" + ${Q} + "']"`:Y?l._`"/" + ${Q}`:l._`"/" + ${Q}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return W?(0,l.getProperty)(Q).toString():"/"+w8(Q)}DJ.getErrorPath=gK;function AJ(Q,X,W=Q.opts.strictSchema){if(!W)return;if(X=`strict mode: ${X}`,W===!0)throw Error(X);Q.self.logger.warn(X)}DJ.checkStrictMode=AJ});var m0=M((VJ)=>{Object.defineProperty(VJ,"__esModule",{value:!0});var H0=k(),QF={data:new H0.Name("data"),valCxt:new H0.Name("valCxt"),instancePath:new H0.Name("instancePath"),parentData:new H0.Name("parentData"),parentDataProperty:new H0.Name("parentDataProperty"),rootData:new H0.Name("rootData"),dynamicAnchors:new H0.Name("dynamicAnchors"),vErrors:new H0.Name("vErrors"),errors:new H0.Name("errors"),this:new H0.Name("this"),self:new H0.Name("self"),scope:new H0.Name("scope"),json:new H0.Name("json"),jsonPos:new H0.Name("jsonPos"),jsonLen:new H0.Name("jsonLen"),jsonPart:new H0.Name("jsonPart")};VJ.default=QF});var K9=M((MJ)=>{Object.defineProperty(MJ,"__esModule",{value:!0});MJ.extendErrors=MJ.resetErrorsCount=MJ.reportExtraError=MJ.reportError=MJ.keyword$DataError=MJ.keywordError=void 0;var g=k(),EQ=h(),z0=m0();MJ.keywordError={message:({keyword:Q})=>g.str`must pass "${Q}" keyword validation`};MJ.keyword$DataError={message:({keyword:Q,schemaType:X})=>X?g.str`"${Q}" keyword must be ${X} ($data)`:g.str`"${Q}" keyword is invalid ($data)`};function WF(Q,X=MJ.keywordError,W,Y){let{it:G}=Q,{gen:J,compositeRule:H,allErrors:$}=G,B=OJ(Q,X,W);if(Y!==null&&Y!==void 0?Y:H||$)qJ(J,B);else ZJ(G,g._`[${B}]`)}MJ.reportError=WF;function YF(Q,X=MJ.keywordError,W){let{it:Y}=Q,{gen:G,compositeRule:J,allErrors:H}=Y,$=OJ(Q,X,W);if(qJ(G,$),!(J||H))ZJ(Y,z0.default.vErrors)}MJ.reportExtraError=YF;function GF(Q,X){Q.assign(z0.default.errors,X),Q.if(g._`${z0.default.vErrors} !== null`,()=>Q.if(X,()=>Q.assign(g._`${z0.default.vErrors}.length`,X),()=>Q.assign(z0.default.vErrors,null)))}MJ.resetErrorsCount=GF;function JF({gen:Q,keyword:X,schemaValue:W,data:Y,errsCount:G,it:J}){if(G===void 0)throw Error("ajv implementation error");let H=Q.name("err");Q.forRange("i",G,z0.default.errors,($)=>{if(Q.const(H,g._`${z0.default.vErrors}[${$}]`),Q.if(g._`${H}.instancePath === undefined`,()=>Q.assign(g._`${H}.instancePath`,(0,g.strConcat)(z0.default.instancePath,J.errorPath))),Q.assign(g._`${H}.schemaPath`,g.str`${J.errSchemaPath}/${X}`),J.opts.verbose)Q.assign(g._`${H}.schema`,W),Q.assign(g._`${H}.data`,Y)})}MJ.extendErrors=JF;function qJ(Q,X){let W=Q.const("err",X);Q.if(g._`${z0.default.vErrors} === null`,()=>Q.assign(z0.default.vErrors,g._`[${W}]`),g._`${z0.default.vErrors}.push(${W})`),Q.code(g._`${z0.default.errors}++`)}function ZJ(Q,X){let{gen:W,validateName:Y,schemaEnv:G}=Q;if(G.$async)W.throw(g._`new ${Q.ValidationError}(${X})`);else W.assign(g._`${Y}.errors`,X),W.return(!1)}var z1={keyword:new g.Name("keyword"),schemaPath:new g.Name("schemaPath"),params:new g.Name("params"),propertyName:new g.Name("propertyName"),message:new g.Name("message"),schema:new g.Name("schema"),parentSchema:new g.Name("parentSchema")};function OJ(Q,X,W){let{createErrors:Y}=Q.it;if(Y===!1)return g._`{}`;return HF(Q,X,W)}function HF(Q,X,W={}){let{gen:Y,it:G}=Q,J=[$F(G,W),BF(Q,W)];return zF(Q,X,J),Y.object(...J)}function $F({errorPath:Q},{instancePath:X}){let W=X?g.str`${Q}${(0,EQ.getErrorPath)(X,EQ.Type.Str)}`:Q;return[z0.default.instancePath,(0,g.strConcat)(z0.default.instancePath,W)]}function BF({keyword:Q,it:{errSchemaPath:X}},{schemaPath:W,parentSchema:Y}){let G=Y?X:g.str`${X}/${Q}`;if(W)G=g.str`${G}${(0,EQ.getErrorPath)(W,EQ.Type.Str)}`;return[z1.schemaPath,G]}function zF(Q,{params:X,message:W},Y){let{keyword:G,data:J,schemaValue:H,it:$}=Q,{opts:B,propertyName:z,topSchemaRef:K,schemaPath:F}=$;if(Y.push([z1.keyword,G],[z1.params,typeof X=="function"?X(Q):X||g._`{}`]),B.messages)Y.push([z1.message,typeof W=="function"?W(Q):W]);if(B.verbose)Y.push([z1.schema,H],[z1.parentSchema,g._`${K}${F}`],[z0.default.data,J]);if(z)Y.push([z1.propertyName,z])}});var IJ=M((PJ)=>{Object.defineProperty(PJ,"__esModule",{value:!0});PJ.boolOrEmptySchema=PJ.topBoolOrEmptySchema=void 0;var DF=K9(),UF=k(),VF=m0(),qF={message:"boolean schema is false"};function ZF(Q){let{gen:X,schema:W,validateName:Y}=Q;if(W===!1)wJ(Q,!1);else if(typeof W=="object"&&W.$async===!0)X.return(VF.default.data);else X.assign(UF._`${Y}.errors`,null),X.return(!0)}PJ.topBoolOrEmptySchema=ZF;function OF(Q,X){let{gen:W,schema:Y}=Q;if(Y===!1)W.var(X,!1),wJ(Q);else W.var(X,!0)}PJ.boolOrEmptySchema=OF;function wJ(Q,X){let{gen:W,data:Y}=Q,G={gen:W,keyword:"false schema",data:Y,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:Q};(0,DF.reportError)(G,qF,void 0,X)}});var I8=M((bJ)=>{Object.defineProperty(bJ,"__esModule",{value:!0});bJ.getRules=bJ.isJSONType=void 0;var NF=["string","number","integer","boolean","null","object","array"],wF=new Set(NF);function PF(Q){return typeof Q=="string"&&wF.has(Q)}bJ.isJSONType=PF;function EF(){let Q={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...Q,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},Q.number,Q.string,Q.array,Q.object],post:{rules:[]},all:{},keywords:{}}}bJ.getRules=EF});var b8=M((SJ)=>{Object.defineProperty(SJ,"__esModule",{value:!0});SJ.shouldUseRule=SJ.shouldUseGroup=SJ.schemaHasRulesForType=void 0;function bF({schema:Q,self:X},W){let Y=X.RULES.types[W];return Y&&Y!==!0&&jJ(Q,Y)}SJ.schemaHasRulesForType=bF;function jJ(Q,X){return X.rules.some((W)=>RJ(Q,W))}SJ.shouldUseGroup=jJ;function RJ(Q,X){var W;return Q[X.keyword]!==void 0||((W=X.definition.implements)===null||W===void 0?void 0:W.some((Y)=>Q[Y]!==void 0))}SJ.shouldUseRule=RJ});var F9=M((xJ)=>{Object.defineProperty(xJ,"__esModule",{value:!0});xJ.reportTypeError=xJ.checkDataTypes=xJ.checkDataType=xJ.coerceAndCheckDataType=xJ.getJSONTypes=xJ.getSchemaTypes=xJ.DataType=void 0;var RF=I8(),SF=b8(),CF=K9(),S=k(),kJ=h(),I1;(function(Q){Q[Q.Correct=0]="Correct",Q[Q.Wrong=1]="Wrong"})(I1||(xJ.DataType=I1={}));function kF(Q){let X=vJ(Q.type);if(X.includes("null")){if(Q.nullable===!1)throw Error("type: null contradicts nullable: false")}else{if(!X.length&&Q.nullable!==void 0)throw Error('"nullable" cannot be used without "type"');if(Q.nullable===!0)X.push("null")}return X}xJ.getSchemaTypes=kF;function vJ(Q){let X=Array.isArray(Q)?Q:Q?[Q]:[];if(X.every(RF.isJSONType))return X;throw Error("type must be JSONType or JSONType[]: "+X.join(","))}xJ.getJSONTypes=vJ;function vF(Q,X){let{gen:W,data:Y,opts:G}=Q,J=_F(X,G.coerceTypes),H=X.length>0&&!(J.length===0&&X.length===1&&(0,SF.schemaHasRulesForType)(Q,X[0]));if(H){let $=j8(X,Y,G.strictNumbers,I1.Wrong);W.if($,()=>{if(J.length)xF(Q,X,J);else R8(Q)})}return H}xJ.coerceAndCheckDataType=vF;var _J=new Set(["string","number","integer","boolean","null"]);function _F(Q,X){return X?Q.filter((W)=>_J.has(W)||X==="array"&&W==="array"):[]}function xF(Q,X,W){let{gen:Y,data:G,opts:J}=Q,H=Y.let("dataType",S._`typeof ${G}`),$=Y.let("coerced",S._`undefined`);if(J.coerceTypes==="array")Y.if(S._`${H} == 'object' && Array.isArray(${G}) && ${G}.length == 1`,()=>Y.assign(G,S._`${G}[0]`).assign(H,S._`typeof ${G}`).if(j8(X,G,J.strictNumbers),()=>Y.assign($,G)));Y.if(S._`${$} !== undefined`);for(let z of W)if(_J.has(z)||z==="array"&&J.coerceTypes==="array")B(z);Y.else(),R8(Q),Y.endIf(),Y.if(S._`${$} !== undefined`,()=>{Y.assign(G,$),gF(Q,$)});function B(z){switch(z){case"string":Y.elseIf(S._`${H} == "number" || ${H} == "boolean"`).assign($,S._`"" + ${G}`).elseIf(S._`${G} === null`).assign($,S._`""`);return;case"number":Y.elseIf(S._`${H} == "boolean" || ${G} === null
              || (${H} == "string" && ${G} && ${G} == +${G})`).assign($,S._`+${G}`);return;case"integer":Y.elseIf(S._`${H} === "boolean" || ${G} === null
              || (${H} === "string" && ${G} && ${G} == +${G} && !(${G} % 1))`).assign($,S._`+${G}`);return;case"boolean":Y.elseIf(S._`${G} === "false" || ${G} === 0 || ${G} === null`).assign($,!1).elseIf(S._`${G} === "true" || ${G} === 1`).assign($,!0);return;case"null":Y.elseIf(S._`${G} === "" || ${G} === 0 || ${G} === false`),Y.assign($,null);return;case"array":Y.elseIf(S._`${H} === "string" || ${H} === "number"
              || ${H} === "boolean" || ${G} === null`).assign($,S._`[${G}]`)}}}function gF({gen:Q,parentData:X,parentDataProperty:W},Y){Q.if(S._`${X} !== undefined`,()=>Q.assign(S._`${X}[${W}]`,Y))}function T8(Q,X,W,Y=I1.Correct){let G=Y===I1.Correct?S.operators.EQ:S.operators.NEQ,J;switch(Q){case"null":return S._`${X} ${G} null`;case"array":J=S._`Array.isArray(${X})`;break;case"object":J=S._`${X} && typeof ${X} == "object" && !Array.isArray(${X})`;break;case"integer":J=H(S._`!(${X} % 1) && !isNaN(${X})`);break;case"number":J=H();break;default:return S._`typeof ${X} ${G} ${Q}`}return Y===I1.Correct?J:(0,S.not)(J);function H($=S.nil){return(0,S.and)(S._`typeof ${X} == "number"`,$,W?S._`isFinite(${X})`:S.nil)}}xJ.checkDataType=T8;function j8(Q,X,W,Y){if(Q.length===1)return T8(Q[0],X,W,Y);let G,J=(0,kJ.toHash)(Q);if(J.array&&J.object){let H=S._`typeof ${X} != "object"`;G=J.null?H:S._`!${X} || ${H}`,delete J.null,delete J.array,delete J.object}else G=S.nil;if(J.number)delete J.integer;for(let H in J)G=(0,S.and)(G,T8(H,X,W,Y));return G}xJ.checkDataTypes=j8;var yF={message:({schema:Q})=>`must be ${Q}`,params:({schema:Q,schemaValue:X})=>typeof Q=="string"?S._`{type: ${Q}}`:S._`{type: ${X}}`};function R8(Q){let X=hF(Q);(0,CF.reportError)(X,yF)}xJ.reportTypeError=R8;function hF(Q){let{gen:X,data:W,schema:Y}=Q,G=(0,kJ.schemaRefOrVal)(Q,Y,"type");return{gen:X,keyword:"type",data:W,schema:Y.type,schemaCode:G,schemaValue:G,parentSchema:Y,params:{},it:Q}}});var fJ=M((hJ)=>{Object.defineProperty(hJ,"__esModule",{value:!0});hJ.assignDefaults=void 0;var b1=k(),dF=h();function iF(Q,X){let{properties:W,items:Y}=Q.schema;if(X==="object"&&W)for(let G in W)yJ(Q,G,W[G].default);else if(X==="array"&&Array.isArray(Y))Y.forEach((G,J)=>yJ(Q,J,G.default))}hJ.assignDefaults=iF;function yJ(Q,X,W){let{gen:Y,compositeRule:G,data:J,opts:H}=Q;if(W===void 0)return;let $=b1._`${J}${(0,b1.getProperty)(X)}`;if(G){(0,dF.checkStrictMode)(Q,`default is ignored for: ${$}`);return}let B=b1._`${$} === undefined`;if(H.useDefaults==="empty")B=b1._`${B} || ${$} === null || ${$} === ""`;Y.if(B,b1._`${$} = ${(0,b1.stringify)(W)}`)}});var N0=M((cJ)=>{Object.defineProperty(cJ,"__esModule",{value:!0});cJ.validateUnion=cJ.validateArray=cJ.usePattern=cJ.callValidateCode=cJ.schemaProperties=cJ.allSchemaProperties=cJ.noPropertyInData=cJ.propertyInData=cJ.isOwnProperty=cJ.hasPropFunc=cJ.reportMissingProp=cJ.checkMissingProp=cJ.checkReportMissingProp=void 0;var d=k(),S8=h(),W1=m0(),rF=h();function oF(Q,X){let{gen:W,data:Y,it:G}=Q;W.if(k8(W,Y,X,G.opts.ownProperties),()=>{Q.setParams({missingProperty:d._`${X}`},!0),Q.error()})}cJ.checkReportMissingProp=oF;function nF({gen:Q,data:X,it:{opts:W}},Y,G){return(0,d.or)(...Y.map((J)=>(0,d.and)(k8(Q,X,J,W.ownProperties),d._`${G} = ${J}`)))}cJ.checkMissingProp=nF;function tF(Q,X){Q.setParams({missingProperty:X},!0),Q.error()}cJ.reportMissingProp=tF;function lJ(Q){return Q.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:d._`Object.prototype.hasOwnProperty`})}cJ.hasPropFunc=lJ;function C8(Q,X,W){return d._`${lJ(Q)}.call(${X}, ${W})`}cJ.isOwnProperty=C8;function aF(Q,X,W,Y){let G=d._`${X}${(0,d.getProperty)(W)} !== undefined`;return Y?d._`${G} && ${C8(Q,X,W)}`:G}cJ.propertyInData=aF;function k8(Q,X,W,Y){let G=d._`${X}${(0,d.getProperty)(W)} === undefined`;return Y?(0,d.or)(G,(0,d.not)(C8(Q,X,W))):G}cJ.noPropertyInData=k8;function mJ(Q){return Q?Object.keys(Q).filter((X)=>X!=="__proto__"):[]}cJ.allSchemaProperties=mJ;function sF(Q,X){return mJ(X).filter((W)=>!(0,S8.alwaysValidSchema)(Q,X[W]))}cJ.schemaProperties=sF;function eF({schemaCode:Q,data:X,it:{gen:W,topSchemaRef:Y,schemaPath:G,errorPath:J},it:H},$,B,z){let K=z?d._`${Q}, ${X}, ${Y}${G}`:X,F=[[W1.default.instancePath,(0,d.strConcat)(W1.default.instancePath,J)],[W1.default.parentData,H.parentData],[W1.default.parentDataProperty,H.parentDataProperty],[W1.default.rootData,W1.default.rootData]];if(H.opts.dynamicRef)F.push([W1.default.dynamicAnchors,W1.default.dynamicAnchors]);let A=d._`${K}, ${W.object(...F)}`;return B!==d.nil?d._`${$}.call(${B}, ${A})`:d._`${$}(${A})`}cJ.callValidateCode=eF;var QL=d._`new RegExp`;function XL({gen:Q,it:{opts:X}},W){let Y=X.unicodeRegExp?"u":"",{regExp:G}=X.code,J=G(W,Y);return Q.scopeValue("pattern",{key:J.toString(),ref:J,code:d._`${G.code==="new RegExp"?QL:(0,rF.useFunc)(Q,G)}(${W}, ${Y})`})}cJ.usePattern=XL;function WL(Q){let{gen:X,data:W,keyword:Y,it:G}=Q,J=X.name("valid");if(G.allErrors){let $=X.let("valid",!0);return H(()=>X.assign($,!1)),$}return X.var(J,!0),H(()=>X.break()),J;function H($){let B=X.const("len",d._`${W}.length`);X.forRange("i",0,B,(z)=>{Q.subschema({keyword:Y,dataProp:z,dataPropType:S8.Type.Num},J),X.if((0,d.not)(J),$)})}}cJ.validateArray=WL;function YL(Q){let{gen:X,schema:W,keyword:Y,it:G}=Q;if(!Array.isArray(W))throw Error("ajv implementation error");if(W.some((B)=>(0,S8.alwaysValidSchema)(G,B))&&!G.opts.unevaluated)return;let H=X.let("valid",!1),$=X.name("_valid");X.block(()=>W.forEach((B,z)=>{let K=Q.subschema({keyword:Y,schemaProp:z,compositeRule:!0},$);if(X.assign(H,d._`${H} || ${$}`),!Q.mergeValidEvaluated(K,$))X.if((0,d.not)(H))})),Q.result(H,()=>Q.reset(),()=>Q.error(!0))}cJ.validateUnion=YL});var nJ=M((rJ)=>{Object.defineProperty(rJ,"__esModule",{value:!0});rJ.validateKeywordUsage=rJ.validSchemaType=rJ.funcKeywordCode=rJ.macroKeywordCode=void 0;var K0=k(),K1=m0(),VL=N0(),qL=K9();function ZL(Q,X){let{gen:W,keyword:Y,schema:G,parentSchema:J,it:H}=Q,$=X.macro.call(H.self,G,J,H),B=iJ(W,Y,$);if(H.opts.validateSchema!==!1)H.self.validateSchema($,!0);let z=W.name("valid");Q.subschema({schema:$,schemaPath:K0.nil,errSchemaPath:`${H.errSchemaPath}/${Y}`,topSchemaRef:B,compositeRule:!0},z),Q.pass(z,()=>Q.error(!0))}rJ.macroKeywordCode=ZL;function OL(Q,X){var W;let{gen:Y,keyword:G,schema:J,parentSchema:H,$data:$,it:B}=Q;NL(B,X);let z=!$&&X.compile?X.compile.call(B.self,J,H,B):X.validate,K=iJ(Y,G,z),F=Y.let("valid");Q.block$data(F,A),Q.ok((W=X.valid)!==null&&W!==void 0?W:F);function A(){if(X.errors===!1){if(q(),X.modifying)dJ(Q);O(()=>Q.error())}else{let Z=X.async?L():V();if(X.modifying)dJ(Q);O(()=>ML(Q,Z))}}function L(){let Z=Y.let("ruleErrs",null);return Y.try(()=>q(K0._`await `),(T)=>Y.assign(F,!1).if(K0._`${T} instanceof ${B.ValidationError}`,()=>Y.assign(Z,K0._`${T}.errors`),()=>Y.throw(T))),Z}function V(){let Z=K0._`${K}.errors`;return Y.assign(Z,null),q(K0.nil),Z}function q(Z=X.async?K0._`await `:K0.nil){let T=B.opts.passContext?K1.default.this:K1.default.self,I=!(("compile"in X)&&!$||X.schema===!1);Y.assign(F,K0._`${Z}${(0,VL.callValidateCode)(Q,K,T,I)}`,X.modifying)}function O(Z){var T;Y.if((0,K0.not)((T=X.valid)!==null&&T!==void 0?T:F),Z)}}rJ.funcKeywordCode=OL;function dJ(Q){let{gen:X,data:W,it:Y}=Q;X.if(Y.parentData,()=>X.assign(W,K0._`${Y.parentData}[${Y.parentDataProperty}]`))}function ML(Q,X){let{gen:W}=Q;W.if(K0._`Array.isArray(${X})`,()=>{W.assign(K1.default.vErrors,K0._`${K1.default.vErrors} === null ? ${X} : ${K1.default.vErrors}.concat(${X})`).assign(K1.default.errors,K0._`${K1.default.vErrors}.length`),(0,qL.extendErrors)(Q)},()=>Q.error())}function NL({schemaEnv:Q},X){if(X.async&&!Q.$async)throw Error("async keyword in sync schema")}function iJ(Q,X,W){if(W===void 0)throw Error(`keyword "${X}" failed to compile`);return Q.scopeValue("keyword",typeof W=="function"?{ref:W}:{ref:W,code:(0,K0.stringify)(W)})}function wL(Q,X,W=!1){return!X.length||X.some((Y)=>Y==="array"?Array.isArray(Q):Y==="object"?Q&&typeof Q=="object"&&!Array.isArray(Q):typeof Q==Y||W&&typeof Q>"u")}rJ.validSchemaType=wL;function PL({schema:Q,opts:X,self:W,errSchemaPath:Y},G,J){if(Array.isArray(G.keyword)?!G.keyword.includes(J):G.keyword!==J)throw Error("ajv implementation error");let H=G.dependencies;if(H===null||H===void 0?void 0:H.some(($)=>!Object.prototype.hasOwnProperty.call(Q,$)))throw Error(`parent schema must have dependencies of ${J}: ${H.join(",")}`);if(G.validateSchema){if(!G.validateSchema(Q[J])){let B=`keyword "${J}" value is invalid at path "${Y}": `+W.errorsText(G.validateSchema.errors);if(X.validateSchema==="log")W.logger.error(B);else throw Error(B)}}}rJ.validateKeywordUsage=PL});var eJ=M((aJ)=>{Object.defineProperty(aJ,"__esModule",{value:!0});aJ.extendSubschemaMode=aJ.extendSubschemaData=aJ.getSubschema=void 0;var v0=k(),tJ=h();function TL(Q,{keyword:X,schemaProp:W,schema:Y,schemaPath:G,errSchemaPath:J,topSchemaRef:H}){if(X!==void 0&&Y!==void 0)throw Error('both "keyword" and "schema" passed, only one allowed');if(X!==void 0){let $=Q.schema[X];return W===void 0?{schema:$,schemaPath:v0._`${Q.schemaPath}${(0,v0.getProperty)(X)}`,errSchemaPath:`${Q.errSchemaPath}/${X}`}:{schema:$[W],schemaPath:v0._`${Q.schemaPath}${(0,v0.getProperty)(X)}${(0,v0.getProperty)(W)}`,errSchemaPath:`${Q.errSchemaPath}/${X}/${(0,tJ.escapeFragment)(W)}`}}if(Y!==void 0){if(G===void 0||J===void 0||H===void 0)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:Y,schemaPath:G,topSchemaRef:H,errSchemaPath:J}}throw Error('either "keyword" or "schema" must be passed')}aJ.getSubschema=TL;function jL(Q,X,{dataProp:W,dataPropType:Y,data:G,dataTypes:J,propertyName:H}){if(G!==void 0&&W!==void 0)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:$}=X;if(W!==void 0){let{errorPath:z,dataPathArr:K,opts:F}=X,A=$.let("data",v0._`${X.data}${(0,v0.getProperty)(W)}`,!0);B(A),Q.errorPath=v0.str`${z}${(0,tJ.getErrorPath)(W,Y,F.jsPropertySyntax)}`,Q.parentDataProperty=v0._`${W}`,Q.dataPathArr=[...K,Q.parentDataProperty]}if(G!==void 0){let z=G instanceof v0.Name?G:$.let("data",G,!0);if(B(z),H!==void 0)Q.propertyName=H}if(J)Q.dataTypes=J;function B(z){Q.data=z,Q.dataLevel=X.dataLevel+1,Q.dataTypes=[],X.definedProperties=new Set,Q.parentData=X.data,Q.dataNames=[...X.dataNames,z]}}aJ.extendSubschemaData=jL;function RL(Q,{jtdDiscriminator:X,jtdMetadata:W,compositeRule:Y,createErrors:G,allErrors:J}){if(Y!==void 0)Q.compositeRule=Y;if(G!==void 0)Q.createErrors=G;if(J!==void 0)Q.allErrors=J;Q.jtdDiscriminator=X,Q.jtdMetadata=W}aJ.extendSubschemaMode=RL});var v8=M((iE,Q7)=>{Q7.exports=function Q(X,W){if(X===W)return!0;if(X&&W&&typeof X=="object"&&typeof W=="object"){if(X.constructor!==W.constructor)return!1;var Y,G,J;if(Array.isArray(X)){if(Y=X.length,Y!=W.length)return!1;for(G=Y;G--!==0;)if(!Q(X[G],W[G]))return!1;return!0}if(X.constructor===RegExp)return X.source===W.source&&X.flags===W.flags;if(X.valueOf!==Object.prototype.valueOf)return X.valueOf()===W.valueOf();if(X.toString!==Object.prototype.toString)return X.toString()===W.toString();if(J=Object.keys(X),Y=J.length,Y!==Object.keys(W).length)return!1;for(G=Y;G--!==0;)if(!Object.prototype.hasOwnProperty.call(W,J[G]))return!1;for(G=Y;G--!==0;){var H=J[G];if(!Q(X[H],W[H]))return!1}return!0}return X!==X&&W!==W}});var W7=M((rE,X7)=>{var Y1=X7.exports=function(Q,X,W){if(typeof X=="function")W=X,X={};W=X.cb||W;var Y=typeof W=="function"?W:W.pre||function(){},G=W.post||function(){};IQ(X,Y,G,Q,"",Q)};Y1.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Y1.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Y1.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Y1.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function IQ(Q,X,W,Y,G,J,H,$,B,z){if(Y&&typeof Y=="object"&&!Array.isArray(Y)){X(Y,G,J,H,$,B,z);for(var K in Y){var F=Y[K];if(Array.isArray(F)){if(K in Y1.arrayKeywords)for(var A=0;A<F.length;A++)IQ(Q,X,W,F[A],G+"/"+K+"/"+A,J,G,K,Y,A)}else if(K in Y1.propsKeywords){if(F&&typeof F=="object")for(var L in F)IQ(Q,X,W,F[L],G+"/"+K+"/"+kL(L),J,G,K,Y,L)}else if(K in Y1.keywords||Q.allKeys&&!(K in Y1.skipKeywords))IQ(Q,X,W,F,G+"/"+K,J,G,K,Y)}W(Y,G,J,H,$,B,z)}}function kL(Q){return Q.replace(/~/g,"~0").replace(/\//g,"~1")}});var L9=M((H7)=>{Object.defineProperty(H7,"__esModule",{value:!0});H7.getSchemaRefs=H7.resolveUrl=H7.normalizeId=H7._getFullPath=H7.getFullPath=H7.inlineRef=void 0;var vL=h(),_L=v8(),xL=W7(),gL=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function yL(Q,X=!0){if(typeof Q=="boolean")return!0;if(X===!0)return!_8(Q);if(!X)return!1;return Y7(Q)<=X}H7.inlineRef=yL;var hL=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function _8(Q){for(let X in Q){if(hL.has(X))return!0;let W=Q[X];if(Array.isArray(W)&&W.some(_8))return!0;if(typeof W=="object"&&_8(W))return!0}return!1}function Y7(Q){let X=0;for(let W in Q){if(W==="$ref")return 1/0;if(X++,gL.has(W))continue;if(typeof Q[W]=="object")(0,vL.eachItem)(Q[W],(Y)=>X+=Y7(Y));if(X===1/0)return 1/0}return X}function G7(Q,X="",W){if(W!==!1)X=T1(X);let Y=Q.parse(X);return J7(Q,Y)}H7.getFullPath=G7;function J7(Q,X){return Q.serialize(X).split("#")[0]+"#"}H7._getFullPath=J7;var uL=/#\/?$/;function T1(Q){return Q?Q.replace(uL,""):""}H7.normalizeId=T1;function fL(Q,X,W){return W=T1(W),Q.resolve(X,W)}H7.resolveUrl=fL;var lL=/^[a-z_][-a-z0-9._]*$/i;function mL(Q,X){if(typeof Q=="boolean")return{};let{schemaId:W,uriResolver:Y}=this.opts,G=T1(Q[W]||X),J={"":G},H=G7(Y,G,!1),$={},B=new Set;return xL(Q,{allKeys:!0},(F,A,L,V)=>{if(V===void 0)return;let q=H+A,O=J[V];if(typeof F[W]=="string")O=Z.call(this,F[W]);T.call(this,F.$anchor),T.call(this,F.$dynamicAnchor),J[A]=O;function Z(I){let R=this.opts.uriResolver.resolve;if(I=T1(O?R(O,I):I),B.has(I))throw K(I);B.add(I);let E=this.refs[I];if(typeof E=="string")E=this.refs[E];if(typeof E=="object")z(F,E.schema,I);else if(I!==T1(q))if(I[0]==="#")z(F,$[I],I),$[I]=F;else this.refs[I]=q;return I}function T(I){if(typeof I=="string"){if(!lL.test(I))throw Error(`invalid anchor "${I}"`);Z.call(this,`#${I}`)}}}),$;function z(F,A,L){if(A!==void 0&&!_L(F,A))throw K(L)}function K(F){return Error(`reference "${F}" resolves to more than one schema`)}}H7.getSchemaRefs=mL});var U9=M((w7)=>{Object.defineProperty(w7,"__esModule",{value:!0});w7.getData=w7.KeywordCxt=w7.validateFunctionCode=void 0;var L7=IJ(),B7=F9(),g8=b8(),bQ=F9(),oL=fJ(),D9=nJ(),x8=eJ(),P=k(),j=m0(),nL=L9(),c0=h(),A9=K9();function tL(Q){if(U7(Q)){if(V7(Q),D7(Q)){eL(Q);return}}A7(Q,()=>(0,L7.topBoolOrEmptySchema)(Q))}w7.validateFunctionCode=tL;function A7({gen:Q,validateName:X,schema:W,schemaEnv:Y,opts:G},J){if(G.code.es5)Q.func(X,P._`${j.default.data}, ${j.default.valCxt}`,Y.$async,()=>{Q.code(P._`"use strict"; ${z7(W,G)}`),sL(Q,G),Q.code(J)});else Q.func(X,P._`${j.default.data}, ${aL(G)}`,Y.$async,()=>Q.code(z7(W,G)).code(J))}function aL(Q){return P._`{${j.default.instancePath}="", ${j.default.parentData}, ${j.default.parentDataProperty}, ${j.default.rootData}=${j.default.data}${Q.dynamicRef?P._`, ${j.default.dynamicAnchors}={}`:P.nil}}={}`}function sL(Q,X){Q.if(j.default.valCxt,()=>{if(Q.var(j.default.instancePath,P._`${j.default.valCxt}.${j.default.instancePath}`),Q.var(j.default.parentData,P._`${j.default.valCxt}.${j.default.parentData}`),Q.var(j.default.parentDataProperty,P._`${j.default.valCxt}.${j.default.parentDataProperty}`),Q.var(j.default.rootData,P._`${j.default.valCxt}.${j.default.rootData}`),X.dynamicRef)Q.var(j.default.dynamicAnchors,P._`${j.default.valCxt}.${j.default.dynamicAnchors}`)},()=>{if(Q.var(j.default.instancePath,P._`""`),Q.var(j.default.parentData,P._`undefined`),Q.var(j.default.parentDataProperty,P._`undefined`),Q.var(j.default.rootData,j.default.data),X.dynamicRef)Q.var(j.default.dynamicAnchors,P._`{}`)})}function eL(Q){let{schema:X,opts:W,gen:Y}=Q;A7(Q,()=>{if(W.$comment&&X.$comment)Z7(Q);if(GA(Q),Y.let(j.default.vErrors,null),Y.let(j.default.errors,0),W.unevaluated)QA(Q);q7(Q),$A(Q)});return}function QA(Q){let{gen:X,validateName:W}=Q;Q.evaluated=X.const("evaluated",P._`${W}.evaluated`),X.if(P._`${Q.evaluated}.dynamicProps`,()=>X.assign(P._`${Q.evaluated}.props`,P._`undefined`)),X.if(P._`${Q.evaluated}.dynamicItems`,()=>X.assign(P._`${Q.evaluated}.items`,P._`undefined`))}function z7(Q,X){let W=typeof Q=="object"&&Q[X.schemaId];return W&&(X.code.source||X.code.process)?P._`/*# sourceURL=${W} */`:P.nil}function XA(Q,X){if(U7(Q)){if(V7(Q),D7(Q)){WA(Q,X);return}}(0,L7.boolOrEmptySchema)(Q,X)}function D7({schema:Q,self:X}){if(typeof Q=="boolean")return!Q;for(let W in Q)if(X.RULES.all[W])return!0;return!1}function U7(Q){return typeof Q.schema!="boolean"}function WA(Q,X){let{schema:W,gen:Y,opts:G}=Q;if(G.$comment&&W.$comment)Z7(Q);JA(Q),HA(Q);let J=Y.const("_errs",j.default.errors);q7(Q,J),Y.var(X,P._`${J} === ${j.default.errors}`)}function V7(Q){(0,c0.checkUnknownRules)(Q),YA(Q)}function q7(Q,X){if(Q.opts.jtd)return K7(Q,[],!1,X);let W=(0,B7.getSchemaTypes)(Q.schema),Y=(0,B7.coerceAndCheckDataType)(Q,W);K7(Q,W,!Y,X)}function YA(Q){let{schema:X,errSchemaPath:W,opts:Y,self:G}=Q;if(X.$ref&&Y.ignoreKeywordsWithRef&&(0,c0.schemaHasRulesButRef)(X,G.RULES))G.logger.warn(`$ref: keywords ignored in schema at path "${W}"`)}function GA(Q){let{schema:X,opts:W}=Q;if(X.default!==void 0&&W.useDefaults&&W.strictSchema)(0,c0.checkStrictMode)(Q,"default is ignored in the schema root")}function JA(Q){let X=Q.schema[Q.opts.schemaId];if(X)Q.baseId=(0,nL.resolveUrl)(Q.opts.uriResolver,Q.baseId,X)}function HA(Q){if(Q.schema.$async&&!Q.schemaEnv.$async)throw Error("async schema in sync schema")}function Z7({gen:Q,schemaEnv:X,schema:W,errSchemaPath:Y,opts:G}){let J=W.$comment;if(G.$comment===!0)Q.code(P._`${j.default.self}.logger.log(${J})`);else if(typeof G.$comment=="function"){let H=P.str`${Y}/$comment`,$=Q.scopeValue("root",{ref:X.root});Q.code(P._`${j.default.self}.opts.$comment(${J}, ${H}, ${$}.schema)`)}}function $A(Q){let{gen:X,schemaEnv:W,validateName:Y,ValidationError:G,opts:J}=Q;if(W.$async)X.if(P._`${j.default.errors} === 0`,()=>X.return(j.default.data),()=>X.throw(P._`new ${G}(${j.default.vErrors})`));else{if(X.assign(P._`${Y}.errors`,j.default.vErrors),J.unevaluated)BA(Q);X.return(P._`${j.default.errors} === 0`)}}function BA({gen:Q,evaluated:X,props:W,items:Y}){if(W instanceof P.Name)Q.assign(P._`${X}.props`,W);if(Y instanceof P.Name)Q.assign(P._`${X}.items`,Y)}function K7(Q,X,W,Y){let{gen:G,schema:J,data:H,allErrors:$,opts:B,self:z}=Q,{RULES:K}=z;if(J.$ref&&(B.ignoreKeywordsWithRef||!(0,c0.schemaHasRulesButRef)(J,K))){G.block(()=>M7(Q,"$ref",K.all.$ref.definition));return}if(!B.jtd)zA(Q,X);G.block(()=>{for(let A of K.rules)F(A);F(K.post)});function F(A){if(!(0,g8.shouldUseGroup)(J,A))return;if(A.type){if(G.if((0,bQ.checkDataType)(A.type,H,B.strictNumbers)),F7(Q,A),X.length===1&&X[0]===A.type&&W)G.else(),(0,bQ.reportTypeError)(Q);G.endIf()}else F7(Q,A);if(!$)G.if(P._`${j.default.errors} === ${Y||0}`)}}function F7(Q,X){let{gen:W,schema:Y,opts:{useDefaults:G}}=Q;if(G)(0,oL.assignDefaults)(Q,X.type);W.block(()=>{for(let J of X.rules)if((0,g8.shouldUseRule)(Y,J))M7(Q,J.keyword,J.definition,X.type)})}function zA(Q,X){if(Q.schemaEnv.meta||!Q.opts.strictTypes)return;if(KA(Q,X),!Q.opts.allowUnionTypes)FA(Q,X);LA(Q,Q.dataTypes)}function KA(Q,X){if(!X.length)return;if(!Q.dataTypes.length){Q.dataTypes=X;return}X.forEach((W)=>{if(!O7(Q.dataTypes,W))y8(Q,`type "${W}" not allowed by context "${Q.dataTypes.join(",")}"`)}),DA(Q,X)}function FA(Q,X){if(X.length>1&&!(X.length===2&&X.includes("null")))y8(Q,"use allowUnionTypes to allow union type keyword")}function LA(Q,X){let W=Q.self.RULES.all;for(let Y in W){let G=W[Y];if(typeof G=="object"&&(0,g8.shouldUseRule)(Q.schema,G)){let{type:J}=G.definition;if(J.length&&!J.some((H)=>AA(X,H)))y8(Q,`missing type "${J.join(",")}" for keyword "${Y}"`)}}}function AA(Q,X){return Q.includes(X)||X==="number"&&Q.includes("integer")}function O7(Q,X){return Q.includes(X)||X==="integer"&&Q.includes("number")}function DA(Q,X){let W=[];for(let Y of Q.dataTypes)if(O7(X,Y))W.push(Y);else if(X.includes("integer")&&Y==="number")W.push("integer");Q.dataTypes=W}function y8(Q,X){let W=Q.schemaEnv.baseId+Q.errSchemaPath;X+=` at "${W}" (strictTypes)`,(0,c0.checkStrictMode)(Q,X,Q.opts.strictTypes)}class h8{constructor(Q,X,W){if((0,D9.validateKeywordUsage)(Q,X,W),this.gen=Q.gen,this.allErrors=Q.allErrors,this.keyword=W,this.data=Q.data,this.schema=Q.schema[W],this.$data=X.$data&&Q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c0.schemaRefOrVal)(Q,this.schema,W,this.$data),this.schemaType=X.schemaType,this.parentSchema=Q.schema,this.params={},this.it=Q,this.def=X,this.$data)this.schemaCode=Q.gen.const("vSchema",N7(this.$data,Q));else if(this.schemaCode=this.schemaValue,!(0,D9.validSchemaType)(this.schema,X.schemaType,X.allowUndefined))throw Error(`${W} value must be ${JSON.stringify(X.schemaType)}`);if("code"in X?X.trackErrors:X.errors!==!1)this.errsCount=Q.gen.const("_errs",j.default.errors)}result(Q,X,W){this.failResult((0,P.not)(Q),X,W)}failResult(Q,X,W){if(this.gen.if(Q),W)W();else this.error();if(X){if(this.gen.else(),X(),this.allErrors)this.gen.endIf()}else if(this.allErrors)this.gen.endIf();else this.gen.else()}pass(Q,X){this.failResult((0,P.not)(Q),void 0,X)}fail(Q){if(Q===void 0){if(this.error(),!this.allErrors)this.gen.if(!1);return}if(this.gen.if(Q),this.error(),this.allErrors)this.gen.endIf();else this.gen.else()}fail$data(Q){if(!this.$data)return this.fail(Q);let{schemaCode:X}=this;this.fail(P._`${X} !== undefined && (${(0,P.or)(this.invalid$data(),Q)})`)}error(Q,X,W){if(X){this.setParams(X),this._error(Q,W),this.setParams({});return}this._error(Q,W)}_error(Q,X){(Q?A9.reportExtraError:A9.reportError)(this,this.def.error,X)}$dataError(){(0,A9.reportError)(this,this.def.$dataError||A9.keyword$DataError)}reset(){if(this.errsCount===void 0)throw Error('add "trackErrors" to keyword definition');(0,A9.resetErrorsCount)(this.gen,this.errsCount)}ok(Q){if(!this.allErrors)this.gen.if(Q)}setParams(Q,X){if(X)Object.assign(this.params,Q);else this.params=Q}block$data(Q,X,W=P.nil){this.gen.block(()=>{this.check$data(Q,W),X()})}check$data(Q=P.nil,X=P.nil){if(!this.$data)return;let{gen:W,schemaCode:Y,schemaType:G,def:J}=this;if(W.if((0,P.or)(P._`${Y} === undefined`,X)),Q!==P.nil)W.assign(Q,!0);if(G.length||J.validateSchema){if(W.elseIf(this.invalid$data()),this.$dataError(),Q!==P.nil)W.assign(Q,!1)}W.else()}invalid$data(){let{gen:Q,schemaCode:X,schemaType:W,def:Y,it:G}=this;return(0,P.or)(J(),H());function J(){if(W.length){if(!(X instanceof P.Name))throw Error("ajv implementation error");let $=Array.isArray(W)?W:[W];return P._`${(0,bQ.checkDataTypes)($,X,G.opts.strictNumbers,bQ.DataType.Wrong)}`}return P.nil}function H(){if(Y.validateSchema){let $=Q.scopeValue("validate$data",{ref:Y.validateSchema});return P._`!${$}(${X})`}return P.nil}}subschema(Q,X){let W=(0,x8.getSubschema)(this.it,Q);(0,x8.extendSubschemaData)(W,this.it,Q),(0,x8.extendSubschemaMode)(W,Q);let Y={...this.it,...W,items:void 0,props:void 0};return XA(Y,X),Y}mergeEvaluated(Q,X){let{it:W,gen:Y}=this;if(!W.opts.unevaluated)return;if(W.props!==!0&&Q.props!==void 0)W.props=c0.mergeEvaluated.props(Y,Q.props,W.props,X);if(W.items!==!0&&Q.items!==void 0)W.items=c0.mergeEvaluated.items(Y,Q.items,W.items,X)}mergeValidEvaluated(Q,X){let{it:W,gen:Y}=this;if(W.opts.unevaluated&&(W.props!==!0||W.items!==!0))return Y.if(X,()=>this.mergeEvaluated(Q,P.Name)),!0}}w7.KeywordCxt=h8;function M7(Q,X,W,Y){let G=new h8(Q,W,X);if("code"in W)W.code(G,Y);else if(G.$data&&W.validate)(0,D9.funcKeywordCode)(G,W);else if("macro"in W)(0,D9.macroKeywordCode)(G,W);else if(W.compile||W.validate)(0,D9.funcKeywordCode)(G,W)}var UA=/^\/(?:[^~]|~0|~1)*$/,VA=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function N7(Q,{dataLevel:X,dataNames:W,dataPathArr:Y}){let G,J;if(Q==="")return j.default.rootData;if(Q[0]==="/"){if(!UA.test(Q))throw Error(`Invalid JSON-pointer: ${Q}`);G=Q,J=j.default.rootData}else{let z=VA.exec(Q);if(!z)throw Error(`Invalid JSON-pointer: ${Q}`);let K=+z[1];if(G=z[2],G==="#"){if(K>=X)throw Error(B("property/index",K));return Y[X-K]}if(K>X)throw Error(B("data",K));if(J=W[X-K],!G)return J}let H=J,$=G.split("/");for(let z of $)if(z)J=P._`${J}${(0,P.getProperty)((0,c0.unescapeJsonPointer)(z))}`,H=P._`${H} && ${J}`;return H;function B(z,K){return`Cannot access ${z} ${K} levels up, current level is ${X}`}}w7.getData=N7});var TQ=M((I7)=>{Object.defineProperty(I7,"__esModule",{value:!0});class E7 extends Error{constructor(Q){super("validation failed");this.errors=Q,this.ajv=this.validation=!0}}I7.default=E7});var V9=M((T7)=>{Object.defineProperty(T7,"__esModule",{value:!0});var u8=L9();class b7 extends Error{constructor(Q,X,W,Y){super(Y||`can't resolve reference ${W} from id ${X}`);this.missingRef=(0,u8.resolveUrl)(Q,X,W),this.missingSchema=(0,u8.normalizeId)((0,u8.getFullPath)(Q,this.missingRef))}}T7.default=b7});var RQ=M((S7)=>{Object.defineProperty(S7,"__esModule",{value:!0});S7.resolveSchema=S7.getCompilingSchema=S7.resolveRef=S7.compileSchema=S7.SchemaEnv=void 0;var R0=k(),NA=TQ(),F1=m0(),S0=L9(),j7=h(),wA=U9();class q9{constructor(Q){var X;this.refs={},this.dynamicAnchors={};let W;if(typeof Q.schema=="object")W=Q.schema;this.schema=Q.schema,this.schemaId=Q.schemaId,this.root=Q.root||this,this.baseId=(X=Q.baseId)!==null&&X!==void 0?X:(0,S0.normalizeId)(W===null||W===void 0?void 0:W[Q.schemaId||"$id"]),this.schemaPath=Q.schemaPath,this.localRefs=Q.localRefs,this.meta=Q.meta,this.$async=W===null||W===void 0?void 0:W.$async,this.refs={}}}S7.SchemaEnv=q9;function l8(Q){let X=R7.call(this,Q);if(X)return X;let W=(0,S0.getFullPath)(this.opts.uriResolver,Q.root.baseId),{es5:Y,lines:G}=this.opts.code,{ownProperties:J}=this.opts,H=new R0.CodeGen(this.scope,{es5:Y,lines:G,ownProperties:J}),$;if(Q.$async)$=H.scopeValue("Error",{ref:NA.default,code:R0._`require("ajv/dist/runtime/validation_error").default`});let B=H.scopeName("validate");Q.validateName=B;let z={gen:H,allErrors:this.opts.allErrors,data:F1.default.data,parentData:F1.default.parentData,parentDataProperty:F1.default.parentDataProperty,dataNames:[F1.default.data],dataPathArr:[R0.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:H.scopeValue("schema",this.opts.code.source===!0?{ref:Q.schema,code:(0,R0.stringify)(Q.schema)}:{ref:Q.schema}),validateName:B,ValidationError:$,schema:Q.schema,schemaEnv:Q,rootId:W,baseId:Q.baseId||W,schemaPath:R0.nil,errSchemaPath:Q.schemaPath||(this.opts.jtd?"":"#"),errorPath:R0._`""`,opts:this.opts,self:this},K;try{this._compilations.add(Q),(0,wA.validateFunctionCode)(z),H.optimize(this.opts.code.optimize);let F=H.toString();if(K=`${H.scopeRefs(F1.default.scope)}return ${F}`,this.opts.code.process)K=this.opts.code.process(K,Q);let L=Function(`${F1.default.self}`,`${F1.default.scope}`,K)(this,this.scope.get());if(this.scope.value(B,{ref:L}),L.errors=null,L.schema=Q.schema,L.schemaEnv=Q,Q.$async)L.$async=!0;if(this.opts.code.source===!0)L.source={validateName:B,validateCode:F,scopeValues:H._values};if(this.opts.unevaluated){let{props:V,items:q}=z;if(L.evaluated={props:V instanceof R0.Name?void 0:V,items:q instanceof R0.Name?void 0:q,dynamicProps:V instanceof R0.Name,dynamicItems:q instanceof R0.Name},L.source)L.source.evaluated=(0,R0.stringify)(L.evaluated)}return Q.validate=L,Q}catch(F){if(delete Q.validate,delete Q.validateName,K)this.logger.error("Error compiling schema, function code:",K);throw F}finally{this._compilations.delete(Q)}}S7.compileSchema=l8;function PA(Q,X,W){var Y;W=(0,S0.resolveUrl)(this.opts.uriResolver,X,W);let G=Q.refs[W];if(G)return G;let J=bA.call(this,Q,W);if(J===void 0){let H=(Y=Q.localRefs)===null||Y===void 0?void 0:Y[W],{schemaId:$}=this.opts;if(H)J=new q9({schema:H,schemaId:$,root:Q,baseId:X})}if(J===void 0)return;return Q.refs[W]=EA.call(this,J)}S7.resolveRef=PA;function EA(Q){if((0,S0.inlineRef)(Q.schema,this.opts.inlineRefs))return Q.schema;return Q.validate?Q:l8.call(this,Q)}function R7(Q){for(let X of this._compilations)if(IA(X,Q))return X}S7.getCompilingSchema=R7;function IA(Q,X){return Q.schema===X.schema&&Q.root===X.root&&Q.baseId===X.baseId}function bA(Q,X){let W;while(typeof(W=this.refs[X])=="string")X=W;return W||this.schemas[X]||jQ.call(this,Q,X)}function jQ(Q,X){let W=this.opts.uriResolver.parse(X),Y=(0,S0._getFullPath)(this.opts.uriResolver,W),G=(0,S0.getFullPath)(this.opts.uriResolver,Q.baseId,void 0);if(Object.keys(Q.schema).length>0&&Y===G)return f8.call(this,W,Q);let J=(0,S0.normalizeId)(Y),H=this.refs[J]||this.schemas[J];if(typeof H=="string"){let $=jQ.call(this,Q,H);if(typeof($===null||$===void 0?void 0:$.schema)!=="object")return;return f8.call(this,W,$)}if(typeof(H===null||H===void 0?void 0:H.schema)!=="object")return;if(!H.validate)l8.call(this,H);if(J===(0,S0.normalizeId)(X)){let{schema:$}=H,{schemaId:B}=this.opts,z=$[B];if(z)G=(0,S0.resolveUrl)(this.opts.uriResolver,G,z);return new q9({schema:$,schemaId:B,root:Q,baseId:G})}return f8.call(this,W,H)}S7.resolveSchema=jQ;var TA=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function f8(Q,{baseId:X,schema:W,root:Y}){var G;if(((G=Q.fragment)===null||G===void 0?void 0:G[0])!=="/")return;for(let $ of Q.fragment.slice(1).split("/")){if(typeof W==="boolean")return;let B=W[(0,j7.unescapeFragment)($)];if(B===void 0)return;W=B;let z=typeof W==="object"&&W[this.opts.schemaId];if(!TA.has($)&&z)X=(0,S0.resolveUrl)(this.opts.uriResolver,X,z)}let J;if(typeof W!="boolean"&&W.$ref&&!(0,j7.schemaHasRulesButRef)(W,this.RULES)){let $=(0,S0.resolveUrl)(this.opts.uriResolver,X,W.$ref);J=jQ.call(this,Y,$)}let{schemaId:H}=this.opts;if(J=J||new q9({schema:W,schemaId:H,root:Y,baseId:X}),J.schema!==J.root.schema)return J;return}});var k7=M((eE,kA)=>{kA.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var c8=M((QI,g7)=>{var vA=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),_7=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function m8(Q){let X="",W=0,Y=0;for(Y=0;Y<Q.length;Y++){if(W=Q[Y].charCodeAt(0),W===48)continue;if(!(W>=48&&W<=57||W>=65&&W<=70||W>=97&&W<=102))return"";X+=Q[Y];break}for(Y+=1;Y<Q.length;Y++){if(W=Q[Y].charCodeAt(0),!(W>=48&&W<=57||W>=65&&W<=70||W>=97&&W<=102))return"";X+=Q[Y]}return X}var _A=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function v7(Q){return Q.length=0,!0}function xA(Q,X,W){if(Q.length){let Y=m8(Q);if(Y!=="")X.push(Y);else return W.error=!0,!1;Q.length=0}return!0}function gA(Q){let X=0,W={error:!1,address:"",zone:""},Y=[],G=[],J=!1,H=!1,$=xA;for(let B=0;B<Q.length;B++){let z=Q[B];if(z==="["||z==="]")continue;if(z===":"){if(J===!0)H=!0;if(!$(G,Y,W))break;if(++X>7){W.error=!0;break}if(B>0&&Q[B-1]===":")J=!0;Y.push(":");continue}else if(z==="%"){if(!$(G,Y,W))break;$=v7}else{G.push(z);continue}}if(G.length)if($===v7)W.zone=G.join("");else if(H)Y.push(G.join(""));else Y.push(m8(G));return W.address=Y.join(""),W}function x7(Q){if(yA(Q,":")<2)return{host:Q,isIPV6:!1};let X=gA(Q);if(!X.error){let{address:W,address:Y}=X;if(X.zone)W+="%"+X.zone,Y+="%25"+X.zone;return{host:W,isIPV6:!0,escapedHost:Y}}else return{host:Q,isIPV6:!1}}function yA(Q,X){let W=0;for(let Y=0;Y<Q.length;Y++)if(Q[Y]===X)W++;return W}function hA(Q){let X=Q,W=[],Y=-1,G=0;while(G=X.length){if(G===1)if(X===".")break;else if(X==="/"){W.push("/");break}else{W.push(X);break}else if(G===2){if(X[0]==="."){if(X[1]===".")break;else if(X[1]==="/"){X=X.slice(2);continue}}else if(X[0]==="/"){if(X[1]==="."||X[1]==="/"){W.push("/");break}}}else if(G===3){if(X==="/.."){if(W.length!==0)W.pop();W.push("/");break}}if(X[0]==="."){if(X[1]==="."){if(X[2]==="/"){X=X.slice(3);continue}}else if(X[1]==="/"){X=X.slice(2);continue}}else if(X[0]==="/"){if(X[1]==="."){if(X[2]==="/"){X=X.slice(2);continue}else if(X[2]==="."){if(X[3]==="/"){if(X=X.slice(3),W.length!==0)W.pop();continue}}}}if((Y=X.indexOf("/",1))===-1){W.push(X);break}else W.push(X.slice(0,Y)),X=X.slice(Y)}return W.join("")}function uA(Q,X){let W=X!==!0?escape:unescape;if(Q.scheme!==void 0)Q.scheme=W(Q.scheme);if(Q.userinfo!==void 0)Q.userinfo=W(Q.userinfo);if(Q.host!==void 0)Q.host=W(Q.host);if(Q.path!==void 0)Q.path=W(Q.path);if(Q.query!==void 0)Q.query=W(Q.query);if(Q.fragment!==void 0)Q.fragment=W(Q.fragment);return Q}function fA(Q){let X=[];if(Q.userinfo!==void 0)X.push(Q.userinfo),X.push("@");if(Q.host!==void 0){let W=unescape(Q.host);if(!_7(W)){let Y=x7(W);if(Y.isIPV6===!0)W=`[${Y.escapedHost}]`;else W=Q.host}X.push(W)}if(typeof Q.port==="number"||typeof Q.port==="string")X.push(":"),X.push(String(Q.port));return X.length?X.join(""):void 0}g7.exports={nonSimpleDomain:_A,recomposeAuthority:fA,normalizeComponentEncoding:uA,removeDotSegments:hA,isIPv4:_7,isUUID:vA,normalizeIPv6:x7,stringArrayToHexStripped:m8}});var l7=M((XI,f7)=>{var{isUUID:lA}=c8(),mA=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,cA=["http","https","ws","wss","urn","urn:uuid"];function pA(Q){return cA.indexOf(Q)!==-1}function p8(Q){if(Q.secure===!0)return!0;else if(Q.secure===!1)return!1;else if(Q.scheme)return Q.scheme.length===3&&(Q.scheme[0]==="w"||Q.scheme[0]==="W")&&(Q.scheme[1]==="s"||Q.scheme[1]==="S")&&(Q.scheme[2]==="s"||Q.scheme[2]==="S");else return!1}function y7(Q){if(!Q.host)Q.error=Q.error||"HTTP URIs must have a host.";return Q}function h7(Q){let X=String(Q.scheme).toLowerCase()==="https";if(Q.port===(X?443:80)||Q.port==="")Q.port=void 0;if(!Q.path)Q.path="/";return Q}function dA(Q){return Q.secure=p8(Q),Q.resourceName=(Q.path||"/")+(Q.query?"?"+Q.query:""),Q.path=void 0,Q.query=void 0,Q}function iA(Q){if(Q.port===(p8(Q)?443:80)||Q.port==="")Q.port=void 0;if(typeof Q.secure==="boolean")Q.scheme=Q.secure?"wss":"ws",Q.secure=void 0;if(Q.resourceName){let[X,W]=Q.resourceName.split("?");Q.path=X&&X!=="/"?X:void 0,Q.query=W,Q.resourceName=void 0}return Q.fragment=void 0,Q}function rA(Q,X){if(!Q.path)return Q.error="URN can not be parsed",Q;let W=Q.path.match(mA);if(W){let Y=X.scheme||Q.scheme||"urn";Q.nid=W[1].toLowerCase(),Q.nss=W[2];let G=`${Y}:${X.nid||Q.nid}`,J=d8(G);if(Q.path=void 0,J)Q=J.parse(Q,X)}else Q.error=Q.error||"URN can not be parsed.";return Q}function oA(Q,X){if(Q.nid===void 0)throw Error("URN without nid cannot be serialized");let W=X.scheme||Q.scheme||"urn",Y=Q.nid.toLowerCase(),G=`${W}:${X.nid||Y}`,J=d8(G);if(J)Q=J.serialize(Q,X);let H=Q,$=Q.nss;return H.path=`${Y||X.nid}:${$}`,X.skipEscape=!0,H}function nA(Q,X){let W=Q;if(W.uuid=W.nss,W.nss=void 0,!X.tolerant&&(!W.uuid||!lA(W.uuid)))W.error=W.error||"UUID is not valid.";return W}function tA(Q){let X=Q;return X.nss=(Q.uuid||"").toLowerCase(),X}var u7={scheme:"http",domainHost:!0,parse:y7,serialize:h7},aA={scheme:"https",domainHost:u7.domainHost,parse:y7,serialize:h7},SQ={scheme:"ws",domainHost:!0,parse:dA,serialize:iA},sA={scheme:"wss",domainHost:SQ.domainHost,parse:SQ.parse,serialize:SQ.serialize},eA={scheme:"urn",parse:rA,serialize:oA,skipNormalize:!0},QD={scheme:"urn:uuid",parse:nA,serialize:tA,skipNormalize:!0},CQ={http:u7,https:aA,ws:SQ,wss:sA,urn:eA,"urn:uuid":QD};Object.setPrototypeOf(CQ,null);function d8(Q){return Q&&(CQ[Q]||CQ[Q.toLowerCase()])||void 0}f7.exports={wsIsSecure:p8,SCHEMES:CQ,isValidSchemeName:pA,getSchemeHandler:d8}});var p7=M((WI,vQ)=>{var{normalizeIPv6:XD,removeDotSegments:Z9,recomposeAuthority:WD,normalizeComponentEncoding:kQ,isIPv4:YD,nonSimpleDomain:GD}=c8(),{SCHEMES:JD,getSchemeHandler:m7}=l7();function HD(Q,X){if(typeof Q==="string")Q=_0(p0(Q,X),X);else if(typeof Q==="object")Q=p0(_0(Q,X),X);return Q}function $D(Q,X,W){let Y=W?Object.assign({scheme:"null"},W):{scheme:"null"},G=c7(p0(Q,Y),p0(X,Y),Y,!0);return Y.skipEscape=!0,_0(G,Y)}function c7(Q,X,W,Y){let G={};if(!Y)Q=p0(_0(Q,W),W),X=p0(_0(X,W),W);if(W=W||{},!W.tolerant&&X.scheme)G.scheme=X.scheme,G.userinfo=X.userinfo,G.host=X.host,G.port=X.port,G.path=Z9(X.path||""),G.query=X.query;else{if(X.userinfo!==void 0||X.host!==void 0||X.port!==void 0)G.userinfo=X.userinfo,G.host=X.host,G.port=X.port,G.path=Z9(X.path||""),G.query=X.query;else{if(!X.path)if(G.path=Q.path,X.query!==void 0)G.query=X.query;else G.query=Q.query;else{if(X.path[0]==="/")G.path=Z9(X.path);else{if((Q.userinfo!==void 0||Q.host!==void 0||Q.port!==void 0)&&!Q.path)G.path="/"+X.path;else if(!Q.path)G.path=X.path;else G.path=Q.path.slice(0,Q.path.lastIndexOf("/")+1)+X.path;G.path=Z9(G.path)}G.query=X.query}G.userinfo=Q.userinfo,G.host=Q.host,G.port=Q.port}G.scheme=Q.scheme}return G.fragment=X.fragment,G}function BD(Q,X,W){if(typeof Q==="string")Q=unescape(Q),Q=_0(kQ(p0(Q,W),!0),{...W,skipEscape:!0});else if(typeof Q==="object")Q=_0(kQ(Q,!0),{...W,skipEscape:!0});if(typeof X==="string")X=unescape(X),X=_0(kQ(p0(X,W),!0),{...W,skipEscape:!0});else if(typeof X==="object")X=_0(kQ(X,!0),{...W,skipEscape:!0});return Q.toLowerCase()===X.toLowerCase()}function _0(Q,X){let W={host:Q.host,scheme:Q.scheme,userinfo:Q.userinfo,port:Q.port,path:Q.path,query:Q.query,nid:Q.nid,nss:Q.nss,uuid:Q.uuid,fragment:Q.fragment,reference:Q.reference,resourceName:Q.resourceName,secure:Q.secure,error:""},Y=Object.assign({},X),G=[],J=m7(Y.scheme||W.scheme);if(J&&J.serialize)J.serialize(W,Y);if(W.path!==void 0)if(!Y.skipEscape){if(W.path=escape(W.path),W.scheme!==void 0)W.path=W.path.split("%3A").join(":")}else W.path=unescape(W.path);if(Y.reference!=="suffix"&&W.scheme)G.push(W.scheme,":");let H=WD(W);if(H!==void 0){if(Y.reference!=="suffix")G.push("//");if(G.push(H),W.path&&W.path[0]!=="/")G.push("/")}if(W.path!==void 0){let $=W.path;if(!Y.absolutePath&&(!J||!J.absolutePath))$=Z9($);if(H===void 0&&$[0]==="/"&&$[1]==="/")$="/%2F"+$.slice(2);G.push($)}if(W.query!==void 0)G.push("?",W.query);if(W.fragment!==void 0)G.push("#",W.fragment);return G.join("")}var zD=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p0(Q,X){let W=Object.assign({},X),Y={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},G=!1;if(W.reference==="suffix")if(W.scheme)Q=W.scheme+":"+Q;else Q="//"+Q;let J=Q.match(zD);if(J){if(Y.scheme=J[1],Y.userinfo=J[3],Y.host=J[4],Y.port=parseInt(J[5],10),Y.path=J[6]||"",Y.query=J[7],Y.fragment=J[8],isNaN(Y.port))Y.port=J[5];if(Y.host)if(YD(Y.host)===!1){let B=XD(Y.host);Y.host=B.host.toLowerCase(),G=B.isIPV6}else G=!0;if(Y.scheme===void 0&&Y.userinfo===void 0&&Y.host===void 0&&Y.port===void 0&&Y.query===void 0&&!Y.path)Y.reference="same-document";else if(Y.scheme===void 0)Y.reference="relative";else if(Y.fragment===void 0)Y.reference="absolute";else Y.reference="uri";if(W.reference&&W.reference!=="suffix"&&W.reference!==Y.reference)Y.error=Y.error||"URI is not a "+W.reference+" reference.";let H=m7(W.scheme||Y.scheme);if(!W.unicodeSupport&&(!H||!H.unicodeSupport)){if(Y.host&&(W.domainHost||H&&H.domainHost)&&G===!1&&GD(Y.host))try{Y.host=URL.domainToASCII(Y.host.toLowerCase())}catch($){Y.error=Y.error||"Host's domain name can not be converted to ASCII: "+$}}if(!H||H&&!H.skipNormalize){if(Q.indexOf("%")!==-1){if(Y.scheme!==void 0)Y.scheme=unescape(Y.scheme);if(Y.host!==void 0)Y.host=unescape(Y.host)}if(Y.path)Y.path=escape(unescape(Y.path));if(Y.fragment)Y.fragment=encodeURI(decodeURIComponent(Y.fragment))}if(H&&H.parse)H.parse(Y,W)}else Y.error=Y.error||"URI can not be parsed.";return Y}var i8={SCHEMES:JD,normalize:HD,resolve:$D,resolveComponent:c7,equal:BD,serialize:_0,parse:p0};vQ.exports=i8;vQ.exports.default=i8;vQ.exports.fastUri=i8});var r7=M((i7)=>{Object.defineProperty(i7,"__esModule",{value:!0});var d7=p7();d7.code='require("ajv/dist/runtime/uri").default';i7.default=d7});var X5=M((d0)=>{Object.defineProperty(d0,"__esModule",{value:!0});d0.CodeGen=d0.Name=d0.nil=d0.stringify=d0.str=d0._=d0.KeywordCxt=void 0;var FD=U9();Object.defineProperty(d0,"KeywordCxt",{enumerable:!0,get:function(){return FD.KeywordCxt}});var j1=k();Object.defineProperty(d0,"_",{enumerable:!0,get:function(){return j1._}});Object.defineProperty(d0,"str",{enumerable:!0,get:function(){return j1.str}});Object.defineProperty(d0,"stringify",{enumerable:!0,get:function(){return j1.stringify}});Object.defineProperty(d0,"nil",{enumerable:!0,get:function(){return j1.nil}});Object.defineProperty(d0,"Name",{enumerable:!0,get:function(){return j1.Name}});Object.defineProperty(d0,"CodeGen",{enumerable:!0,get:function(){return j1.CodeGen}});var LD=TQ(),s7=V9(),AD=I8(),O9=RQ(),DD=k(),M9=L9(),_Q=F9(),o8=h(),o7=k7(),UD=r7(),e7=(Q,X)=>new RegExp(Q,X);e7.code="new RegExp";var VD=["removeAdditional","useDefaults","coerceTypes"],qD=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),ZD={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},OD={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},n7=200;function MD(Q){var X,W,Y,G,J,H,$,B,z,K,F,A,L,V,q,O,Z,T,I,R,E,P0,E0,aQ,sQ;let _1=Q.strict,eQ=(X=Q.code)===null||X===void 0?void 0:X.optimize,EX=eQ===!0||eQ===void 0?1:eQ||0,IX=(Y=(W=Q.code)===null||W===void 0?void 0:W.regExp)!==null&&Y!==void 0?Y:e7,P3=(G=Q.uriResolver)!==null&&G!==void 0?G:UD.default;return{strictSchema:(H=(J=Q.strictSchema)!==null&&J!==void 0?J:_1)!==null&&H!==void 0?H:!0,strictNumbers:(B=($=Q.strictNumbers)!==null&&$!==void 0?$:_1)!==null&&B!==void 0?B:!0,strictTypes:(K=(z=Q.strictTypes)!==null&&z!==void 0?z:_1)!==null&&K!==void 0?K:"log",strictTuples:(A=(F=Q.strictTuples)!==null&&F!==void 0?F:_1)!==null&&A!==void 0?A:"log",strictRequired:(V=(L=Q.strictRequired)!==null&&L!==void 0?L:_1)!==null&&V!==void 0?V:!1,code:Q.code?{...Q.code,optimize:EX,regExp:IX}:{optimize:EX,regExp:IX},loopRequired:(q=Q.loopRequired)!==null&&q!==void 0?q:n7,loopEnum:(O=Q.loopEnum)!==null&&O!==void 0?O:n7,meta:(Z=Q.meta)!==null&&Z!==void 0?Z:!0,messages:(T=Q.messages)!==null&&T!==void 0?T:!0,inlineRefs:(I=Q.inlineRefs)!==null&&I!==void 0?I:!0,schemaId:(R=Q.schemaId)!==null&&R!==void 0?R:"$id",addUsedSchema:(E=Q.addUsedSchema)!==null&&E!==void 0?E:!0,validateSchema:(P0=Q.validateSchema)!==null&&P0!==void 0?P0:!0,validateFormats:(E0=Q.validateFormats)!==null&&E0!==void 0?E0:!0,unicodeRegExp:(aQ=Q.unicodeRegExp)!==null&&aQ!==void 0?aQ:!0,int32range:(sQ=Q.int32range)!==null&&sQ!==void 0?sQ:!0,uriResolver:P3}}class xQ{constructor(Q={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Q=this.opts={...Q,...MD(Q)};let{es5:X,lines:W}=this.opts.code;this.scope=new DD.ValueScope({scope:{},prefixes:qD,es5:X,lines:W}),this.logger=bD(Q.logger);let Y=Q.validateFormats;if(Q.validateFormats=!1,this.RULES=(0,AD.getRules)(),t7.call(this,ZD,Q,"NOT SUPPORTED"),t7.call(this,OD,Q,"DEPRECATED","warn"),this._metaOpts=ED.call(this),Q.formats)wD.call(this);if(this._addVocabularies(),this._addDefaultMetaSchema(),Q.keywords)PD.call(this,Q.keywords);if(typeof Q.meta=="object")this.addMetaSchema(Q.meta);ND.call(this),Q.validateFormats=Y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:Q,meta:X,schemaId:W}=this.opts,Y=o7;if(W==="id")Y={...o7},Y.id=Y.$id,delete Y.$id;if(X&&Q)this.addMetaSchema(Y,Y[W],!1)}defaultMeta(){let{meta:Q,schemaId:X}=this.opts;return this.opts.defaultMeta=typeof Q=="object"?Q[X]||Q:void 0}validate(Q,X){let W;if(typeof Q=="string"){if(W=this.getSchema(Q),!W)throw Error(`no schema with key or ref "${Q}"`)}else W=this.compile(Q);let Y=W(X);if(!("$async"in W))this.errors=W.errors;return Y}compile(Q,X){let W=this._addSchema(Q,X);return W.validate||this._compileSchemaEnv(W)}compileAsync(Q,X){if(typeof this.opts.loadSchema!="function")throw Error("options.loadSchema should be a function");let{loadSchema:W}=this.opts;return Y.call(this,Q,X);async function Y(z,K){await G.call(this,z.$schema);let F=this._addSchema(z,K);return F.validate||J.call(this,F)}async function G(z){if(z&&!this.getSchema(z))await Y.call(this,{$ref:z},!0)}async function J(z){try{return this._compileSchemaEnv(z)}catch(K){if(!(K instanceof s7.default))throw K;return H.call(this,K),await $.call(this,K.missingSchema),J.call(this,z)}}function H({missingSchema:z,missingRef:K}){if(this.refs[z])throw Error(`AnySchema ${z} is loaded but ${K} cannot be resolved`)}async function $(z){let K=await B.call(this,z);if(!this.refs[z])await G.call(this,K.$schema);if(!this.refs[z])this.addSchema(K,z,X)}async function B(z){let K=this._loading[z];if(K)return K;try{return await(this._loading[z]=W(z))}finally{delete this._loading[z]}}}addSchema(Q,X,W,Y=this.opts.validateSchema){if(Array.isArray(Q)){for(let J of Q)this.addSchema(J,void 0,W,Y);return this}let G;if(typeof Q==="object"){let{schemaId:J}=this.opts;if(G=Q[J],G!==void 0&&typeof G!="string")throw Error(`schema ${J} must be string`)}return X=(0,M9.normalizeId)(X||G),this._checkUnique(X),this.schemas[X]=this._addSchema(Q,W,X,Y,!0),this}addMetaSchema(Q,X,W=this.opts.validateSchema){return this.addSchema(Q,X,!0,W),this}validateSchema(Q,X){if(typeof Q=="boolean")return!0;let W;if(W=Q.$schema,W!==void 0&&typeof W!="string")throw Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let Y=this.validate(W,Q);if(!Y&&X){let G="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(G);else throw Error(G)}return Y}getSchema(Q){let X;while(typeof(X=a7.call(this,Q))=="string")Q=X;if(X===void 0){let{schemaId:W}=this.opts,Y=new O9.SchemaEnv({schema:{},schemaId:W});if(X=O9.resolveSchema.call(this,Y,Q),!X)return;this.refs[Q]=X}return X.validate||this._compileSchemaEnv(X)}removeSchema(Q){if(Q instanceof RegExp)return this._removeAllSchemas(this.schemas,Q),this._removeAllSchemas(this.refs,Q),this;switch(typeof Q){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let X=a7.call(this,Q);if(typeof X=="object")this._cache.delete(X.schema);return delete this.schemas[Q],delete this.refs[Q],this}case"object":{let X=Q;this._cache.delete(X);let W=Q[this.opts.schemaId];if(W)W=(0,M9.normalizeId)(W),delete this.schemas[W],delete this.refs[W];return this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Q){for(let X of Q)this.addKeyword(X);return this}addKeyword(Q,X){let W;if(typeof Q=="string"){if(W=Q,typeof X=="object")this.logger.warn("these parameters are deprecated, see docs for addKeyword"),X.keyword=W}else if(typeof Q=="object"&&X===void 0){if(X=Q,W=X.keyword,Array.isArray(W)&&!W.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(jD.call(this,W,X),!X)return(0,o8.eachItem)(W,(G)=>r8.call(this,G)),this;SD.call(this,X);let Y={...X,type:(0,_Q.getJSONTypes)(X.type),schemaType:(0,_Q.getJSONTypes)(X.schemaType)};return(0,o8.eachItem)(W,Y.type.length===0?(G)=>r8.call(this,G,Y):(G)=>Y.type.forEach((J)=>r8.call(this,G,Y,J))),this}getKeyword(Q){let X=this.RULES.all[Q];return typeof X=="object"?X.definition:!!X}removeKeyword(Q){let{RULES:X}=this;delete X.keywords[Q],delete X.all[Q];for(let W of X.rules){let Y=W.rules.findIndex((G)=>G.keyword===Q);if(Y>=0)W.rules.splice(Y,1)}return this}addFormat(Q,X){if(typeof X=="string")X=new RegExp(X);return this.formats[Q]=X,this}errorsText(Q=this.errors,{separator:X=", ",dataVar:W="data"}={}){if(!Q||Q.length===0)return"No errors";return Q.map((Y)=>`${W}${Y.instancePath} ${Y.message}`).reduce((Y,G)=>Y+X+G)}$dataMetaSchema(Q,X){let W=this.RULES.all;Q=JSON.parse(JSON.stringify(Q));for(let Y of X){let G=Y.split("/").slice(1),J=Q;for(let H of G)J=J[H];for(let H in W){let $=W[H];if(typeof $!="object")continue;let{$data:B}=$.definition,z=J[H];if(B&&z)J[H]=Q5(z)}}return Q}_removeAllSchemas(Q,X){for(let W in Q){let Y=Q[W];if(!X||X.test(W)){if(typeof Y=="string")delete Q[W];else if(Y&&!Y.meta)this._cache.delete(Y.schema),delete Q[W]}}}_addSchema(Q,X,W,Y=this.opts.validateSchema,G=this.opts.addUsedSchema){let J,{schemaId:H}=this.opts;if(typeof Q=="object")J=Q[H];else if(this.opts.jtd)throw Error("schema must be object");else if(typeof Q!="boolean")throw Error("schema must be object or boolean");let $=this._cache.get(Q);if($!==void 0)return $;W=(0,M9.normalizeId)(J||W);let B=M9.getSchemaRefs.call(this,Q,W);if($=new O9.SchemaEnv({schema:Q,schemaId:H,meta:X,baseId:W,localRefs:B}),this._cache.set($.schema,$),G&&!W.startsWith("#")){if(W)this._checkUnique(W);this.refs[W]=$}if(Y)this.validateSchema(Q,!0);return $}_checkUnique(Q){if(this.schemas[Q]||this.refs[Q])throw Error(`schema with key or id "${Q}" already exists`)}_compileSchemaEnv(Q){if(Q.meta)this._compileMetaSchema(Q);else O9.compileSchema.call(this,Q);if(!Q.validate)throw Error("ajv implementation error");return Q.validate}_compileMetaSchema(Q){let X=this.opts;this.opts=this._metaOpts;try{O9.compileSchema.call(this,Q)}finally{this.opts=X}}}xQ.ValidationError=LD.default;xQ.MissingRefError=s7.default;d0.default=xQ;function t7(Q,X,W,Y="error"){for(let G in Q){let J=G;if(J in X)this.logger[Y](`${W}: option ${G}. ${Q[J]}`)}}function a7(Q){return Q=(0,M9.normalizeId)(Q),this.schemas[Q]||this.refs[Q]}function ND(){let Q=this.opts.schemas;if(!Q)return;if(Array.isArray(Q))this.addSchema(Q);else for(let X in Q)this.addSchema(Q[X],X)}function wD(){for(let Q in this.opts.formats){let X=this.opts.formats[Q];if(X)this.addFormat(Q,X)}}function PD(Q){if(Array.isArray(Q)){this.addVocabulary(Q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let X in Q){let W=Q[X];if(!W.keyword)W.keyword=X;this.addKeyword(W)}}function ED(){let Q={...this.opts};for(let X of VD)delete Q[X];return Q}var ID={log(){},warn(){},error(){}};function bD(Q){if(Q===!1)return ID;if(Q===void 0)return console;if(Q.log&&Q.warn&&Q.error)return Q;throw Error("logger must implement log, warn and error methods")}var TD=/^[a-z_$][a-z0-9_$:-]*$/i;function jD(Q,X){let{RULES:W}=this;if((0,o8.eachItem)(Q,(Y)=>{if(W.keywords[Y])throw Error(`Keyword ${Y} is already defined`);if(!TD.test(Y))throw Error(`Keyword ${Y} has invalid name`)}),!X)return;if(X.$data&&!(("code"in X)||("validate"in X)))throw Error('$data keyword must have "code" or "validate" function')}function r8(Q,X,W){var Y;let G=X===null||X===void 0?void 0:X.post;if(W&&G)throw Error('keyword with "post" flag cannot have "type"');let{RULES:J}=this,H=G?J.post:J.rules.find(({type:B})=>B===W);if(!H)H={type:W,rules:[]},J.rules.push(H);if(J.keywords[Q]=!0,!X)return;let $={keyword:Q,definition:{...X,type:(0,_Q.getJSONTypes)(X.type),schemaType:(0,_Q.getJSONTypes)(X.schemaType)}};if(X.before)RD.call(this,H,$,X.before);else H.rules.push($);J.all[Q]=$,(Y=X.implements)===null||Y===void 0||Y.forEach((B)=>this.addKeyword(B))}function RD(Q,X,W){let Y=Q.rules.findIndex((G)=>G.keyword===W);if(Y>=0)Q.rules.splice(Y,0,X);else Q.rules.push(X),this.logger.warn(`rule ${W} is not defined`)}function SD(Q){let{metaSchema:X}=Q;if(X===void 0)return;if(Q.$data&&this.opts.$data)X=Q5(X);Q.validateSchema=this.compile(X,!0)}var CD={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Q5(Q){return{anyOf:[Q,CD]}}});var Y5=M((W5)=>{Object.defineProperty(W5,"__esModule",{value:!0});var _D={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};W5.default=_D});var z5=M(($5)=>{Object.defineProperty($5,"__esModule",{value:!0});$5.callRef=$5.getValidate=void 0;var gD=V9(),G5=N0(),D0=k(),R1=m0(),J5=RQ(),gQ=h(),yD={keyword:"$ref",schemaType:"string",code(Q){let{gen:X,schema:W,it:Y}=Q,{baseId:G,schemaEnv:J,validateName:H,opts:$,self:B}=Y,{root:z}=J;if((W==="#"||W==="#/")&&G===z.baseId)return F();let K=J5.resolveRef.call(B,z,G,W);if(K===void 0)throw new gD.default(Y.opts.uriResolver,G,W);if(K instanceof J5.SchemaEnv)return A(K);return L(K);function F(){if(J===z)return yQ(Q,H,J,J.$async);let V=X.scopeValue("root",{ref:z});return yQ(Q,D0._`${V}.validate`,z,z.$async)}function A(V){let q=H5(Q,V);yQ(Q,q,V,V.$async)}function L(V){let q=X.scopeValue("schema",$.code.source===!0?{ref:V,code:(0,D0.stringify)(V)}:{ref:V}),O=X.name("valid"),Z=Q.subschema({schema:V,dataTypes:[],schemaPath:D0.nil,topSchemaRef:q,errSchemaPath:W},O);Q.mergeEvaluated(Z),Q.ok(O)}}};function H5(Q,X){let{gen:W}=Q;return X.validate?W.scopeValue("validate",{ref:X.validate}):D0._`${W.scopeValue("wrapper",{ref:X})}.validate`}$5.getValidate=H5;function yQ(Q,X,W,Y){let{gen:G,it:J}=Q,{allErrors:H,schemaEnv:$,opts:B}=J,z=B.passContext?R1.default.this:D0.nil;if(Y)K();else F();function K(){if(!$.$async)throw Error("async schema referenced by sync schema");let V=G.let("valid");G.try(()=>{if(G.code(D0._`await ${(0,G5.callValidateCode)(Q,X,z)}`),L(X),!H)G.assign(V,!0)},(q)=>{if(G.if(D0._`!(${q} instanceof ${J.ValidationError})`,()=>G.throw(q)),A(q),!H)G.assign(V,!1)}),Q.ok(V)}function F(){Q.result((0,G5.callValidateCode)(Q,X,z),()=>L(X),()=>A(X))}function A(V){let q=D0._`${V}.errors`;G.assign(R1.default.vErrors,D0._`${R1.default.vErrors} === null ? ${q} : ${R1.default.vErrors}.concat(${q})`),G.assign(R1.default.errors,D0._`${R1.default.vErrors}.length`)}function L(V){var q;if(!J.opts.unevaluated)return;let O=(q=W===null||W===void 0?void 0:W.validate)===null||q===void 0?void 0:q.evaluated;if(J.props!==!0)if(O&&!O.dynamicProps){if(O.props!==void 0)J.props=gQ.mergeEvaluated.props(G,O.props,J.props)}else{let Z=G.var("props",D0._`${V}.evaluated.props`);J.props=gQ.mergeEvaluated.props(G,Z,J.props,D0.Name)}if(J.items!==!0)if(O&&!O.dynamicItems){if(O.items!==void 0)J.items=gQ.mergeEvaluated.items(G,O.items,J.items)}else{let Z=G.var("items",D0._`${V}.evaluated.items`);J.items=gQ.mergeEvaluated.items(G,Z,J.items,D0.Name)}}}$5.callRef=yQ;$5.default=yD});var F5=M((K5)=>{Object.defineProperty(K5,"__esModule",{value:!0});var fD=Y5(),lD=z5(),mD=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",fD.default,lD.default];K5.default=mD});var A5=M((L5)=>{Object.defineProperty(L5,"__esModule",{value:!0});var hQ=k(),G1=hQ.operators,uQ={maximum:{okStr:"<=",ok:G1.LTE,fail:G1.GT},minimum:{okStr:">=",ok:G1.GTE,fail:G1.LT},exclusiveMaximum:{okStr:"<",ok:G1.LT,fail:G1.GTE},exclusiveMinimum:{okStr:">",ok:G1.GT,fail:G1.LTE}},pD={message:({keyword:Q,schemaCode:X})=>hQ.str`must be ${uQ[Q].okStr} ${X}`,params:({keyword:Q,schemaCode:X})=>hQ._`{comparison: ${uQ[Q].okStr}, limit: ${X}}`},dD={keyword:Object.keys(uQ),type:"number",schemaType:"number",$data:!0,error:pD,code(Q){let{keyword:X,data:W,schemaCode:Y}=Q;Q.fail$data(hQ._`${W} ${uQ[X].fail} ${Y} || isNaN(${W})`)}};L5.default=dD});var U5=M((D5)=>{Object.defineProperty(D5,"__esModule",{value:!0});var N9=k(),rD={message:({schemaCode:Q})=>N9.str`must be multiple of ${Q}`,params:({schemaCode:Q})=>N9._`{multipleOf: ${Q}}`},oD={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:rD,code(Q){let{gen:X,data:W,schemaCode:Y,it:G}=Q,J=G.opts.multipleOfPrecision,H=X.let("res"),$=J?N9._`Math.abs(Math.round(${H}) - ${H}) > 1e-${J}`:N9._`${H} !== parseInt(${H})`;Q.fail$data(N9._`(${Y} === 0 || (${H} = ${W}/${Y}, ${$}))`)}};D5.default=oD});var Z5=M((q5)=>{Object.defineProperty(q5,"__esModule",{value:!0});function V5(Q){let X=Q.length,W=0,Y=0,G;while(Y<X)if(W++,G=Q.charCodeAt(Y++),G>=55296&&G<=56319&&Y<X){if(G=Q.charCodeAt(Y),(G&64512)===56320)Y++}return W}q5.default=V5;V5.code='require("ajv/dist/runtime/ucs2length").default'});var M5=M((O5)=>{Object.defineProperty(O5,"__esModule",{value:!0});var L1=k(),aD=h(),sD=Z5(),eD={message({keyword:Q,schemaCode:X}){let W=Q==="maxLength"?"more":"fewer";return L1.str`must NOT have ${W} than ${X} characters`},params:({schemaCode:Q})=>L1._`{limit: ${Q}}`},QU={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:eD,code(Q){let{keyword:X,data:W,schemaCode:Y,it:G}=Q,J=X==="maxLength"?L1.operators.GT:L1.operators.LT,H=G.opts.unicode===!1?L1._`${W}.length`:L1._`${(0,aD.useFunc)(Q.gen,sD.default)}(${W})`;Q.fail$data(L1._`${H} ${J} ${Y}`)}};O5.default=QU});var w5=M((N5)=>{Object.defineProperty(N5,"__esModule",{value:!0});var WU=N0(),fQ=k(),YU={message:({schemaCode:Q})=>fQ.str`must match pattern "${Q}"`,params:({schemaCode:Q})=>fQ._`{pattern: ${Q}}`},GU={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:YU,code(Q){let{data:X,$data:W,schema:Y,schemaCode:G,it:J}=Q,H=J.opts.unicodeRegExp?"u":"",$=W?fQ._`(new RegExp(${G}, ${H}))`:(0,WU.usePattern)(Q,Y);Q.fail$data(fQ._`!${$}.test(${X})`)}};N5.default=GU});var E5=M((P5)=>{Object.defineProperty(P5,"__esModule",{value:!0});var w9=k(),HU={message({keyword:Q,schemaCode:X}){let W=Q==="maxProperties"?"more":"fewer";return w9.str`must NOT have ${W} than ${X} properties`},params:({schemaCode:Q})=>w9._`{limit: ${Q}}`},$U={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:HU,code(Q){let{keyword:X,data:W,schemaCode:Y}=Q,G=X==="maxProperties"?w9.operators.GT:w9.operators.LT;Q.fail$data(w9._`Object.keys(${W}).length ${G} ${Y}`)}};P5.default=$U});var b5=M((I5)=>{Object.defineProperty(I5,"__esModule",{value:!0});var P9=N0(),E9=k(),zU=h(),KU={message:({params:{missingProperty:Q}})=>E9.str`must have required property '${Q}'`,params:({params:{missingProperty:Q}})=>E9._`{missingProperty: ${Q}}`},FU={keyword:"required",type:"object",schemaType:"array",$data:!0,error:KU,code(Q){let{gen:X,schema:W,schemaCode:Y,data:G,$data:J,it:H}=Q,{opts:$}=H;if(!J&&W.length===0)return;let B=W.length>=$.loopRequired;if(H.allErrors)z();else K();if($.strictRequired){let L=Q.parentSchema.properties,{definedProperties:V}=Q.it;for(let q of W)if((L===null||L===void 0?void 0:L[q])===void 0&&!V.has(q)){let O=H.schemaEnv.baseId+H.errSchemaPath,Z=`required property "${q}" is not defined at "${O}" (strictRequired)`;(0,zU.checkStrictMode)(H,Z,H.opts.strictRequired)}}function z(){if(B||J)Q.block$data(E9.nil,F);else for(let L of W)(0,P9.checkReportMissingProp)(Q,L)}function K(){let L=X.let("missing");if(B||J){let V=X.let("valid",!0);Q.block$data(V,()=>A(L,V)),Q.ok(V)}else X.if((0,P9.checkMissingProp)(Q,W,L)),(0,P9.reportMissingProp)(Q,L),X.else()}function F(){X.forOf("prop",Y,(L)=>{Q.setParams({missingProperty:L}),X.if((0,P9.noPropertyInData)(X,G,L,$.ownProperties),()=>Q.error())})}function A(L,V){Q.setParams({missingProperty:L}),X.forOf(L,Y,()=>{X.assign(V,(0,P9.propertyInData)(X,G,L,$.ownProperties)),X.if((0,E9.not)(V),()=>{Q.error(),X.break()})},E9.nil)}}};I5.default=FU});var j5=M((T5)=>{Object.defineProperty(T5,"__esModule",{value:!0});var I9=k(),AU={message({keyword:Q,schemaCode:X}){let W=Q==="maxItems"?"more":"fewer";return I9.str`must NOT have ${W} than ${X} items`},params:({schemaCode:Q})=>I9._`{limit: ${Q}}`},DU={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:AU,code(Q){let{keyword:X,data:W,schemaCode:Y}=Q,G=X==="maxItems"?I9.operators.GT:I9.operators.LT;Q.fail$data(I9._`${W}.length ${G} ${Y}`)}};T5.default=DU});var lQ=M((S5)=>{Object.defineProperty(S5,"__esModule",{value:!0});var R5=v8();R5.code='require("ajv/dist/runtime/equal").default';S5.default=R5});var k5=M((C5)=>{Object.defineProperty(C5,"__esModule",{value:!0});var n8=F9(),J0=k(),qU=h(),ZU=lQ(),OU={message:({params:{i:Q,j:X}})=>J0.str`must NOT have duplicate items (items ## ${X} and ${Q} are identical)`,params:({params:{i:Q,j:X}})=>J0._`{i: ${Q}, j: ${X}}`},MU={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:OU,code(Q){let{gen:X,data:W,$data:Y,schema:G,parentSchema:J,schemaCode:H,it:$}=Q;if(!Y&&!G)return;let B=X.let("valid"),z=J.items?(0,n8.getSchemaTypes)(J.items):[];Q.block$data(B,K,J0._`${H} === false`),Q.ok(B);function K(){let V=X.let("i",J0._`${W}.length`),q=X.let("j");Q.setParams({i:V,j:q}),X.assign(B,!0),X.if(J0._`${V} > 1`,()=>(F()?A:L)(V,q))}function F(){return z.length>0&&!z.some((V)=>V==="object"||V==="array")}function A(V,q){let O=X.name("item"),Z=(0,n8.checkDataTypes)(z,O,$.opts.strictNumbers,n8.DataType.Wrong),T=X.const("indices",J0._`{}`);X.for(J0._`;${V}--;`,()=>{if(X.let(O,J0._`${W}[${V}]`),X.if(Z,J0._`continue`),z.length>1)X.if(J0._`typeof ${O} == "string"`,J0._`${O} += "_"`);X.if(J0._`typeof ${T}[${O}] == "number"`,()=>{X.assign(q,J0._`${T}[${O}]`),Q.error(),X.assign(B,!1).break()}).code(J0._`${T}[${O}] = ${V}`)})}function L(V,q){let O=(0,qU.useFunc)(X,ZU.default),Z=X.name("outer");X.label(Z).for(J0._`;${V}--;`,()=>X.for(J0._`${q} = ${V}; ${q}--;`,()=>X.if(J0._`${O}(${W}[${V}], ${W}[${q}])`,()=>{Q.error(),X.assign(B,!1).break(Z)})))}}};C5.default=MU});var _5=M((v5)=>{Object.defineProperty(v5,"__esModule",{value:!0});var t8=k(),wU=h(),PU=lQ(),EU={message:"must be equal to constant",params:({schemaCode:Q})=>t8._`{allowedValue: ${Q}}`},IU={keyword:"const",$data:!0,error:EU,code(Q){let{gen:X,data:W,$data:Y,schemaCode:G,schema:J}=Q;if(Y||J&&typeof J=="object")Q.fail$data(t8._`!${(0,wU.useFunc)(X,PU.default)}(${W}, ${G})`);else Q.fail(t8._`${J} !== ${W}`)}};v5.default=IU});var g5=M((x5)=>{Object.defineProperty(x5,"__esModule",{value:!0});var b9=k(),TU=h(),jU=lQ(),RU={message:"must be equal to one of the allowed values",params:({schemaCode:Q})=>b9._`{allowedValues: ${Q}}`},SU={keyword:"enum",schemaType:"array",$data:!0,error:RU,code(Q){let{gen:X,data:W,$data:Y,schema:G,schemaCode:J,it:H}=Q;if(!Y&&G.length===0)throw Error("enum must have non-empty array");let $=G.length>=H.opts.loopEnum,B,z=()=>B!==null&&B!==void 0?B:B=(0,TU.useFunc)(X,jU.default),K;if($||Y)K=X.let("valid"),Q.block$data(K,F);else{if(!Array.isArray(G))throw Error("ajv implementation error");let L=X.const("vSchema",J);K=(0,b9.or)(...G.map((V,q)=>A(L,q)))}Q.pass(K);function F(){X.assign(K,!1),X.forOf("v",J,(L)=>X.if(b9._`${z()}(${W}, ${L})`,()=>X.assign(K,!0).break()))}function A(L,V){let q=G[V];return typeof q==="object"&&q!==null?b9._`${z()}(${W}, ${L}[${V}])`:b9._`${W} === ${q}`}}};x5.default=SU});var h5=M((y5)=>{Object.defineProperty(y5,"__esModule",{value:!0});var kU=A5(),vU=U5(),_U=M5(),xU=w5(),gU=E5(),yU=b5(),hU=j5(),uU=k5(),fU=_5(),lU=g5(),mU=[kU.default,vU.default,_U.default,xU.default,gU.default,yU.default,hU.default,uU.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},fU.default,lU.default];y5.default=mU});var s8=M((f5)=>{Object.defineProperty(f5,"__esModule",{value:!0});f5.validateAdditionalItems=void 0;var A1=k(),a8=h(),pU={message:({params:{len:Q}})=>A1.str`must NOT have more than ${Q} items`,params:({params:{len:Q}})=>A1._`{limit: ${Q}}`},dU={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:pU,code(Q){let{parentSchema:X,it:W}=Q,{items:Y}=X;if(!Array.isArray(Y)){(0,a8.checkStrictMode)(W,'"additionalItems" is ignored when "items" is not an array of schemas');return}u5(Q,Y)}};function u5(Q,X){let{gen:W,schema:Y,data:G,keyword:J,it:H}=Q;H.items=!0;let $=W.const("len",A1._`${G}.length`);if(Y===!1)Q.setParams({len:X.length}),Q.pass(A1._`${$} <= ${X.length}`);else if(typeof Y=="object"&&!(0,a8.alwaysValidSchema)(H,Y)){let z=W.var("valid",A1._`${$} <= ${X.length}`);W.if((0,A1.not)(z),()=>B(z)),Q.ok(z)}function B(z){W.forRange("i",X.length,$,(K)=>{if(Q.subschema({keyword:J,dataProp:K,dataPropType:a8.Type.Num},z),!H.allErrors)W.if((0,A1.not)(z),()=>W.break())})}}f5.validateAdditionalItems=u5;f5.default=dU});var e8=M((p5)=>{Object.defineProperty(p5,"__esModule",{value:!0});p5.validateTuple=void 0;var m5=k(),mQ=h(),rU=N0(),oU={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(Q){let{schema:X,it:W}=Q;if(Array.isArray(X))return c5(Q,"additionalItems",X);if(W.items=!0,(0,mQ.alwaysValidSchema)(W,X))return;Q.ok((0,rU.validateArray)(Q))}};function c5(Q,X,W=Q.schema){let{gen:Y,parentSchema:G,data:J,keyword:H,it:$}=Q;if(K(G),$.opts.unevaluated&&W.length&&$.items!==!0)$.items=mQ.mergeEvaluated.items(Y,W.length,$.items);let B=Y.name("valid"),z=Y.const("len",m5._`${J}.length`);W.forEach((F,A)=>{if((0,mQ.alwaysValidSchema)($,F))return;Y.if(m5._`${z} > ${A}`,()=>Q.subschema({keyword:H,schemaProp:A,dataProp:A},B)),Q.ok(B)});function K(F){let{opts:A,errSchemaPath:L}=$,V=W.length,q=V===F.minItems&&(V===F.maxItems||F[X]===!1);if(A.strictTuples&&!q){let O=`"${H}" is ${V}-tuple, but minItems or maxItems/${X} are not specified or different at path "${L}"`;(0,mQ.checkStrictMode)($,O,A.strictTuples)}}}p5.validateTuple=c5;p5.default=oU});var r5=M((i5)=>{Object.defineProperty(i5,"__esModule",{value:!0});var tU=e8(),aU={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:(Q)=>(0,tU.validateTuple)(Q,"items")};i5.default=aU});var t5=M((n5)=>{Object.defineProperty(n5,"__esModule",{value:!0});var o5=k(),eU=h(),QV=N0(),XV=s8(),WV={message:({params:{len:Q}})=>o5.str`must NOT have more than ${Q} items`,params:({params:{len:Q}})=>o5._`{limit: ${Q}}`},YV={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:WV,code(Q){let{schema:X,parentSchema:W,it:Y}=Q,{prefixItems:G}=W;if(Y.items=!0,(0,eU.alwaysValidSchema)(Y,X))return;if(G)(0,XV.validateAdditionalItems)(Q,G);else Q.ok((0,QV.validateArray)(Q))}};n5.default=YV});var s5=M((a5)=>{Object.defineProperty(a5,"__esModule",{value:!0});var w0=k(),cQ=h(),JV={message:({params:{min:Q,max:X}})=>X===void 0?w0.str`must contain at least ${Q} valid item(s)`:w0.str`must contain at least ${Q} and no more than ${X} valid item(s)`,params:({params:{min:Q,max:X}})=>X===void 0?w0._`{minContains: ${Q}}`:w0._`{minContains: ${Q}, maxContains: ${X}}`},HV={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:JV,code(Q){let{gen:X,schema:W,parentSchema:Y,data:G,it:J}=Q,H,$,{minContains:B,maxContains:z}=Y;if(J.opts.next)H=B===void 0?1:B,$=z;else H=1;let K=X.const("len",w0._`${G}.length`);if(Q.setParams({min:H,max:$}),$===void 0&&H===0){(0,cQ.checkStrictMode)(J,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if($!==void 0&&H>$){(0,cQ.checkStrictMode)(J,'"minContains" > "maxContains" is always invalid'),Q.fail();return}if((0,cQ.alwaysValidSchema)(J,W)){let q=w0._`${K} >= ${H}`;if($!==void 0)q=w0._`${q} && ${K} <= ${$}`;Q.pass(q);return}J.items=!0;let F=X.name("valid");if($===void 0&&H===1)L(F,()=>X.if(F,()=>X.break()));else if(H===0){if(X.let(F,!0),$!==void 0)X.if(w0._`${G}.length > 0`,A)}else X.let(F,!1),A();Q.result(F,()=>Q.reset());function A(){let q=X.name("_valid"),O=X.let("count",0);L(q,()=>X.if(q,()=>V(O)))}function L(q,O){X.forRange("i",0,K,(Z)=>{Q.subschema({keyword:"contains",dataProp:Z,dataPropType:cQ.Type.Num,compositeRule:!0},q),O()})}function V(q){if(X.code(w0._`${q}++`),$===void 0)X.if(w0._`${q} >= ${H}`,()=>X.assign(F,!0).break());else if(X.if(w0._`${q} > ${$}`,()=>X.assign(F,!1).break()),H===1)X.assign(F,!0);else X.if(w0._`${q} >= ${H}`,()=>X.assign(F,!0))}}};a5.default=HV});var GH=M((XH)=>{Object.defineProperty(XH,"__esModule",{value:!0});XH.validateSchemaDeps=XH.validatePropertyDeps=XH.error=void 0;var QX=k(),BV=h(),T9=N0();XH.error={message:({params:{property:Q,depsCount:X,deps:W}})=>{let Y=X===1?"property":"properties";return QX.str`must have ${Y} ${W} when property ${Q} is present`},params:({params:{property:Q,depsCount:X,deps:W,missingProperty:Y}})=>QX._`{property: ${Q},
    missingProperty: ${Y},
    depsCount: ${X},
    deps: ${W}}`};var zV={keyword:"dependencies",type:"object",schemaType:"object",error:XH.error,code(Q){let[X,W]=KV(Q);e5(Q,X),QH(Q,W)}};function KV({schema:Q}){let X={},W={};for(let Y in Q){if(Y==="__proto__")continue;let G=Array.isArray(Q[Y])?X:W;G[Y]=Q[Y]}return[X,W]}function e5(Q,X=Q.schema){let{gen:W,data:Y,it:G}=Q;if(Object.keys(X).length===0)return;let J=W.let("missing");for(let H in X){let $=X[H];if($.length===0)continue;let B=(0,T9.propertyInData)(W,Y,H,G.opts.ownProperties);if(Q.setParams({property:H,depsCount:$.length,deps:$.join(", ")}),G.allErrors)W.if(B,()=>{for(let z of $)(0,T9.checkReportMissingProp)(Q,z)});else W.if(QX._`${B} && (${(0,T9.checkMissingProp)(Q,$,J)})`),(0,T9.reportMissingProp)(Q,J),W.else()}}XH.validatePropertyDeps=e5;function QH(Q,X=Q.schema){let{gen:W,data:Y,keyword:G,it:J}=Q,H=W.name("valid");for(let $ in X){if((0,BV.alwaysValidSchema)(J,X[$]))continue;W.if((0,T9.propertyInData)(W,Y,$,J.opts.ownProperties),()=>{let B=Q.subschema({keyword:G,schemaProp:$},H);Q.mergeValidEvaluated(B,H)},()=>W.var(H,!0)),Q.ok(H)}}XH.validateSchemaDeps=QH;XH.default=zV});var $H=M((HH)=>{Object.defineProperty(HH,"__esModule",{value:!0});var JH=k(),AV=h(),DV={message:"property name must be valid",params:({params:Q})=>JH._`{propertyName: ${Q.propertyName}}`},UV={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:DV,code(Q){let{gen:X,schema:W,data:Y,it:G}=Q;if((0,AV.alwaysValidSchema)(G,W))return;let J=X.name("valid");X.forIn("key",Y,(H)=>{Q.setParams({propertyName:H}),Q.subschema({keyword:"propertyNames",data:H,dataTypes:["string"],propertyName:H,compositeRule:!0},J),X.if((0,JH.not)(J),()=>{if(Q.error(!0),!G.allErrors)X.break()})}),Q.ok(J)}};HH.default=UV});var XX=M((BH)=>{Object.defineProperty(BH,"__esModule",{value:!0});var pQ=N0(),C0=k(),qV=m0(),dQ=h(),ZV={message:"must NOT have additional properties",params:({params:Q})=>C0._`{additionalProperty: ${Q.additionalProperty}}`},OV={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ZV,code(Q){let{gen:X,schema:W,parentSchema:Y,data:G,errsCount:J,it:H}=Q;if(!J)throw Error("ajv implementation error");let{allErrors:$,opts:B}=H;if(H.props=!0,B.removeAdditional!=="all"&&(0,dQ.alwaysValidSchema)(H,W))return;let z=(0,pQ.allSchemaProperties)(Y.properties),K=(0,pQ.allSchemaProperties)(Y.patternProperties);F(),Q.ok(C0._`${J} === ${qV.default.errors}`);function F(){X.forIn("key",G,(O)=>{if(!z.length&&!K.length)V(O);else X.if(A(O),()=>V(O))})}function A(O){let Z;if(z.length>8){let T=(0,dQ.schemaRefOrVal)(H,Y.properties,"properties");Z=(0,pQ.isOwnProperty)(X,T,O)}else if(z.length)Z=(0,C0.or)(...z.map((T)=>C0._`${O} === ${T}`));else Z=C0.nil;if(K.length)Z=(0,C0.or)(Z,...K.map((T)=>C0._`${(0,pQ.usePattern)(Q,T)}.test(${O})`));return(0,C0.not)(Z)}function L(O){X.code(C0._`delete ${G}[${O}]`)}function V(O){if(B.removeAdditional==="all"||B.removeAdditional&&W===!1){L(O);return}if(W===!1){if(Q.setParams({additionalProperty:O}),Q.error(),!$)X.break();return}if(typeof W=="object"&&!(0,dQ.alwaysValidSchema)(H,W)){let Z=X.name("valid");if(B.removeAdditional==="failing")q(O,Z,!1),X.if((0,C0.not)(Z),()=>{Q.reset(),L(O)});else if(q(O,Z),!$)X.if((0,C0.not)(Z),()=>X.break())}}function q(O,Z,T){let I={keyword:"additionalProperties",dataProp:O,dataPropType:dQ.Type.Str};if(T===!1)Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1});Q.subschema(I,Z)}}};BH.default=OV});var LH=M((FH)=>{Object.defineProperty(FH,"__esModule",{value:!0});var NV=U9(),zH=N0(),WX=h(),KH=XX(),wV={keyword:"properties",type:"object",schemaType:"object",code(Q){let{gen:X,schema:W,parentSchema:Y,data:G,it:J}=Q;if(J.opts.removeAdditional==="all"&&Y.additionalProperties===void 0)KH.default.code(new NV.KeywordCxt(J,KH.default,"additionalProperties"));let H=(0,zH.allSchemaProperties)(W);for(let F of H)J.definedProperties.add(F);if(J.opts.unevaluated&&H.length&&J.props!==!0)J.props=WX.mergeEvaluated.props(X,(0,WX.toHash)(H),J.props);let $=H.filter((F)=>!(0,WX.alwaysValidSchema)(J,W[F]));if($.length===0)return;let B=X.name("valid");for(let F of $){if(z(F))K(F);else{if(X.if((0,zH.propertyInData)(X,G,F,J.opts.ownProperties)),K(F),!J.allErrors)X.else().var(B,!0);X.endIf()}Q.it.definedProperties.add(F),Q.ok(B)}function z(F){return J.opts.useDefaults&&!J.compositeRule&&W[F].default!==void 0}function K(F){Q.subschema({keyword:"properties",schemaProp:F,dataProp:F},B)}}};FH.default=wV});var qH=M((VH)=>{Object.defineProperty(VH,"__esModule",{value:!0});var AH=N0(),iQ=k(),DH=h(),UH=h(),EV={keyword:"patternProperties",type:"object",schemaType:"object",code(Q){let{gen:X,schema:W,data:Y,parentSchema:G,it:J}=Q,{opts:H}=J,$=(0,AH.allSchemaProperties)(W),B=$.filter((q)=>(0,DH.alwaysValidSchema)(J,W[q]));if($.length===0||B.length===$.length&&(!J.opts.unevaluated||J.props===!0))return;let z=H.strictSchema&&!H.allowMatchingProperties&&G.properties,K=X.name("valid");if(J.props!==!0&&!(J.props instanceof iQ.Name))J.props=(0,UH.evaluatedPropsToName)(X,J.props);let{props:F}=J;A();function A(){for(let q of $){if(z)L(q);if(J.allErrors)V(q);else X.var(K,!0),V(q),X.if(K)}}function L(q){for(let O in z)if(new RegExp(q).test(O))(0,DH.checkStrictMode)(J,`property ${O} matches pattern ${q} (use allowMatchingProperties)`)}function V(q){X.forIn("key",Y,(O)=>{X.if(iQ._`${(0,AH.usePattern)(Q,q)}.test(${O})`,()=>{let Z=B.includes(q);if(!Z)Q.subschema({keyword:"patternProperties",schemaProp:q,dataProp:O,dataPropType:UH.Type.Str},K);if(J.opts.unevaluated&&F!==!0)X.assign(iQ._`${F}[${O}]`,!0);else if(!Z&&!J.allErrors)X.if((0,iQ.not)(K),()=>X.break())})})}}};VH.default=EV});var OH=M((ZH)=>{Object.defineProperty(ZH,"__esModule",{value:!0});var bV=h(),TV={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(Q){let{gen:X,schema:W,it:Y}=Q;if((0,bV.alwaysValidSchema)(Y,W)){Q.fail();return}let G=X.name("valid");Q.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},G),Q.failResult(G,()=>Q.reset(),()=>Q.error())},error:{message:"must NOT be valid"}};ZH.default=TV});var NH=M((MH)=>{Object.defineProperty(MH,"__esModule",{value:!0});var RV=N0(),SV={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:RV.validateUnion,error:{message:"must match a schema in anyOf"}};MH.default=SV});var PH=M((wH)=>{Object.defineProperty(wH,"__esModule",{value:!0});var rQ=k(),kV=h(),vV={message:"must match exactly one schema in oneOf",params:({params:Q})=>rQ._`{passingSchemas: ${Q.passing}}`},_V={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:vV,code(Q){let{gen:X,schema:W,parentSchema:Y,it:G}=Q;if(!Array.isArray(W))throw Error("ajv implementation error");if(G.opts.discriminator&&Y.discriminator)return;let J=W,H=X.let("valid",!1),$=X.let("passing",null),B=X.name("_valid");Q.setParams({passing:$}),X.block(z),Q.result(H,()=>Q.reset(),()=>Q.error(!0));function z(){J.forEach((K,F)=>{let A;if((0,kV.alwaysValidSchema)(G,K))X.var(B,!0);else A=Q.subschema({keyword:"oneOf",schemaProp:F,compositeRule:!0},B);if(F>0)X.if(rQ._`${B} && ${H}`).assign(H,!1).assign($,rQ._`[${$}, ${F}]`).else();X.if(B,()=>{if(X.assign(H,!0),X.assign($,F),A)Q.mergeEvaluated(A,rQ.Name)})})}}};wH.default=_V});var IH=M((EH)=>{Object.defineProperty(EH,"__esModule",{value:!0});var gV=h(),yV={keyword:"allOf",schemaType:"array",code(Q){let{gen:X,schema:W,it:Y}=Q;if(!Array.isArray(W))throw Error("ajv implementation error");let G=X.name("valid");W.forEach((J,H)=>{if((0,gV.alwaysValidSchema)(Y,J))return;let $=Q.subschema({keyword:"allOf",schemaProp:H},G);Q.ok(G),Q.mergeEvaluated($)})}};EH.default=yV});var RH=M((jH)=>{Object.defineProperty(jH,"__esModule",{value:!0});var oQ=k(),TH=h(),uV={message:({params:Q})=>oQ.str`must match "${Q.ifClause}" schema`,params:({params:Q})=>oQ._`{failingKeyword: ${Q.ifClause}}`},fV={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:uV,code(Q){let{gen:X,parentSchema:W,it:Y}=Q;if(W.then===void 0&&W.else===void 0)(0,TH.checkStrictMode)(Y,'"if" without "then" and "else" is ignored');let G=bH(Y,"then"),J=bH(Y,"else");if(!G&&!J)return;let H=X.let("valid",!0),$=X.name("_valid");if(B(),Q.reset(),G&&J){let K=X.let("ifClause");Q.setParams({ifClause:K}),X.if($,z("then",K),z("else",K))}else if(G)X.if($,z("then"));else X.if((0,oQ.not)($),z("else"));Q.pass(H,()=>Q.error(!0));function B(){let K=Q.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},$);Q.mergeEvaluated(K)}function z(K,F){return()=>{let A=Q.subschema({keyword:K},$);if(X.assign(H,$),Q.mergeValidEvaluated(A,H),F)X.assign(F,oQ._`${K}`);else Q.setParams({ifClause:K})}}}};function bH(Q,X){let W=Q.schema[X];return W!==void 0&&!(0,TH.alwaysValidSchema)(Q,W)}jH.default=fV});var CH=M((SH)=>{Object.defineProperty(SH,"__esModule",{value:!0});var mV=h(),cV={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:Q,parentSchema:X,it:W}){if(X.if===void 0)(0,mV.checkStrictMode)(W,`"${Q}" without "if" is ignored`)}};SH.default=cV});var vH=M((kH)=>{Object.defineProperty(kH,"__esModule",{value:!0});var dV=s8(),iV=r5(),rV=e8(),oV=t5(),nV=s5(),tV=GH(),aV=$H(),sV=XX(),eV=LH(),Qq=qH(),Xq=OH(),Wq=NH(),Yq=PH(),Gq=IH(),Jq=RH(),Hq=CH();function $q(Q=!1){let X=[Xq.default,Wq.default,Yq.default,Gq.default,Jq.default,Hq.default,aV.default,sV.default,tV.default,eV.default,Qq.default];if(Q)X.push(iV.default,oV.default);else X.push(dV.default,rV.default);return X.push(nV.default),X}kH.default=$q});var xH=M((_H)=>{Object.defineProperty(_H,"__esModule",{value:!0});var s=k(),zq={message:({schemaCode:Q})=>s.str`must match format "${Q}"`,params:({schemaCode:Q})=>s._`{format: ${Q}}`},Kq={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:zq,code(Q,X){let{gen:W,data:Y,$data:G,schema:J,schemaCode:H,it:$}=Q,{opts:B,errSchemaPath:z,schemaEnv:K,self:F}=$;if(!B.validateFormats)return;if(G)A();else L();function A(){let V=W.scopeValue("formats",{ref:F.formats,code:B.code.formats}),q=W.const("fDef",s._`${V}[${H}]`),O=W.let("fType"),Z=W.let("format");W.if(s._`typeof ${q} == "object" && !(${q} instanceof RegExp)`,()=>W.assign(O,s._`${q}.type || "string"`).assign(Z,s._`${q}.validate`),()=>W.assign(O,s._`"string"`).assign(Z,q)),Q.fail$data((0,s.or)(T(),I()));function T(){if(B.strictSchema===!1)return s.nil;return s._`${H} && !${Z}`}function I(){let R=K.$async?s._`(${q}.async ? await ${Z}(${Y}) : ${Z}(${Y}))`:s._`${Z}(${Y})`,E=s._`(typeof ${Z} == "function" ? ${R} : ${Z}.test(${Y}))`;return s._`${Z} && ${Z} !== true && ${O} === ${X} && !${E}`}}function L(){let V=F.formats[J];if(!V){T();return}if(V===!0)return;let[q,O,Z]=I(V);if(q===X)Q.pass(R());function T(){if(B.strictSchema===!1){F.logger.warn(E());return}throw Error(E());function E(){return`unknown format "${J}" ignored in schema at path "${z}"`}}function I(E){let P0=E instanceof RegExp?(0,s.regexpCode)(E):B.code.formats?s._`${B.code.formats}${(0,s.getProperty)(J)}`:void 0,E0=W.scopeValue("formats",{key:J,ref:E,code:P0});if(typeof E=="object"&&!(E instanceof RegExp))return[E.type||"string",E.validate,s._`${E0}.validate`];return["string",E,E0]}function R(){if(typeof V=="object"&&!(V instanceof RegExp)&&V.async){if(!K.$async)throw Error("async format in sync schema");return s._`await ${Z}(${Y})`}return typeof O=="function"?s._`${Z}(${Y})`:s._`${Z}.test(${Y})`}}}};_H.default=Kq});var yH=M((gH)=>{Object.defineProperty(gH,"__esModule",{value:!0});var Lq=xH(),Aq=[Lq.default];gH.default=Aq});var fH=M((hH)=>{Object.defineProperty(hH,"__esModule",{value:!0});hH.contentVocabulary=hH.metadataVocabulary=void 0;hH.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];hH.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var cH=M((mH)=>{Object.defineProperty(mH,"__esModule",{value:!0});var Vq=F5(),qq=h5(),Zq=vH(),Oq=yH(),lH=fH(),Mq=[Vq.default,qq.default,(0,Zq.default)(),Oq.default,lH.metadataVocabulary,lH.contentVocabulary];mH.default=Mq});var rH=M((dH)=>{Object.defineProperty(dH,"__esModule",{value:!0});dH.DiscrError=void 0;var pH;(function(Q){Q.Tag="tag",Q.Mapping="mapping"})(pH||(dH.DiscrError=pH={}))});var tH=M((nH)=>{Object.defineProperty(nH,"__esModule",{value:!0});var S1=k(),YX=rH(),oH=RQ(),wq=V9(),Pq=h(),Eq={message:({params:{discrError:Q,tagName:X}})=>Q===YX.DiscrError.Tag?`tag "${X}" must be string`:`value of tag "${X}" must be in oneOf`,params:({params:{discrError:Q,tag:X,tagName:W}})=>S1._`{error: ${Q}, tag: ${W}, tagValue: ${X}}`},Iq={keyword:"discriminator",type:"object",schemaType:"object",error:Eq,code(Q){let{gen:X,data:W,schema:Y,parentSchema:G,it:J}=Q,{oneOf:H}=G;if(!J.opts.discriminator)throw Error("discriminator: requires discriminator option");let $=Y.propertyName;if(typeof $!="string")throw Error("discriminator: requires propertyName");if(Y.mapping)throw Error("discriminator: mapping is not supported");if(!H)throw Error("discriminator: requires oneOf keyword");let B=X.let("valid",!1),z=X.const("tag",S1._`${W}${(0,S1.getProperty)($)}`);X.if(S1._`typeof ${z} == "string"`,()=>K(),()=>Q.error(!1,{discrError:YX.DiscrError.Tag,tag:z,tagName:$})),Q.ok(B);function K(){let L=A();X.if(!1);for(let V in L)X.elseIf(S1._`${z} === ${V}`),X.assign(B,F(L[V]));X.else(),Q.error(!1,{discrError:YX.DiscrError.Mapping,tag:z,tagName:$}),X.endIf()}function F(L){let V=X.name("valid"),q=Q.subschema({keyword:"oneOf",schemaProp:L},V);return Q.mergeEvaluated(q,S1.Name),V}function A(){var L;let V={},q=Z(G),O=!0;for(let R=0;R<H.length;R++){let E=H[R];if((E===null||E===void 0?void 0:E.$ref)&&!(0,Pq.schemaHasRulesButRef)(E,J.self.RULES)){let E0=E.$ref;if(E=oH.resolveRef.call(J.self,J.schemaEnv.root,J.baseId,E0),E instanceof oH.SchemaEnv)E=E.schema;if(E===void 0)throw new wq.default(J.opts.uriResolver,J.baseId,E0)}let P0=(L=E===null||E===void 0?void 0:E.properties)===null||L===void 0?void 0:L[$];if(typeof P0!="object")throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${$}"`);O=O&&(q||Z(E)),T(P0,R)}if(!O)throw Error(`discriminator: "${$}" must be required`);return V;function Z({required:R}){return Array.isArray(R)&&R.includes($)}function T(R,E){if(R.const)I(R.const,E);else if(R.enum)for(let P0 of R.enum)I(P0,E);else throw Error(`discriminator: "properties/${$}" must have "const" or "enum"`)}function I(R,E){if(typeof R!="string"||R in V)throw Error(`discriminator: "${$}" values must be unique strings`);V[R]=E}}}};nH.default=Iq});var aH=M((tI,Tq)=>{Tq.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var JX=M((U0,GX)=>{Object.defineProperty(U0,"__esModule",{value:!0});U0.MissingRefError=U0.ValidationError=U0.CodeGen=U0.Name=U0.nil=U0.stringify=U0.str=U0._=U0.KeywordCxt=U0.Ajv=void 0;var jq=X5(),Rq=cH(),Sq=tH(),sH=aH(),Cq=["/properties"],nQ="http://json-schema.org/draft-07/schema";class j9 extends jq.default{_addVocabularies(){if(super._addVocabularies(),Rq.default.forEach((Q)=>this.addVocabulary(Q)),this.opts.discriminator)this.addKeyword(Sq.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let Q=this.opts.$data?this.$dataMetaSchema(sH,Cq):sH;this.addMetaSchema(Q,nQ,!1),this.refs["http://json-schema.org/schema"]=nQ}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(nQ)?nQ:void 0)}}U0.Ajv=j9;GX.exports=U0=j9;GX.exports.Ajv=j9;Object.defineProperty(U0,"__esModule",{value:!0});U0.default=j9;var kq=U9();Object.defineProperty(U0,"KeywordCxt",{enumerable:!0,get:function(){return kq.KeywordCxt}});var C1=k();Object.defineProperty(U0,"_",{enumerable:!0,get:function(){return C1._}});Object.defineProperty(U0,"str",{enumerable:!0,get:function(){return C1.str}});Object.defineProperty(U0,"stringify",{enumerable:!0,get:function(){return C1.stringify}});Object.defineProperty(U0,"nil",{enumerable:!0,get:function(){return C1.nil}});Object.defineProperty(U0,"Name",{enumerable:!0,get:function(){return C1.Name}});Object.defineProperty(U0,"CodeGen",{enumerable:!0,get:function(){return C1.CodeGen}});var vq=TQ();Object.defineProperty(U0,"ValidationError",{enumerable:!0,get:function(){return vq.default}});var _q=V9();Object.defineProperty(U0,"MissingRefError",{enumerable:!0,get:function(){return _q.default}})});var B3=M((H3)=>{Object.defineProperty(H3,"__esModule",{value:!0});H3.formatNames=H3.fastFormats=H3.fullFormats=void 0;function x0(Q,X){return{validate:Q,compare:X}}H3.fullFormats={date:x0(W3,zX),time:x0($X(!0),KX),"date-time":x0(eH(!0),G3),"iso-time":x0($X(),Y3),"iso-date-time":x0(eH(),J3),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:mq,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:nq,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:cq,int32:{type:"number",validate:iq},int64:{type:"number",validate:rq},float:{type:"number",validate:X3},double:{type:"number",validate:X3},password:!0,binary:!0};H3.fastFormats={...H3.fullFormats,date:x0(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,zX),time:x0(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,KX),"date-time":x0(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,G3),"iso-time":x0(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Y3),"iso-date-time":x0(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,J3),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};H3.formatNames=Object.keys(H3.fullFormats);function yq(Q){return Q%4===0&&(Q%100!==0||Q%400===0)}var hq=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,uq=[0,31,28,31,30,31,30,31,31,30,31,30,31];function W3(Q){let X=hq.exec(Q);if(!X)return!1;let W=+X[1],Y=+X[2],G=+X[3];return Y>=1&&Y<=12&&G>=1&&G<=(Y===2&&yq(W)?29:uq[Y])}function zX(Q,X){if(!(Q&&X))return;if(Q>X)return 1;if(Q<X)return-1;return 0}var HX=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function $X(Q){return function(W){let Y=HX.exec(W);if(!Y)return!1;let G=+Y[1],J=+Y[2],H=+Y[3],$=Y[4],B=Y[5]==="-"?-1:1,z=+(Y[6]||0),K=+(Y[7]||0);if(z>23||K>59||Q&&!$)return!1;if(G<=23&&J<=59&&H<60)return!0;let F=J-K*B,A=G-z*B-(F<0?1:0);return(A===23||A===-1)&&(F===59||F===-1)&&H<61}}function KX(Q,X){if(!(Q&&X))return;let W=new Date("2020-01-01T"+Q).valueOf(),Y=new Date("2020-01-01T"+X).valueOf();if(!(W&&Y))return;return W-Y}function Y3(Q,X){if(!(Q&&X))return;let W=HX.exec(Q),Y=HX.exec(X);if(!(W&&Y))return;if(Q=W[1]+W[2]+W[3],X=Y[1]+Y[2]+Y[3],Q>X)return 1;if(Q<X)return-1;return 0}var BX=/t|\s/i;function eH(Q){let X=$X(Q);return function(Y){let G=Y.split(BX);return G.length===2&&W3(G[0])&&X(G[1])}}function G3(Q,X){if(!(Q&&X))return;let W=new Date(Q).valueOf(),Y=new Date(X).valueOf();if(!(W&&Y))return;return W-Y}function J3(Q,X){if(!(Q&&X))return;let[W,Y]=Q.split(BX),[G,J]=X.split(BX),H=zX(W,G);if(H===void 0)return;return H||KX(Y,J)}var fq=/\/|:/,lq=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function mq(Q){return fq.test(Q)&&lq.test(Q)}var Q3=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function cq(Q){return Q3.lastIndex=0,Q3.test(Q)}var pq=-2147483648,dq=2147483647;function iq(Q){return Number.isInteger(Q)&&Q<=dq&&Q>=pq}function rq(Q){return Number.isInteger(Q)}function X3(){return!0}var oq=/[^\\]\\Z/;function nq(Q){if(oq.test(Q))return!1;try{return new RegExp(Q),!0}catch(X){return!1}}});var K3=M((z3)=>{Object.defineProperty(z3,"__esModule",{value:!0});z3.formatLimitDefinition=void 0;var aq=JX(),k0=k(),J1=k0.operators,tQ={formatMaximum:{okStr:"<=",ok:J1.LTE,fail:J1.GT},formatMinimum:{okStr:">=",ok:J1.GTE,fail:J1.LT},formatExclusiveMaximum:{okStr:"<",ok:J1.LT,fail:J1.GTE},formatExclusiveMinimum:{okStr:">",ok:J1.GT,fail:J1.LTE}},sq={message:({keyword:Q,schemaCode:X})=>k0.str`should be ${tQ[Q].okStr} ${X}`,params:({keyword:Q,schemaCode:X})=>k0._`{comparison: ${tQ[Q].okStr}, limit: ${X}}`};z3.formatLimitDefinition={keyword:Object.keys(tQ),type:"string",schemaType:"string",$data:!0,error:sq,code(Q){let{gen:X,data:W,schemaCode:Y,keyword:G,it:J}=Q,{opts:H,self:$}=J;if(!H.validateFormats)return;let B=new aq.KeywordCxt(J,$.RULES.all.format.definition,"format");if(B.$data)z();else K();function z(){let A=X.scopeValue("formats",{ref:$.formats,code:H.code.formats}),L=X.const("fmt",k0._`${A}[${B.schemaCode}]`);Q.fail$data((0,k0.or)(k0._`typeof ${L} != "object"`,k0._`${L} instanceof RegExp`,k0._`typeof ${L}.compare != "function"`,F(L)))}function K(){let A=B.schema,L=$.formats[A];if(!L||L===!0)return;if(typeof L!="object"||L instanceof RegExp||typeof L.compare!="function")throw Error(`"${G}": format "${A}" does not define "compare" function`);let V=X.scopeValue("formats",{key:A,ref:L,code:H.code.formats?k0._`${H.code.formats}${(0,k0.getProperty)(A)}`:void 0});Q.fail$data(F(V))}function F(A){return k0._`${A}.compare(${W}, ${Y}) ${tQ[G].fail} 0`}},dependencies:["format"]};var eq=(Q)=>{return Q.addKeyword(z3.formatLimitDefinition),Q};z3.default=eq});var D3=M((R9,A3)=>{Object.defineProperty(R9,"__esModule",{value:!0});var k1=B3(),XZ=K3(),AX=k(),F3=new AX.Name("fullFormats"),WZ=new AX.Name("fastFormats"),DX=(Q,X={keywords:!0})=>{if(Array.isArray(X))return L3(Q,X,k1.fullFormats,F3),Q;let[W,Y]=X.mode==="fast"?[k1.fastFormats,WZ]:[k1.fullFormats,F3],G=X.formats||k1.formatNames;if(L3(Q,G,W,Y),X.keywords)(0,XZ.default)(Q);return Q};DX.get=(Q,X="full")=>{let Y=(X==="fast"?k1.fastFormats:k1.fullFormats)[Q];if(!Y)throw Error(`Unknown format "${Q}"`);return Y};function L3(Q,X,W,Y){var G,J;(G=(J=Q.opts.code).formats)!==null&&G!==void 0||(J.formats=AX._`require("ajv-formats/dist/formats").${Y}`);for(let H of X)Q.addFormat(H,W[H])}A3.exports=R9=DX;Object.defineProperty(R9,"__esModule",{value:!0});R9.default=DX});var KZ=Object.freeze({status:"aborted"});function U(Q,X,W){function Y($,B){if(!$._zod)Object.defineProperty($,"_zod",{value:{def:B,constr:H,traits:new Set},enumerable:!1});if($._zod.traits.has(Q))return;$._zod.traits.add(Q),X($,B);let z=H.prototype,K=Object.keys(z);for(let F=0;F<K.length;F++){let A=K[F];if(!(A in $))$[A]=z[A].bind($)}}let G=W?.Parent??Object;class J extends G{}Object.defineProperty(J,"name",{value:Q});function H($){var B;let z=W?.Parent?new J:this;Y(z,$),(B=z._zod).deferred??(B.deferred=[]);for(let K of z._zod.deferred)K();return z}return Object.defineProperty(H,"init",{value:Y}),Object.defineProperty(H,Symbol.hasInstance,{value:($)=>{if(W?.Parent&&$ instanceof W.Parent)return!0;return $?._zod?.traits?.has(Q)}}),Object.defineProperty(H,"name",{value:Q}),H}var FZ=Symbol("zod_brand");class g0 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class x1 extends Error{constructor(Q){super(`Encountered unidirectional transform during encode: ${Q}`);this.name="ZodEncodeError"}}var S9={};function Z0(Q){if(Q)Object.assign(S9,Q);return S9}var y={};TX(y,{unwrapMessage:()=>g1,uint8ArrayToHex:()=>s3,uint8ArrayToBase64url:()=>t3,uint8ArrayToBase64:()=>_X,stringifyPrimitive:()=>_9,slugify:()=>Y6,shallowClone:()=>RX,safeExtend:()=>p3,required:()=>r3,randomString:()=>y3,propertyKeyTypes:()=>J6,promiseAllObject:()=>g3,primitiveTypes:()=>SX,prefixIssues:()=>u0,pick:()=>l3,partial:()=>i3,parsedType:()=>B6,optionalKeys:()=>H6,omit:()=>m3,objectClone:()=>v3,numKeys:()=>h3,nullish:()=>h1,normalizeParams:()=>b,mergeDefs:()=>y0,merge:()=>d3,jsonStringifyReplacer:()=>D1,joinValues:()=>C9,issue:()=>V1,isPlainObject:()=>r0,isObject:()=>H1,hexToUint8Array:()=>a3,getSizableOrigin:()=>kX,getParsedType:()=>u3,getLengthableOrigin:()=>f1,getEnumValues:()=>y1,getElementAtPath:()=>x3,floatSafeRemainder:()=>W6,finalizeIssue:()=>b0,extend:()=>c3,escapeRegex:()=>h0,esc:()=>k9,defineLazy:()=>u,createTransparentProxy:()=>f3,cloneDef:()=>_3,clone:()=>I0,cleanRegex:()=>u1,cleanEnum:()=>o3,captureStackTrace:()=>v9,cached:()=>U1,base64urlToUint8Array:()=>n3,base64ToUint8Array:()=>vX,assignProp:()=>i0,assertNotEqual:()=>R3,assertNever:()=>C3,assertIs:()=>S3,assertEqual:()=>j3,assert:()=>k3,allowsEval:()=>G6,aborted:()=>o0,NUMBER_FORMAT_RANGES:()=>$6,Class:()=>xX,BIGINT_FORMAT_RANGES:()=>CX});function j3(Q){return Q}function R3(Q){return Q}function S3(Q){}function C3(Q){throw Error("Unexpected value in exhaustive check")}function k3(Q){}function y1(Q){let X=Object.values(Q).filter((Y)=>typeof Y==="number");return Object.entries(Q).filter(([Y,G])=>X.indexOf(+Y)===-1).map(([Y,G])=>G)}function C9(Q,X="|"){return Q.map((W)=>_9(W)).join(X)}function D1(Q,X){if(typeof X==="bigint")return X.toString();return X}function U1(Q){return{get value(){{let W=Q();return Object.defineProperty(this,"value",{value:W}),W}throw Error("cached value already set")}}}function h1(Q){return Q===null||Q===void 0}function u1(Q){let X=Q.startsWith("^")?1:0,W=Q.endsWith("$")?Q.length-1:Q.length;return Q.slice(X,W)}function W6(Q,X){let W=(Q.toString().split(".")[1]||"").length,Y=X.toString(),G=(Y.split(".")[1]||"").length;if(G===0&&/\d?e-\d?/.test(Y)){let B=Y.match(/\d?e-(\d?)/);if(B?.[1])G=Number.parseInt(B[1])}let J=W>G?W:G,H=Number.parseInt(Q.toFixed(J).replace(".","")),$=Number.parseInt(X.toFixed(J).replace(".",""));return H%$/10**J}var jX=Symbol("evaluating");function u(Q,X,W){let Y=void 0;Object.defineProperty(Q,X,{get(){if(Y===jX)return;if(Y===void 0)Y=jX,Y=W();return Y},set(G){Object.defineProperty(Q,X,{value:G})},configurable:!0})}function v3(Q){return Object.create(Object.getPrototypeOf(Q),Object.getOwnPropertyDescriptors(Q))}function i0(Q,X,W){Object.defineProperty(Q,X,{value:W,writable:!0,enumerable:!0,configurable:!0})}function y0(...Q){let X={};for(let W of Q){let Y=Object.getOwnPropertyDescriptors(W);Object.assign(X,Y)}return Object.defineProperties({},X)}function _3(Q){return y0(Q._zod.def)}function x3(Q,X){if(!X)return Q;return X.reduce((W,Y)=>W?.[Y],Q)}function g3(Q){let X=Object.keys(Q),W=X.map((Y)=>Q[Y]);return Promise.all(W).then((Y)=>{let G={};for(let J=0;J<X.length;J++)G[X[J]]=Y[J];return G})}function y3(Q=10){let W="";for(let Y=0;Y<Q;Y++)W+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)];return W}function k9(Q){return JSON.stringify(Q)}function Y6(Q){return Q.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}var v9="captureStackTrace"in Error?Error.captureStackTrace:(...Q)=>{};function H1(Q){return typeof Q==="object"&&Q!==null&&!Array.isArray(Q)}var G6=U1(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(Q){return!1}});function r0(Q){if(H1(Q)===!1)return!1;let X=Q.constructor;if(X===void 0)return!0;if(typeof X!=="function")return!0;let W=X.prototype;if(H1(W)===!1)return!1;if(Object.prototype.hasOwnProperty.call(W,"isPrototypeOf")===!1)return!1;return!0}function RX(Q){if(r0(Q))return{...Q};if(Array.isArray(Q))return[...Q];return Q}function h3(Q){let X=0;for(let W in Q)if(Object.prototype.hasOwnProperty.call(Q,W))X++;return X}var u3=(Q)=>{let X=typeof Q;switch(X){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(Q)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(Q))return"array";if(Q===null)return"null";if(Q.then&&typeof Q.then==="function"&&Q.catch&&typeof Q.catch==="function")return"promise";if(typeof Map<"u"&&Q instanceof Map)return"map";if(typeof Set<"u"&&Q instanceof Set)return"set";if(typeof Date<"u"&&Q instanceof Date)return"date";if(typeof File<"u"&&Q instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${X}`)}},J6=new Set(["string","number","symbol"]),SX=new Set(["string","number","bigint","boolean","symbol","undefined"]);function h0(Q){return Q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I0(Q,X,W){let Y=new Q._zod.constr(X??Q._zod.def);if(!X||W?.parent)Y._zod.parent=Q;return Y}function b(Q){let X=Q;if(!X)return{};if(typeof X==="string")return{error:()=>X};if(X?.message!==void 0){if(X?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");X.error=X.message}if(delete X.message,typeof X.error==="string")return{...X,error:()=>X.error};return X}function f3(Q){let X;return new Proxy({},{get(W,Y,G){return X??(X=Q()),Reflect.get(X,Y,G)},set(W,Y,G,J){return X??(X=Q()),Reflect.set(X,Y,G,J)},has(W,Y){return X??(X=Q()),Reflect.has(X,Y)},deleteProperty(W,Y){return X??(X=Q()),Reflect.deleteProperty(X,Y)},ownKeys(W){return X??(X=Q()),Reflect.ownKeys(X)},getOwnPropertyDescriptor(W,Y){return X??(X=Q()),Reflect.getOwnPropertyDescriptor(X,Y)},defineProperty(W,Y,G){return X??(X=Q()),Reflect.defineProperty(X,Y,G)}})}function _9(Q){if(typeof Q==="bigint")return Q.toString()+"n";if(typeof Q==="string")return`"${Q}"`;return`${Q}`}function H6(Q){return Object.keys(Q).filter((X)=>{return Q[X]._zod.optin==="optional"&&Q[X]._zod.optout==="optional"})}var $6={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-340282346638528860000000000000000000000,340282346638528860000000000000000000000],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},CX={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function l3(Q,X){let W=Q._zod.def,Y=W.checks;if(Y&&Y.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let J=y0(Q._zod.def,{get shape(){let H={};for(let $ in X){if(!($ in W.shape))throw Error(`Unrecognized key: "${$}"`);if(!X[$])continue;H[$]=W.shape[$]}return i0(this,"shape",H),H},checks:[]});return I0(Q,J)}function m3(Q,X){let W=Q._zod.def,Y=W.checks;if(Y&&Y.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let J=y0(Q._zod.def,{get shape(){let H={...Q._zod.def.shape};for(let $ in X){if(!($ in W.shape))throw Error(`Unrecognized key: "${$}"`);if(!X[$])continue;delete H[$]}return i0(this,"shape",H),H},checks:[]});return I0(Q,J)}function c3(Q,X){if(!r0(X))throw Error("Invalid input to extend: expected a plain object");let W=Q._zod.def.checks;if(W&&W.length>0){let J=Q._zod.def.shape;for(let H in X)if(Object.getOwnPropertyDescriptor(J,H)!==void 0)throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let G=y0(Q._zod.def,{get shape(){let J={...Q._zod.def.shape,...X};return i0(this,"shape",J),J}});return I0(Q,G)}function p3(Q,X){if(!r0(X))throw Error("Invalid input to safeExtend: expected a plain object");let W=y0(Q._zod.def,{get shape(){let Y={...Q._zod.def.shape,...X};return i0(this,"shape",Y),Y}});return I0(Q,W)}function d3(Q,X){let W=y0(Q._zod.def,{get shape(){let Y={...Q._zod.def.shape,...X._zod.def.shape};return i0(this,"shape",Y),Y},get catchall(){return X._zod.def.catchall},checks:[]});return I0(Q,W)}function i3(Q,X,W){let G=X._zod.def.checks;if(G&&G.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let H=y0(X._zod.def,{get shape(){let $=X._zod.def.shape,B={...$};if(W)for(let z in W){if(!(z in $))throw Error(`Unrecognized key: "${z}"`);if(!W[z])continue;B[z]=Q?new Q({type:"optional",innerType:$[z]}):$[z]}else for(let z in $)B[z]=Q?new Q({type:"optional",innerType:$[z]}):$[z];return i0(this,"shape",B),B},checks:[]});return I0(X,H)}function r3(Q,X,W){let Y=y0(X._zod.def,{get shape(){let G=X._zod.def.shape,J={...G};if(W)for(let H in W){if(!(H in J))throw Error(`Unrecognized key: "${H}"`);if(!W[H])continue;J[H]=new Q({type:"nonoptional",innerType:G[H]})}else for(let H in G)J[H]=new Q({type:"nonoptional",innerType:G[H]});return i0(this,"shape",J),J}});return I0(X,Y)}function o0(Q,X=0){if(Q.aborted===!0)return!0;for(let W=X;W<Q.issues.length;W++)if(Q.issues[W]?.continue!==!0)return!0;return!1}function u0(Q,X){return X.map((W)=>{var Y;return(Y=W).path??(Y.path=[]),W.path.unshift(Q),W})}function g1(Q){return typeof Q==="string"?Q:Q?.message}function b0(Q,X,W){let Y={...Q,path:Q.path??[]};if(!Q.message){let G=g1(Q.inst?._zod.def?.error?.(Q))??g1(X?.error?.(Q))??g1(W.customError?.(Q))??g1(W.localeError?.(Q))??"Invalid input";Y.message=G}if(delete Y.inst,delete Y.continue,!X?.reportInput)delete Y.input;return Y}function kX(Q){if(Q instanceof Set)return"set";if(Q instanceof Map)return"map";if(Q instanceof File)return"file";return"unknown"}function f1(Q){if(Array.isArray(Q))return"array";if(typeof Q==="string")return"string";return"unknown"}function B6(Q){let X=typeof Q;switch(X){case"number":return Number.isNaN(Q)?"nan":"number";case"object":{if(Q===null)return"null";if(Array.isArray(Q))return"array";let W=Q;if(W&&Object.getPrototypeOf(W)!==Object.prototype&&"constructor"in W&&W.constructor)return W.constructor.name}}return X}function V1(...Q){let[X,W,Y]=Q;if(typeof X==="string")return{message:X,code:"custom",input:W,inst:Y};return{...X}}function o3(Q){return Object.entries(Q).filter(([X,W])=>{return Number.isNaN(Number.parseInt(X,10))}).map((X)=>X[1])}function vX(Q){let X=atob(Q),W=new Uint8Array(X.length);for(let Y=0;Y<X.length;Y++)W[Y]=X.charCodeAt(Y);return W}function _X(Q){let X="";for(let W=0;W<Q.length;W++)X+=String.fromCharCode(Q[W]);return btoa(X)}function n3(Q){let X=Q.replace(/-/g,"+").replace(/_/g,"/"),W="=".repeat((4-X.length%4)%4);return vX(X+W)}function t3(Q){return _X(Q).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function a3(Q){let X=Q.replace(/^0x/,"");if(X.length%2!==0)throw Error("Invalid hex string length");let W=new Uint8Array(X.length/2);for(let Y=0;Y<X.length;Y+=2)W[Y/2]=Number.parseInt(X.slice(Y,Y+2),16);return W}function s3(Q){return Array.from(Q).map((X)=>X.toString(16).padStart(2,"0")).join("")}class xX{constructor(...Q){}}var gX=(Q,X)=>{Q.name="$ZodError",Object.defineProperty(Q,"_zod",{value:Q._zod,enumerable:!1}),Object.defineProperty(Q,"issues",{value:X,enumerable:!1}),Q.message=JSON.stringify(X,D1,2),Object.defineProperty(Q,"toString",{value:()=>Q.message,enumerable:!1})},x9=U("$ZodError",gX),z6=U("$ZodError",gX,{Parent:Error});function yX(Q,X=(W)=>W.message){let W={},Y=[];for(let G of Q.issues)if(G.path.length>0)W[G.path[0]]=W[G.path[0]]||[],W[G.path[0]].push(X(G));else Y.push(X(G));return{formErrors:Y,fieldErrors:W}}function hX(Q,X=(W)=>W.message){let W={_errors:[]},Y=(G)=>{for(let J of G.issues)if(J.code==="invalid_union"&&J.errors.length)J.errors.map((H)=>Y({issues:H}));else if(J.code==="invalid_key")Y({issues:J.issues});else if(J.code==="invalid_element")Y({issues:J.issues});else if(J.path.length===0)W._errors.push(X(J));else{let H=W,$=0;while($<J.path.length){let B=J.path[$];if($!==J.path.length-1)H[B]=H[B]||{_errors:[]};else H[B]=H[B]||{_errors:[]},H[B]._errors.push(X(J));H=H[B],$++}}};return Y(Q),W}var g9=(Q)=>(X,W,Y,G)=>{let J=Y?Object.assign(Y,{async:!1}):{async:!1},H=X._zod.run({value:W,issues:[]},J);if(H instanceof Promise)throw new g0;if(H.issues.length){let $=new(G?.Err??Q)(H.issues.map((B)=>b0(B,J,Z0())));throw v9($,G?.callee),$}return H.value};var y9=(Q)=>async(X,W,Y,G)=>{let J=Y?Object.assign(Y,{async:!0}):{async:!0},H=X._zod.run({value:W,issues:[]},J);if(H instanceof Promise)H=await H;if(H.issues.length){let $=new(G?.Err??Q)(H.issues.map((B)=>b0(B,J,Z0())));throw v9($,G?.callee),$}return H.value};var l1=(Q)=>(X,W,Y)=>{let G=Y?{...Y,async:!1}:{async:!1},J=X._zod.run({value:W,issues:[]},G);if(J instanceof Promise)throw new g0;return J.issues.length?{success:!1,error:new(Q??x9)(J.issues.map((H)=>b0(H,G,Z0())))}:{success:!0,data:J.value}},m1=l1(z6),c1=(Q)=>async(X,W,Y)=>{let G=Y?Object.assign(Y,{async:!0}):{async:!0},J=X._zod.run({value:W,issues:[]},G);if(J instanceof Promise)J=await J;return J.issues.length?{success:!1,error:new Q(J.issues.map((H)=>b0(H,G,Z0())))}:{success:!0,data:J.value}},h9=c1(z6),uX=(Q)=>(X,W,Y)=>{let G=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return g9(Q)(X,W,G)};var fX=(Q)=>(X,W,Y)=>{return g9(Q)(X,W,Y)};var lX=(Q)=>async(X,W,Y)=>{let G=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return y9(Q)(X,W,G)};var mX=(Q)=>async(X,W,Y)=>{return y9(Q)(X,W,Y)};var cX=(Q)=>(X,W,Y)=>{let G=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return l1(Q)(X,W,G)};var pX=(Q)=>(X,W,Y)=>{return l1(Q)(X,W,Y)};var dX=(Q)=>async(X,W,Y)=>{let G=Y?Object.assign(Y,{direction:"backward"}):{direction:"backward"};return c1(Q)(X,W,G)};var iX=(Q)=>async(X,W,Y)=>{return c1(Q)(X,W,Y)};var rX=/^[cC][^\s-]{8,}$/,oX=/^[0-9a-z]+$/,nX=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,tX=/^[0-9a-vA-V]{20}$/,aX=/^[A-Za-z0-9]{27}$/,sX=/^[a-zA-Z0-9_-]{21}$/,eX=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/;var Q4=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,K6=(Q)=>{if(!Q)return/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${Q}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`)};var X4=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;var Q$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function W4(){return new RegExp(Q$,"u")}var Y4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;var J4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,H4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$4=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,F6=/^[A-Za-z0-9_-]*$/;var B4=/^\+[1-9]\d{6,14}$/,z4="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",K4=new RegExp(`^${z4}$`);function F4(Q){return typeof Q.precision==="number"?Q.precision===-1?"(?:[01]\\d|2[0-3]):[0-5]\\d":Q.precision===0?"(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d":`(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d\\.\\d{${Q.precision}}`:"(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?"}function L4(Q){return new RegExp(`^${F4(Q)}$`)}function A4(Q){let X=F4({precision:Q.precision}),W=["Z"];if(Q.local)W.push("");if(Q.offset)W.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let Y=`${X}(?:${W.join("|")})`;return new RegExp(`^${z4}T(?:${Y})$`)}var D4=(Q)=>{let X=Q?`[\\s\\S]{${Q?.minimum??0},${Q?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${X}$`)};var U4=/^-?\d+$/,u9=/^-?\d+(?:\.\d+)?$/,V4=/^(?:true|false)$/i,q4=/^null$/i;var Z4=/^[^A-Z]*$/,O4=/^[^a-z]*$/;var Q0=U("$ZodCheck",(Q,X)=>{var W;Q._zod??(Q._zod={}),Q._zod.def=X,(W=Q._zod).onattach??(W.onattach=[])}),M4={number:"number",bigint:"bigint",object:"date"},L6=U("$ZodCheckLessThan",(Q,X)=>{Q0.init(Q,X);let W=M4[typeof X.value];Q._zod.onattach.push((Y)=>{let G=Y._zod.bag,J=(X.inclusive?G.maximum:G.exclusiveMaximum)??Number.POSITIVE_INFINITY;if(X.value<J)if(X.inclusive)G.maximum=X.value;else G.exclusiveMaximum=X.value}),Q._zod.check=(Y)=>{if(X.inclusive?Y.value<=X.value:Y.value<X.value)return;Y.issues.push({origin:W,code:"too_big",maximum:typeof X.value==="object"?X.value.getTime():X.value,input:Y.value,inclusive:X.inclusive,inst:Q,continue:!X.abort})}}),A6=U("$ZodCheckGreaterThan",(Q,X)=>{Q0.init(Q,X);let W=M4[typeof X.value];Q._zod.onattach.push((Y)=>{let G=Y._zod.bag,J=(X.inclusive?G.minimum:G.exclusiveMinimum)??Number.NEGATIVE_INFINITY;if(X.value>J)if(X.inclusive)G.minimum=X.value;else G.exclusiveMinimum=X.value}),Q._zod.check=(Y)=>{if(X.inclusive?Y.value>=X.value:Y.value>X.value)return;Y.issues.push({origin:W,code:"too_small",minimum:typeof X.value==="object"?X.value.getTime():X.value,input:Y.value,inclusive:X.inclusive,inst:Q,continue:!X.abort})}}),N4=U("$ZodCheckMultipleOf",(Q,X)=>{Q0.init(Q,X),Q._zod.onattach.push((W)=>{var Y;(Y=W._zod.bag).multipleOf??(Y.multipleOf=X.value)}),Q._zod.check=(W)=>{if(typeof W.value!==typeof X.value)throw Error("Cannot mix number and bigint in multiple_of check.");if(typeof W.value==="bigint"?W.value%X.value===BigInt(0):W6(W.value,X.value)===0)return;W.issues.push({origin:typeof W.value,code:"not_multiple_of",divisor:X.value,input:W.value,inst:Q,continue:!X.abort})}}),w4=U("$ZodCheckNumberFormat",(Q,X)=>{Q0.init(Q,X),X.format=X.format||"float64";let W=X.format?.includes("int"),Y=W?"int":"number",[G,J]=$6[X.format];Q._zod.onattach.push((H)=>{let $=H._zod.bag;if($.format=X.format,$.minimum=G,$.maximum=J,W)$.pattern=U4}),Q._zod.check=(H)=>{let $=H.value;if(W){if(!Number.isInteger($)){H.issues.push({expected:Y,format:X.format,code:"invalid_type",continue:!1,input:$,inst:Q});return}if(!Number.isSafeInteger($)){if($>0)H.issues.push({input:$,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Q,origin:Y,inclusive:!0,continue:!X.abort});else H.issues.push({input:$,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Q,origin:Y,inclusive:!0,continue:!X.abort});return}}if($<G)H.issues.push({origin:"number",input:$,code:"too_small",minimum:G,inclusive:!0,inst:Q,continue:!X.abort});if($>J)H.issues.push({origin:"number",input:$,code:"too_big",maximum:J,inclusive:!0,inst:Q,continue:!X.abort})}});var P4=U("$ZodCheckMaxLength",(Q,X)=>{var W;Q0.init(Q,X),(W=Q._zod.def).when??(W.when=(Y)=>{let G=Y.value;return!h1(G)&&G.length!==void 0}),Q._zod.onattach.push((Y)=>{let G=Y._zod.bag.maximum??Number.POSITIVE_INFINITY;if(X.maximum<G)Y._zod.bag.maximum=X.maximum}),Q._zod.check=(Y)=>{let G=Y.value;if(G.length<=X.maximum)return;let H=f1(G);Y.issues.push({origin:H,code:"too_big",maximum:X.maximum,inclusive:!0,input:G,inst:Q,continue:!X.abort})}}),E4=U("$ZodCheckMinLength",(Q,X)=>{var W;Q0.init(Q,X),(W=Q._zod.def).when??(W.when=(Y)=>{let G=Y.value;return!h1(G)&&G.length!==void 0}),Q._zod.onattach.push((Y)=>{let G=Y._zod.bag.minimum??Number.NEGATIVE_INFINITY;if(X.minimum>G)Y._zod.bag.minimum=X.minimum}),Q._zod.check=(Y)=>{let G=Y.value;if(G.length>=X.minimum)return;let H=f1(G);Y.issues.push({origin:H,code:"too_small",minimum:X.minimum,inclusive:!0,input:G,inst:Q,continue:!X.abort})}}),I4=U("$ZodCheckLengthEquals",(Q,X)=>{var W;Q0.init(Q,X),(W=Q._zod.def).when??(W.when=(Y)=>{let G=Y.value;return!h1(G)&&G.length!==void 0}),Q._zod.onattach.push((Y)=>{let G=Y._zod.bag;G.minimum=X.length,G.maximum=X.length,G.length=X.length}),Q._zod.check=(Y)=>{let G=Y.value,J=G.length;if(J===X.length)return;let H=f1(G),$=J>X.length;Y.issues.push({origin:H,...$?{code:"too_big",maximum:X.length}:{code:"too_small",minimum:X.length},inclusive:!0,exact:!0,input:Y.value,inst:Q,continue:!X.abort})}}),p1=U("$ZodCheckStringFormat",(Q,X)=>{var W,Y;if(Q0.init(Q,X),Q._zod.onattach.push((G)=>{let J=G._zod.bag;if(J.format=X.format,X.pattern)J.patterns??(J.patterns=new Set),J.patterns.add(X.pattern)}),X.pattern)(W=Q._zod).check??(W.check=(G)=>{if(X.pattern.lastIndex=0,X.pattern.test(G.value))return;G.issues.push({origin:"string",code:"invalid_format",format:X.format,input:G.value,...X.pattern?{pattern:X.pattern.toString()}:{},inst:Q,continue:!X.abort})});else(Y=Q._zod).check??(Y.check=()=>{})}),b4=U("$ZodCheckRegex",(Q,X)=>{p1.init(Q,X),Q._zod.check=(W)=>{if(X.pattern.lastIndex=0,X.pattern.test(W.value))return;W.issues.push({origin:"string",code:"invalid_format",format:"regex",input:W.value,pattern:X.pattern.toString(),inst:Q,continue:!X.abort})}}),T4=U("$ZodCheckLowerCase",(Q,X)=>{X.pattern??(X.pattern=Z4),p1.init(Q,X)}),j4=U("$ZodCheckUpperCase",(Q,X)=>{X.pattern??(X.pattern=O4),p1.init(Q,X)}),R4=U("$ZodCheckIncludes",(Q,X)=>{Q0.init(Q,X);let W=h0(X.includes),Y=new RegExp(typeof X.position==="number"?`^.{${X.position}}${W}`:W);X.pattern=Y,Q._zod.onattach.push((G)=>{let J=G._zod.bag;J.patterns??(J.patterns=new Set),J.patterns.add(Y)}),Q._zod.check=(G)=>{if(G.value.includes(X.includes,X.position))return;G.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:X.includes,input:G.value,inst:Q,continue:!X.abort})}}),S4=U("$ZodCheckStartsWith",(Q,X)=>{Q0.init(Q,X);let W=new RegExp(`^${h0(X.prefix)}.*`);X.pattern??(X.pattern=W),Q._zod.onattach.push((Y)=>{let G=Y._zod.bag;G.patterns??(G.patterns=new Set),G.patterns.add(W)}),Q._zod.check=(Y)=>{if(Y.value.startsWith(X.prefix))return;Y.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:X.prefix,input:Y.value,inst:Q,continue:!X.abort})}}),C4=U("$ZodCheckEndsWith",(Q,X)=>{Q0.init(Q,X);let W=new RegExp(`.*${h0(X.suffix)}$`);X.pattern??(X.pattern=W),Q._zod.onattach.push((Y)=>{let G=Y._zod.bag;G.patterns??(G.patterns=new Set),G.patterns.add(W)}),Q._zod.check=(Y)=>{if(Y.value.endsWith(X.suffix))return;Y.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:X.suffix,input:Y.value,inst:Q,continue:!X.abort})}});var k4=U("$ZodCheckOverwrite",(Q,X)=>{Q0.init(Q,X),Q._zod.check=(W)=>{W.value=X.tx(W.value)}});class D6{constructor(Q=[]){if(this.content=[],this.indent=0,this)this.args=Q}indented(Q){this.indent+=1,Q(this),this.indent-=1}write(Q){if(typeof Q==="function"){Q(this,{execution:"sync"}),Q(this,{execution:"async"});return}let W=Q.split(`
`).filter((J)=>J),Y=Math.min(...W.map((J)=>J.length-J.trimStart().length)),G=W.map((J)=>J.slice(Y)).map((J)=>" ".repeat(this.indent*2)+J);for(let J of G)this.content.push(J)}compile(){let Q=Function,X=this?.args,Y=[...(this?.content??[""]).map((G)=>`  ${G}`)];return new Q(...X,Y.join(`
`))}}var _4={major:4,minor:3,patch:5};var c=U("$ZodType",(Q,X)=>{var W;Q??(Q={}),Q._zod.def=X,Q._zod.bag=Q._zod.bag||{},Q._zod.version=_4;let Y=[...Q._zod.def.checks??[]];if(Q._zod.traits.has("$ZodCheck"))Y.unshift(Q);for(let G of Y)for(let J of G._zod.onattach)J(Q);if(Y.length===0)(W=Q._zod).deferred??(W.deferred=[]),Q._zod.deferred?.push(()=>{Q._zod.run=Q._zod.parse});else{let G=(H,$,B)=>{let z=o0(H),K;for(let F of $){if(F._zod.def.when){if(!F._zod.def.when(H))continue}else if(z)continue;let A=H.issues.length,L=F._zod.check(H);if(L instanceof Promise&&B?.async===!1)throw new g0;if(K||L instanceof Promise)K=(K??Promise.resolve()).then(async()=>{if(await L,H.issues.length===A)return;if(!z)z=o0(H,A)});else{if(H.issues.length===A)continue;if(!z)z=o0(H,A)}}if(K)return K.then(()=>{return H});return H},J=(H,$,B)=>{if(o0(H))return H.aborted=!0,H;let z=G($,Y,B);if(z instanceof Promise){if(B.async===!1)throw new g0;return z.then((K)=>Q._zod.parse(K,B))}return Q._zod.parse(z,B)};Q._zod.run=(H,$)=>{if($.skipChecks)return Q._zod.parse(H,$);if($.direction==="backward"){let z=Q._zod.parse({value:H.value,issues:[]},{...$,skipChecks:!0});if(z instanceof Promise)return z.then((K)=>{return J(K,H,$)});return J(z,H,$)}let B=Q._zod.parse(H,$);if(B instanceof Promise){if($.async===!1)throw new g0;return B.then((z)=>G(z,Y,$))}return G(B,Y,$)}}u(Q,"~standard",()=>({validate:(G)=>{try{let J=m1(Q,G);return J.success?{value:J.data}:{issues:J.error?.issues}}catch(J){return h9(Q,G).then((H)=>H.success?{value:H.data}:{issues:H.error?.issues})}},vendor:"zod",version:1}))}),c9=U("$ZodString",(Q,X)=>{c.init(Q,X),Q._zod.pattern=[...Q?._zod.bag?.patterns??[]].pop()??D4(Q._zod.bag),Q._zod.parse=(W,Y)=>{if(X.coerce)try{W.value=String(W.value)}catch(G){}if(typeof W.value==="string")return W;return W.issues.push({expected:"string",code:"invalid_type",input:W.value,inst:Q}),W}}),p=U("$ZodStringFormat",(Q,X)=>{p1.init(Q,X),c9.init(Q,X)}),c4=U("$ZodGUID",(Q,X)=>{X.pattern??(X.pattern=Q4),p.init(Q,X)}),p4=U("$ZodUUID",(Q,X)=>{if(X.version){let Y={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[X.version];if(Y===void 0)throw Error(`Invalid UUID version: "${X.version}"`);X.pattern??(X.pattern=K6(Y))}else X.pattern??(X.pattern=K6());p.init(Q,X)}),d4=U("$ZodEmail",(Q,X)=>{X.pattern??(X.pattern=X4),p.init(Q,X)}),i4=U("$ZodURL",(Q,X)=>{p.init(Q,X),Q._zod.check=(W)=>{try{let Y=W.value.trim(),G=new URL(Y);if(X.hostname){if(X.hostname.lastIndex=0,!X.hostname.test(G.hostname))W.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:X.hostname.source,input:W.value,inst:Q,continue:!X.abort})}if(X.protocol){if(X.protocol.lastIndex=0,!X.protocol.test(G.protocol.endsWith(":")?G.protocol.slice(0,-1):G.protocol))W.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:X.protocol.source,input:W.value,inst:Q,continue:!X.abort})}if(X.normalize)W.value=G.href;else W.value=Y;return}catch(Y){W.issues.push({code:"invalid_format",format:"url",input:W.value,inst:Q,continue:!X.abort})}}}),r4=U("$ZodEmoji",(Q,X)=>{X.pattern??(X.pattern=W4()),p.init(Q,X)}),o4=U("$ZodNanoID",(Q,X)=>{X.pattern??(X.pattern=sX),p.init(Q,X)}),n4=U("$ZodCUID",(Q,X)=>{X.pattern??(X.pattern=rX),p.init(Q,X)}),t4=U("$ZodCUID2",(Q,X)=>{X.pattern??(X.pattern=oX),p.init(Q,X)}),a4=U("$ZodULID",(Q,X)=>{X.pattern??(X.pattern=nX),p.init(Q,X)}),s4=U("$ZodXID",(Q,X)=>{X.pattern??(X.pattern=tX),p.init(Q,X)}),e4=U("$ZodKSUID",(Q,X)=>{X.pattern??(X.pattern=aX),p.init(Q,X)}),QW=U("$ZodISODateTime",(Q,X)=>{X.pattern??(X.pattern=A4(X)),p.init(Q,X)}),XW=U("$ZodISODate",(Q,X)=>{X.pattern??(X.pattern=K4),p.init(Q,X)}),WW=U("$ZodISOTime",(Q,X)=>{X.pattern??(X.pattern=L4(X)),p.init(Q,X)}),YW=U("$ZodISODuration",(Q,X)=>{X.pattern??(X.pattern=eX),p.init(Q,X)}),GW=U("$ZodIPv4",(Q,X)=>{X.pattern??(X.pattern=Y4),p.init(Q,X),Q._zod.bag.format="ipv4"}),JW=U("$ZodIPv6",(Q,X)=>{X.pattern??(X.pattern=G4),p.init(Q,X),Q._zod.bag.format="ipv6",Q._zod.check=(W)=>{try{new URL(`http://[${W.value}]`)}catch{W.issues.push({code:"invalid_format",format:"ipv6",input:W.value,inst:Q,continue:!X.abort})}}});var HW=U("$ZodCIDRv4",(Q,X)=>{X.pattern??(X.pattern=J4),p.init(Q,X)}),$W=U("$ZodCIDRv6",(Q,X)=>{X.pattern??(X.pattern=H4),p.init(Q,X),Q._zod.check=(W)=>{let Y=W.value.split("/");try{if(Y.length!==2)throw Error();let[G,J]=Y;if(!J)throw Error();let H=Number(J);if(`${H}`!==J)throw Error();if(H<0||H>128)throw Error();new URL(`http://[${G}]`)}catch{W.issues.push({code:"invalid_format",format:"cidrv6",input:W.value,inst:Q,continue:!X.abort})}}});function BW(Q){if(Q==="")return!0;if(Q.length%4!==0)return!1;try{return atob(Q),!0}catch{return!1}}var zW=U("$ZodBase64",(Q,X)=>{X.pattern??(X.pattern=$4),p.init(Q,X),Q._zod.bag.contentEncoding="base64",Q._zod.check=(W)=>{if(BW(W.value))return;W.issues.push({code:"invalid_format",format:"base64",input:W.value,inst:Q,continue:!X.abort})}});function Y$(Q){if(!F6.test(Q))return!1;let X=Q.replace(/[-_]/g,(Y)=>Y==="-"?"+":"/"),W=X.padEnd(Math.ceil(X.length/4)*4,"=");return BW(W)}var KW=U("$ZodBase64URL",(Q,X)=>{X.pattern??(X.pattern=F6),p.init(Q,X),Q._zod.bag.contentEncoding="base64url",Q._zod.check=(W)=>{if(Y$(W.value))return;W.issues.push({code:"invalid_format",format:"base64url",input:W.value,inst:Q,continue:!X.abort})}}),FW=U("$ZodE164",(Q,X)=>{X.pattern??(X.pattern=B4),p.init(Q,X)});function G$(Q,X=null){try{let W=Q.split(".");if(W.length!==3)return!1;let[Y]=W;if(!Y)return!1;let G=JSON.parse(atob(Y));if("typ"in G&&G?.typ!=="JWT")return!1;if(!G.alg)return!1;if(X&&(!("alg"in G)||G.alg!==X))return!1;return!0}catch{return!1}}var LW=U("$ZodJWT",(Q,X)=>{p.init(Q,X),Q._zod.check=(W)=>{if(G$(W.value,X.alg))return;W.issues.push({code:"invalid_format",format:"jwt",input:W.value,inst:Q,continue:!X.abort})}});var V6=U("$ZodNumber",(Q,X)=>{c.init(Q,X),Q._zod.pattern=Q._zod.bag.pattern??u9,Q._zod.parse=(W,Y)=>{if(X.coerce)try{W.value=Number(W.value)}catch(H){}let G=W.value;if(typeof G==="number"&&!Number.isNaN(G)&&Number.isFinite(G))return W;let J=typeof G==="number"?Number.isNaN(G)?"NaN":!Number.isFinite(G)?"Infinity":void 0:void 0;return W.issues.push({expected:"number",code:"invalid_type",input:G,inst:Q,...J?{received:J}:{}}),W}}),AW=U("$ZodNumberFormat",(Q,X)=>{w4.init(Q,X),V6.init(Q,X)}),DW=U("$ZodBoolean",(Q,X)=>{c.init(Q,X),Q._zod.pattern=V4,Q._zod.parse=(W,Y)=>{if(X.coerce)try{W.value=Boolean(W.value)}catch(J){}let G=W.value;if(typeof G==="boolean")return W;return W.issues.push({expected:"boolean",code:"invalid_type",input:G,inst:Q}),W}});var UW=U("$ZodNull",(Q,X)=>{c.init(Q,X),Q._zod.pattern=q4,Q._zod.values=new Set([null]),Q._zod.parse=(W,Y)=>{let G=W.value;if(G===null)return W;return W.issues.push({expected:"null",code:"invalid_type",input:G,inst:Q}),W}});var VW=U("$ZodUnknown",(Q,X)=>{c.init(Q,X),Q._zod.parse=(W)=>W}),qW=U("$ZodNever",(Q,X)=>{c.init(Q,X),Q._zod.parse=(W,Y)=>{return W.issues.push({expected:"never",code:"invalid_type",input:W.value,inst:Q}),W}});function x4(Q,X,W){if(Q.issues.length)X.issues.push(...u0(W,Q.issues));X.value[W]=Q.value}var ZW=U("$ZodArray",(Q,X)=>{c.init(Q,X),Q._zod.parse=(W,Y)=>{let G=W.value;if(!Array.isArray(G))return W.issues.push({expected:"array",code:"invalid_type",input:G,inst:Q}),W;W.value=Array(G.length);let J=[];for(let H=0;H<G.length;H++){let $=G[H],B=X.element._zod.run({value:$,issues:[]},Y);if(B instanceof Promise)J.push(B.then((z)=>x4(z,W,H)));else x4(B,W,H)}if(J.length)return Promise.all(J).then(()=>W);return W}});function m9(Q,X,W,Y,G){if(Q.issues.length){if(G&&!(W in Y))return;X.issues.push(...u0(W,Q.issues))}if(Q.value===void 0){if(W in Y)X.value[W]=void 0}else X.value[W]=Q.value}function OW(Q){let X=Object.keys(Q.shape);for(let Y of X)if(!Q.shape?.[Y]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${Y}": expected a Zod schema`);let W=H6(Q.shape);return{...Q,keys:X,keySet:new Set(X),numKeys:X.length,optionalKeys:new Set(W)}}function MW(Q,X,W,Y,G,J){let H=[],$=G.keySet,B=G.catchall._zod,z=B.def.type,K=B.optout==="optional";for(let F in X){if($.has(F))continue;if(z==="never"){H.push(F);continue}let A=B.run({value:X[F],issues:[]},Y);if(A instanceof Promise)Q.push(A.then((L)=>m9(L,W,F,X,K)));else m9(A,W,F,X,K)}if(H.length)W.issues.push({code:"unrecognized_keys",keys:H,input:X,inst:J});if(!Q.length)return W;return Promise.all(Q).then(()=>{return W})}var J$=U("$ZodObject",(Q,X)=>{if(c.init(Q,X),!Object.getOwnPropertyDescriptor(X,"shape")?.get){let $=X.shape;Object.defineProperty(X,"shape",{get:()=>{let B={...$};return Object.defineProperty(X,"shape",{value:B}),B}})}let Y=U1(()=>OW(X));u(Q._zod,"propValues",()=>{let $=X.shape,B={};for(let z in $){let K=$[z]._zod;if(K.values){B[z]??(B[z]=new Set);for(let F of K.values)B[z].add(F)}}return B});let G=H1,J=X.catchall,H;Q._zod.parse=($,B)=>{H??(H=Y.value);let z=$.value;if(!G(z))return $.issues.push({expected:"object",code:"invalid_type",input:z,inst:Q}),$;$.value={};let K=[],F=H.shape;for(let A of H.keys){let L=F[A],V=L._zod.optout==="optional",q=L._zod.run({value:z[A],issues:[]},B);if(q instanceof Promise)K.push(q.then((O)=>m9(O,$,A,z,V)));else m9(q,$,A,z,V)}if(!J)return K.length?Promise.all(K).then(()=>$):$;return MW(K,z,$,B,Y.value,Q)}}),NW=U("$ZodObjectJIT",(Q,X)=>{J$.init(Q,X);let W=Q._zod.parse,Y=U1(()=>OW(X)),G=(A)=>{let L=new D6(["shape","payload","ctx"]),V=Y.value,q=(I)=>{let R=k9(I);return`shape[${R}]._zod.run({ value: input[${R}], issues: [] }, ctx)`};L.write("const input = payload.value;");let O=Object.create(null),Z=0;for(let I of V.keys)O[I]=`key_${Z++}`;L.write("const newResult = {};");for(let I of V.keys){let R=O[I],E=k9(I),E0=A[I]?._zod?.optout==="optional";if(L.write(`const ${R} = ${q(I)};`),E0)L.write(`
        if (${R}.issues.length) {
          if (${E} in input) {
            payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${E}, ...iss.path] : [${E}]
            })));
          }
        }
        
        if (${R}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${R}.value;
        }
        
      `);else L.write(`
        if (${R}.issues.length) {
          payload.issues = payload.issues.concat(${R}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${E}, ...iss.path] : [${E}]
          })));
        }
        
        if (${R}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${R}.value;
        }
        
      `)}L.write("payload.value = newResult;"),L.write("return payload;");let T=L.compile();return(I,R)=>T(A,I,R)},J,H=H1,$=!S9.jitless,z=$&&G6.value,K=X.catchall,F;Q._zod.parse=(A,L)=>{F??(F=Y.value);let V=A.value;if(!H(V))return A.issues.push({expected:"object",code:"invalid_type",input:V,inst:Q}),A;if($&&z&&L?.async===!1&&L.jitless!==!0){if(!J)J=G(X.shape);if(A=J(A,L),!K)return A;return MW([],V,A,L,F,Q)}return W(A,L)}});function g4(Q,X,W,Y){for(let J of Q)if(J.issues.length===0)return X.value=J.value,X;let G=Q.filter((J)=>!o0(J));if(G.length===1)return X.value=G[0].value,G[0];return X.issues.push({code:"invalid_union",input:X.value,inst:W,errors:Q.map((J)=>J.issues.map((H)=>b0(H,Y,Z0())))}),X}var q6=U("$ZodUnion",(Q,X)=>{c.init(Q,X),u(Q._zod,"optin",()=>X.options.some((G)=>G._zod.optin==="optional")?"optional":void 0),u(Q._zod,"optout",()=>X.options.some((G)=>G._zod.optout==="optional")?"optional":void 0),u(Q._zod,"values",()=>{if(X.options.every((G)=>G._zod.values))return new Set(X.options.flatMap((G)=>Array.from(G._zod.values)));return}),u(Q._zod,"pattern",()=>{if(X.options.every((G)=>G._zod.pattern)){let G=X.options.map((J)=>J._zod.pattern);return new RegExp(`^(${G.map((J)=>u1(J.source)).join("|")})$`)}return});let W=X.options.length===1,Y=X.options[0]._zod.run;Q._zod.parse=(G,J)=>{if(W)return Y(G,J);let H=!1,$=[];for(let B of X.options){let z=B._zod.run({value:G.value,issues:[]},J);if(z instanceof Promise)$.push(z),H=!0;else{if(z.issues.length===0)return z;$.push(z)}}if(!H)return g4($,G,Q,J);return Promise.all($).then((B)=>{return g4(B,G,Q,J)})}});var wW=U("$ZodDiscriminatedUnion",(Q,X)=>{X.inclusive=!1,q6.init(Q,X);let W=Q._zod.parse;u(Q._zod,"propValues",()=>{let G={};for(let J of X.options){let H=J._zod.propValues;if(!H||Object.keys(H).length===0)throw Error(`Invalid discriminated union option at index "${X.options.indexOf(J)}"`);for(let[$,B]of Object.entries(H)){if(!G[$])G[$]=new Set;for(let z of B)G[$].add(z)}}return G});let Y=U1(()=>{let G=X.options,J=new Map;for(let H of G){let $=H._zod.propValues?.[X.discriminator];if(!$||$.size===0)throw Error(`Invalid discriminated union option at index "${X.options.indexOf(H)}"`);for(let B of $){if(J.has(B))throw Error(`Duplicate discriminator value "${String(B)}"`);J.set(B,H)}}return J});Q._zod.parse=(G,J)=>{let H=G.value;if(!H1(H))return G.issues.push({code:"invalid_type",expected:"object",input:H,inst:Q}),G;let $=Y.value.get(H?.[X.discriminator]);if($)return $._zod.run(G,J);if(X.unionFallback)return W(G,J);return G.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:X.discriminator,input:H,path:[X.discriminator],inst:Q}),G}}),PW=U("$ZodIntersection",(Q,X)=>{c.init(Q,X),Q._zod.parse=(W,Y)=>{let G=W.value,J=X.left._zod.run({value:G,issues:[]},Y),H=X.right._zod.run({value:G,issues:[]},Y);if(J instanceof Promise||H instanceof Promise)return Promise.all([J,H]).then(([B,z])=>{return y4(W,B,z)});return y4(W,J,H)}});function U6(Q,X){if(Q===X)return{valid:!0,data:Q};if(Q instanceof Date&&X instanceof Date&&+Q===+X)return{valid:!0,data:Q};if(r0(Q)&&r0(X)){let W=Object.keys(X),Y=Object.keys(Q).filter((J)=>W.indexOf(J)!==-1),G={...Q,...X};for(let J of Y){let H=U6(Q[J],X[J]);if(!H.valid)return{valid:!1,mergeErrorPath:[J,...H.mergeErrorPath]};G[J]=H.data}return{valid:!0,data:G}}if(Array.isArray(Q)&&Array.isArray(X)){if(Q.length!==X.length)return{valid:!1,mergeErrorPath:[]};let W=[];for(let Y=0;Y<Q.length;Y++){let G=Q[Y],J=X[Y],H=U6(G,J);if(!H.valid)return{valid:!1,mergeErrorPath:[Y,...H.mergeErrorPath]};W.push(H.data)}return{valid:!0,data:W}}return{valid:!1,mergeErrorPath:[]}}function y4(Q,X,W){let Y=new Map,G;for(let $ of X.issues)if($.code==="unrecognized_keys"){G??(G=$);for(let B of $.keys){if(!Y.has(B))Y.set(B,{});Y.get(B).l=!0}}else Q.issues.push($);for(let $ of W.issues)if($.code==="unrecognized_keys")for(let B of $.keys){if(!Y.has(B))Y.set(B,{});Y.get(B).r=!0}else Q.issues.push($);let J=[...Y].filter(([,$])=>$.l&&$.r).map(([$])=>$);if(J.length&&G)Q.issues.push({...G,keys:J});if(o0(Q))return Q;let H=U6(X.value,W.value);if(!H.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(H.mergeErrorPath)}`);return Q.value=H.data,Q}var EW=U("$ZodRecord",(Q,X)=>{c.init(Q,X),Q._zod.parse=(W,Y)=>{let G=W.value;if(!r0(G))return W.issues.push({expected:"record",code:"invalid_type",input:G,inst:Q}),W;let J=[],H=X.keyType._zod.values;if(H){W.value={};let $=new Set;for(let z of H)if(typeof z==="string"||typeof z==="number"||typeof z==="symbol"){$.add(typeof z==="number"?z.toString():z);let K=X.valueType._zod.run({value:G[z],issues:[]},Y);if(K instanceof Promise)J.push(K.then((F)=>{if(F.issues.length)W.issues.push(...u0(z,F.issues));W.value[z]=F.value}));else{if(K.issues.length)W.issues.push(...u0(z,K.issues));W.value[z]=K.value}}let B;for(let z in G)if(!$.has(z))B=B??[],B.push(z);if(B&&B.length>0)W.issues.push({code:"unrecognized_keys",input:G,inst:Q,keys:B})}else{W.value={};for(let $ of Reflect.ownKeys(G)){if($==="__proto__")continue;let B=X.keyType._zod.run({value:$,issues:[]},Y);if(B instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(typeof $==="string"&&u9.test($)&&B.issues.length&&B.issues.some((F)=>F.code==="invalid_type"&&F.expected==="number")){let F=X.keyType._zod.run({value:Number($),issues:[]},Y);if(F instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(F.issues.length===0)B=F}if(B.issues.length){if(X.mode==="loose")W.value[$]=G[$];else W.issues.push({code:"invalid_key",origin:"record",issues:B.issues.map((F)=>b0(F,Y,Z0())),input:$,path:[$],inst:Q});continue}let K=X.valueType._zod.run({value:G[$],issues:[]},Y);if(K instanceof Promise)J.push(K.then((F)=>{if(F.issues.length)W.issues.push(...u0($,F.issues));W.value[B.value]=F.value}));else{if(K.issues.length)W.issues.push(...u0($,K.issues));W.value[B.value]=K.value}}}if(J.length)return Promise.all(J).then(()=>W);return W}});var IW=U("$ZodEnum",(Q,X)=>{c.init(Q,X);let W=y1(X.entries),Y=new Set(W);Q._zod.values=Y,Q._zod.pattern=new RegExp(`^(${W.filter((G)=>J6.has(typeof G)).map((G)=>typeof G==="string"?h0(G):G.toString()).join("|")})$`),Q._zod.parse=(G,J)=>{let H=G.value;if(Y.has(H))return G;return G.issues.push({code:"invalid_value",values:W,input:H,inst:Q}),G}}),bW=U("$ZodLiteral",(Q,X)=>{if(c.init(Q,X),X.values.length===0)throw Error("Cannot create literal schema with no valid values");let W=new Set(X.values);Q._zod.values=W,Q._zod.pattern=new RegExp(`^(${X.values.map((Y)=>typeof Y==="string"?h0(Y):Y?h0(Y.toString()):String(Y)).join("|")})$`),Q._zod.parse=(Y,G)=>{let J=Y.value;if(W.has(J))return Y;return Y.issues.push({code:"invalid_value",values:X.values,input:J,inst:Q}),Y}});var TW=U("$ZodTransform",(Q,X)=>{c.init(Q,X),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")throw new x1(Q.constructor.name);let G=X.transform(W.value,W);if(Y.async)return(G instanceof Promise?G:Promise.resolve(G)).then((H)=>{return W.value=H,W});if(G instanceof Promise)throw new g0;return W.value=G,W}});function h4(Q,X){if(Q.issues.length&&X===void 0)return{issues:[],value:void 0};return Q}var Z6=U("$ZodOptional",(Q,X)=>{c.init(Q,X),Q._zod.optin="optional",Q._zod.optout="optional",u(Q._zod,"values",()=>{return X.innerType._zod.values?new Set([...X.innerType._zod.values,void 0]):void 0}),u(Q._zod,"pattern",()=>{let W=X.innerType._zod.pattern;return W?new RegExp(`^(${u1(W.source)})?$`):void 0}),Q._zod.parse=(W,Y)=>{if(X.innerType._zod.optin==="optional"){let G=X.innerType._zod.run(W,Y);if(G instanceof Promise)return G.then((J)=>h4(J,W.value));return h4(G,W.value)}if(W.value===void 0)return W;return X.innerType._zod.run(W,Y)}}),jW=U("$ZodExactOptional",(Q,X)=>{Z6.init(Q,X),u(Q._zod,"values",()=>X.innerType._zod.values),u(Q._zod,"pattern",()=>X.innerType._zod.pattern),Q._zod.parse=(W,Y)=>{return X.innerType._zod.run(W,Y)}}),RW=U("$ZodNullable",(Q,X)=>{c.init(Q,X),u(Q._zod,"optin",()=>X.innerType._zod.optin),u(Q._zod,"optout",()=>X.innerType._zod.optout),u(Q._zod,"pattern",()=>{let W=X.innerType._zod.pattern;return W?new RegExp(`^(${u1(W.source)}|null)$`):void 0}),u(Q._zod,"values",()=>{return X.innerType._zod.values?new Set([...X.innerType._zod.values,null]):void 0}),Q._zod.parse=(W,Y)=>{if(W.value===null)return W;return X.innerType._zod.run(W,Y)}}),SW=U("$ZodDefault",(Q,X)=>{c.init(Q,X),Q._zod.optin="optional",u(Q._zod,"values",()=>X.innerType._zod.values),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);if(W.value===void 0)return W.value=X.defaultValue,W;let G=X.innerType._zod.run(W,Y);if(G instanceof Promise)return G.then((J)=>u4(J,X));return u4(G,X)}});function u4(Q,X){if(Q.value===void 0)Q.value=X.defaultValue;return Q}var CW=U("$ZodPrefault",(Q,X)=>{c.init(Q,X),Q._zod.optin="optional",u(Q._zod,"values",()=>X.innerType._zod.values),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);if(W.value===void 0)W.value=X.defaultValue;return X.innerType._zod.run(W,Y)}}),kW=U("$ZodNonOptional",(Q,X)=>{c.init(Q,X),u(Q._zod,"values",()=>{let W=X.innerType._zod.values;return W?new Set([...W].filter((Y)=>Y!==void 0)):void 0}),Q._zod.parse=(W,Y)=>{let G=X.innerType._zod.run(W,Y);if(G instanceof Promise)return G.then((J)=>f4(J,Q));return f4(G,Q)}});function f4(Q,X){if(!Q.issues.length&&Q.value===void 0)Q.issues.push({code:"invalid_type",expected:"nonoptional",input:Q.value,inst:X});return Q}var vW=U("$ZodCatch",(Q,X)=>{c.init(Q,X),u(Q._zod,"optin",()=>X.innerType._zod.optin),u(Q._zod,"optout",()=>X.innerType._zod.optout),u(Q._zod,"values",()=>X.innerType._zod.values),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);let G=X.innerType._zod.run(W,Y);if(G instanceof Promise)return G.then((J)=>{if(W.value=J.value,J.issues.length)W.value=X.catchValue({...W,error:{issues:J.issues.map((H)=>b0(H,Y,Z0()))},input:W.value}),W.issues=[];return W});if(W.value=G.value,G.issues.length)W.value=X.catchValue({...W,error:{issues:G.issues.map((J)=>b0(J,Y,Z0()))},input:W.value}),W.issues=[];return W}});var _W=U("$ZodPipe",(Q,X)=>{c.init(Q,X),u(Q._zod,"values",()=>X.in._zod.values),u(Q._zod,"optin",()=>X.in._zod.optin),u(Q._zod,"optout",()=>X.out._zod.optout),u(Q._zod,"propValues",()=>X.in._zod.propValues),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward"){let J=X.out._zod.run(W,Y);if(J instanceof Promise)return J.then((H)=>l9(H,X.in,Y));return l9(J,X.in,Y)}let G=X.in._zod.run(W,Y);if(G instanceof Promise)return G.then((J)=>l9(J,X.out,Y));return l9(G,X.out,Y)}});function l9(Q,X,W){if(Q.issues.length)return Q.aborted=!0,Q;return X._zod.run({value:Q.value,issues:Q.issues},W)}var xW=U("$ZodReadonly",(Q,X)=>{c.init(Q,X),u(Q._zod,"propValues",()=>X.innerType._zod.propValues),u(Q._zod,"values",()=>X.innerType._zod.values),u(Q._zod,"optin",()=>X.innerType?._zod?.optin),u(Q._zod,"optout",()=>X.innerType?._zod?.optout),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")return X.innerType._zod.run(W,Y);let G=X.innerType._zod.run(W,Y);if(G instanceof Promise)return G.then(l4);return l4(G)}});function l4(Q){return Q.value=Object.freeze(Q.value),Q}var gW=U("$ZodCustom",(Q,X)=>{Q0.init(Q,X),c.init(Q,X),Q._zod.parse=(W,Y)=>{return W},Q._zod.check=(W)=>{let Y=W.value,G=X.fn(Y);if(G instanceof Promise)return G.then((J)=>m4(J,W,Y,Q));m4(G,W,Y,Q);return}});function m4(Q,X,W,Y){if(!Q){let G={code:"custom",input:W,inst:Y,path:[...Y._zod.def.path??[]],continue:!Y._zod.def.abort};if(Y._zod.def.params)G.params=Y._zod.def.params;X.issues.push(V1(G))}}var H$=()=>{let Q={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function X(G){return Q[G]??null}let W={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},Y={nan:"NaN"};return(G)=>{switch(G.code){case"invalid_type":{let J=Y[G.expected]??G.expected,H=B6(G.input),$=Y[H]??H;return`Invalid input: expected ${J}, received ${$}`}case"invalid_value":if(G.values.length===1)return`Invalid input: expected ${_9(G.values[0])}`;return`Invalid option: expected one of ${C9(G.values,"|")}`;case"too_big":{let J=G.inclusive?"<=":"<",H=X(G.origin);if(H)return`Too big: expected ${G.origin??"value"} to have ${J}${G.maximum.toString()} ${H.unit??"elements"}`;return`Too big: expected ${G.origin??"value"} to be ${J}${G.maximum.toString()}`}case"too_small":{let J=G.inclusive?">=":">",H=X(G.origin);if(H)return`Too small: expected ${G.origin} to have ${J}${G.minimum.toString()} ${H.unit}`;return`Too small: expected ${G.origin} to be ${J}${G.minimum.toString()}`}case"invalid_format":{let J=G;if(J.format==="starts_with")return`Invalid string: must start with "${J.prefix}"`;if(J.format==="ends_with")return`Invalid string: must end with "${J.suffix}"`;if(J.format==="includes")return`Invalid string: must include "${J.includes}"`;if(J.format==="regex")return`Invalid string: must match pattern ${J.pattern}`;return`Invalid ${W[J.format]??G.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${G.divisor}`;case"unrecognized_keys":return`Unrecognized key${G.keys.length>1?"s":""}: ${C9(G.keys,", ")}`;case"invalid_key":return`Invalid key in ${G.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${G.origin}`;default:return"Invalid input"}}};function O6(){return{localeError:H$()}}var yW,bZ=Symbol("ZodOutput"),TZ=Symbol("ZodInput");class hW{constructor(){this._map=new WeakMap,this._idmap=new Map}add(Q,...X){let W=X[0];if(this._map.set(Q,W),W&&typeof W==="object"&&"id"in W)this._idmap.set(W.id,Q);return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(Q){let X=this._map.get(Q);if(X&&typeof X==="object"&&"id"in X)this._idmap.delete(X.id);return this._map.delete(Q),this}get(Q){let X=Q._zod.parent;if(X){let W={...this.get(X)??{}};delete W.id;let Y={...W,...this._map.get(Q)};return Object.keys(Y).length?Y:void 0}return this._map.get(Q)}has(Q){return this._map.has(Q)}}function $$(){return new hW}(yW=globalThis).__zod_globalRegistry??(yW.__zod_globalRegistry=$$());var $1=globalThis.__zod_globalRegistry;function uW(Q,X){return new Q({type:"string",...b(X)})}function fW(Q,X){return new Q({type:"string",format:"email",check:"string_format",abort:!1,...b(X)})}function M6(Q,X){return new Q({type:"string",format:"guid",check:"string_format",abort:!1,...b(X)})}function lW(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,...b(X)})}function mW(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...b(X)})}function cW(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...b(X)})}function pW(Q,X){return new Q({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...b(X)})}function dW(Q,X){return new Q({type:"string",format:"url",check:"string_format",abort:!1,...b(X)})}function iW(Q,X){return new Q({type:"string",format:"emoji",check:"string_format",abort:!1,...b(X)})}function rW(Q,X){return new Q({type:"string",format:"nanoid",check:"string_format",abort:!1,...b(X)})}function oW(Q,X){return new Q({type:"string",format:"cuid",check:"string_format",abort:!1,...b(X)})}function nW(Q,X){return new Q({type:"string",format:"cuid2",check:"string_format",abort:!1,...b(X)})}function tW(Q,X){return new Q({type:"string",format:"ulid",check:"string_format",abort:!1,...b(X)})}function aW(Q,X){return new Q({type:"string",format:"xid",check:"string_format",abort:!1,...b(X)})}function sW(Q,X){return new Q({type:"string",format:"ksuid",check:"string_format",abort:!1,...b(X)})}function eW(Q,X){return new Q({type:"string",format:"ipv4",check:"string_format",abort:!1,...b(X)})}function QY(Q,X){return new Q({type:"string",format:"ipv6",check:"string_format",abort:!1,...b(X)})}function XY(Q,X){return new Q({type:"string",format:"cidrv4",check:"string_format",abort:!1,...b(X)})}function WY(Q,X){return new Q({type:"string",format:"cidrv6",check:"string_format",abort:!1,...b(X)})}function YY(Q,X){return new Q({type:"string",format:"base64",check:"string_format",abort:!1,...b(X)})}function GY(Q,X){return new Q({type:"string",format:"base64url",check:"string_format",abort:!1,...b(X)})}function JY(Q,X){return new Q({type:"string",format:"e164",check:"string_format",abort:!1,...b(X)})}function HY(Q,X){return new Q({type:"string",format:"jwt",check:"string_format",abort:!1,...b(X)})}function $Y(Q,X){return new Q({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...b(X)})}function BY(Q,X){return new Q({type:"string",format:"date",check:"string_format",...b(X)})}function zY(Q,X){return new Q({type:"string",format:"time",check:"string_format",precision:null,...b(X)})}function KY(Q,X){return new Q({type:"string",format:"duration",check:"string_format",...b(X)})}function FY(Q,X){return new Q({type:"number",checks:[],...b(X)})}function LY(Q,X){return new Q({type:"number",check:"number_format",abort:!1,format:"safeint",...b(X)})}function AY(Q,X){return new Q({type:"boolean",...b(X)})}function DY(Q,X){return new Q({type:"null",...b(X)})}function UY(Q){return new Q({type:"unknown"})}function VY(Q,X){return new Q({type:"never",...b(X)})}function p9(Q,X){return new L6({check:"less_than",...b(X),value:Q,inclusive:!1})}function d1(Q,X){return new L6({check:"less_than",...b(X),value:Q,inclusive:!0})}function d9(Q,X){return new A6({check:"greater_than",...b(X),value:Q,inclusive:!1})}function i1(Q,X){return new A6({check:"greater_than",...b(X),value:Q,inclusive:!0})}function i9(Q,X){return new N4({check:"multiple_of",...b(X),value:Q})}function r9(Q,X){return new P4({check:"max_length",...b(X),maximum:Q})}function q1(Q,X){return new E4({check:"min_length",...b(X),minimum:Q})}function o9(Q,X){return new I4({check:"length_equals",...b(X),length:Q})}function N6(Q,X){return new b4({check:"string_format",format:"regex",...b(X),pattern:Q})}function w6(Q){return new T4({check:"string_format",format:"lowercase",...b(Q)})}function P6(Q){return new j4({check:"string_format",format:"uppercase",...b(Q)})}function E6(Q,X){return new R4({check:"string_format",format:"includes",...b(X),includes:Q})}function I6(Q,X){return new S4({check:"string_format",format:"starts_with",...b(X),prefix:Q})}function b6(Q,X){return new C4({check:"string_format",format:"ends_with",...b(X),suffix:Q})}function n0(Q){return new k4({check:"overwrite",tx:Q})}function T6(Q){return n0((X)=>X.normalize(Q))}function j6(){return n0((Q)=>Q.trim())}function R6(){return n0((Q)=>Q.toLowerCase())}function S6(){return n0((Q)=>Q.toUpperCase())}function C6(){return n0((Q)=>Y6(Q))}function qY(Q,X,W){return new Q({type:"array",element:X,...b(W)})}function ZY(Q,X,W){let Y=b(W);return Y.abort??(Y.abort=!0),new Q({type:"custom",check:"custom",fn:X,...Y})}function OY(Q,X,W){return new Q({type:"custom",check:"custom",fn:X,...b(W)})}function MY(Q){let X=B$((W)=>{return W.addIssue=(Y)=>{if(typeof Y==="string")W.issues.push(V1(Y,W.value,X._zod.def));else{let G=Y;if(G.fatal)G.continue=!1;G.code??(G.code="custom"),G.input??(G.input=W.value),G.inst??(G.inst=X),G.continue??(G.continue=!X._zod.def.abort),W.issues.push(V1(G))}},Q(W.value,W)});return X}function B$(Q,X){let W=new Q0({check:"custom",...b(X)});return W._zod.check=Q,W}function k6(Q){let X=Q?.target??"draft-2020-12";if(X==="draft-4")X="draft-04";if(X==="draft-7")X="draft-07";return{processors:Q.processors??{},metadataRegistry:Q?.metadata??$1,target:X,unrepresentable:Q?.unrepresentable??"throw",override:Q?.override??(()=>{}),io:Q?.io??"output",counter:0,seen:new Map,cycles:Q?.cycles??"ref",reused:Q?.reused??"inline",external:Q?.external??void 0}}function a(Q,X,W={path:[],schemaPath:[]}){var Y;let G=Q._zod.def,J=X.seen.get(Q);if(J){if(J.count++,W.schemaPath.includes(Q))J.cycle=W.path;return J.schema}let H={schema:{},count:1,cycle:void 0,path:W.path};X.seen.set(Q,H);let $=Q._zod.toJSONSchema?.();if($)H.schema=$;else{let K={...W,schemaPath:[...W.schemaPath,Q],path:W.path};if(Q._zod.processJSONSchema)Q._zod.processJSONSchema(X,H.schema,K);else{let A=H.schema,L=X.processors[G.type];if(!L)throw Error(`[toJSONSchema]: Non-representable type encountered: ${G.type}`);L(Q,X,A,K)}let F=Q._zod.parent;if(F){if(!H.ref)H.ref=F;a(F,X,K),X.seen.get(F).isParent=!0}}let B=X.metadataRegistry.get(Q);if(B)Object.assign(H.schema,B);if(X.io==="input"&&$0(Q))delete H.schema.examples,delete H.schema.default;if(X.io==="input"&&H.schema._prefault)(Y=H.schema).default??(Y.default=H.schema._prefault);return delete H.schema._prefault,X.seen.get(Q).schema}function v6(Q,X){let W=Q.seen.get(X);if(!W)throw Error("Unprocessed schema. This is a bug in Zod.");let Y=new Map;for(let H of Q.seen.entries()){let $=Q.metadataRegistry.get(H[0])?.id;if($){let B=Y.get($);if(B&&B!==H[0])throw Error(`Duplicate schema id "${$}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);Y.set($,H[0])}}let G=(H)=>{let $=Q.target==="draft-2020-12"?"$defs":"definitions";if(Q.external){let F=Q.external.registry.get(H[0])?.id,A=Q.external.uri??((V)=>V);if(F)return{ref:A(F)};let L=H[1].defId??H[1].schema.id??`schema${Q.counter++}`;return H[1].defId=L,{defId:L,ref:`${A("__shared")}#/${$}/${L}`}}if(H[1]===W)return{ref:"#"};let z=`${"#"}/${$}/`,K=H[1].schema.id??`__schema${Q.counter++}`;return{defId:K,ref:z+K}},J=(H)=>{if(H[1].schema.$ref)return;let $=H[1],{ref:B,defId:z}=G(H);if($.def={...$.schema},z)$.defId=z;let K=$.schema;for(let F in K)delete K[F];K.$ref=B};if(Q.cycles==="throw")for(let H of Q.seen.entries()){let $=H[1];if($.cycle)throw Error(`Cycle detected: #/${$.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let H of Q.seen.entries()){let $=H[1];if(X===H[0]){J(H);continue}if(Q.external){let z=Q.external.registry.get(H[0])?.id;if(X!==H[0]&&z){J(H);continue}}if(Q.metadataRegistry.get(H[0])?.id){J(H);continue}if($.cycle){J(H);continue}if($.count>1){if(Q.reused==="ref"){J(H);continue}}}}function _6(Q,X){let W=Q.seen.get(X);if(!W)throw Error("Unprocessed schema. This is a bug in Zod.");let Y=(H)=>{let $=Q.seen.get(H);if($.ref===null)return;let B=$.def??$.schema,z={...B},K=$.ref;if($.ref=null,K){Y(K);let A=Q.seen.get(K),L=A.schema;if(L.$ref&&(Q.target==="draft-07"||Q.target==="draft-04"||Q.target==="openapi-3.0"))B.allOf=B.allOf??[],B.allOf.push(L);else Object.assign(B,L);if(Object.assign(B,z),H._zod.parent===K)for(let q in B){if(q==="$ref"||q==="allOf")continue;if(!(q in z))delete B[q]}if(L.$ref)for(let q in B){if(q==="$ref"||q==="allOf")continue;if(q in A.def&&JSON.stringify(B[q])===JSON.stringify(A.def[q]))delete B[q]}}let F=H._zod.parent;if(F&&F!==K){Y(F);let A=Q.seen.get(F);if(A?.schema.$ref){if(B.$ref=A.schema.$ref,A.def)for(let L in B){if(L==="$ref"||L==="allOf")continue;if(L in A.def&&JSON.stringify(B[L])===JSON.stringify(A.def[L]))delete B[L]}}}Q.override({zodSchema:H,jsonSchema:B,path:$.path??[]})};for(let H of[...Q.seen.entries()].reverse())Y(H[0]);let G={};if(Q.target==="draft-2020-12")G.$schema="https://json-schema.org/draft/2020-12/schema";else if(Q.target==="draft-07")G.$schema="http://json-schema.org/draft-07/schema#";else if(Q.target==="draft-04")G.$schema="http://json-schema.org/draft-04/schema#";else if(Q.target==="openapi-3.0");if(Q.external?.uri){let H=Q.external.registry.get(X)?.id;if(!H)throw Error("Schema is missing an `id` property");G.$id=Q.external.uri(H)}Object.assign(G,W.def??W.schema);let J=Q.external?.defs??{};for(let H of Q.seen.entries()){let $=H[1];if($.def&&$.defId)J[$.defId]=$.def}if(Q.external);else if(Object.keys(J).length>0)if(Q.target==="draft-2020-12")G.$defs=J;else G.definitions=J;try{let H=JSON.parse(JSON.stringify(G));return Object.defineProperty(H,"~standard",{value:{...X["~standard"],jsonSchema:{input:r1(X,"input",Q.processors),output:r1(X,"output",Q.processors)}},enumerable:!1,writable:!1}),H}catch(H){throw Error("Error converting schema to JSON.")}}function $0(Q,X){let W=X??{seen:new Set};if(W.seen.has(Q))return!1;W.seen.add(Q);let Y=Q._zod.def;if(Y.type==="transform")return!0;if(Y.type==="array")return $0(Y.element,W);if(Y.type==="set")return $0(Y.valueType,W);if(Y.type==="lazy")return $0(Y.getter(),W);if(Y.type==="promise"||Y.type==="optional"||Y.type==="nonoptional"||Y.type==="nullable"||Y.type==="readonly"||Y.type==="default"||Y.type==="prefault")return $0(Y.innerType,W);if(Y.type==="intersection")return $0(Y.left,W)||$0(Y.right,W);if(Y.type==="record"||Y.type==="map")return $0(Y.keyType,W)||$0(Y.valueType,W);if(Y.type==="pipe")return $0(Y.in,W)||$0(Y.out,W);if(Y.type==="object"){for(let G in Y.shape)if($0(Y.shape[G],W))return!0;return!1}if(Y.type==="union"){for(let G of Y.options)if($0(G,W))return!0;return!1}if(Y.type==="tuple"){for(let G of Y.items)if($0(G,W))return!0;if(Y.rest&&$0(Y.rest,W))return!0;return!1}return!1}var NY=(Q,X={})=>(W)=>{let Y=k6({...W,processors:X});return a(Q,Y),v6(Y,Q),_6(Y,Q)},r1=(Q,X,W={})=>(Y)=>{let{libraryOptions:G,target:J}=Y??{},H=k6({...G??{},target:J,io:X,processors:W});return a(Q,H),v6(H,Q),_6(H,Q)};var z$={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},wY=(Q,X,W,Y)=>{let G=W;G.type="string";let{minimum:J,maximum:H,format:$,patterns:B,contentEncoding:z}=Q._zod.bag;if(typeof J==="number")G.minLength=J;if(typeof H==="number")G.maxLength=H;if($){if(G.format=z$[$]??$,G.format==="")delete G.format;if($==="time")delete G.format}if(z)G.contentEncoding=z;if(B&&B.size>0){let K=[...B];if(K.length===1)G.pattern=K[0].source;else if(K.length>1)G.allOf=[...K.map((F)=>({...X.target==="draft-07"||X.target==="draft-04"||X.target==="openapi-3.0"?{type:"string"}:{},pattern:F.source}))]}},PY=(Q,X,W,Y)=>{let G=W,{minimum:J,maximum:H,format:$,multipleOf:B,exclusiveMaximum:z,exclusiveMinimum:K}=Q._zod.bag;if(typeof $==="string"&&$.includes("int"))G.type="integer";else G.type="number";if(typeof K==="number")if(X.target==="draft-04"||X.target==="openapi-3.0")G.minimum=K,G.exclusiveMinimum=!0;else G.exclusiveMinimum=K;if(typeof J==="number"){if(G.minimum=J,typeof K==="number"&&X.target!=="draft-04")if(K>=J)delete G.minimum;else delete G.exclusiveMinimum}if(typeof z==="number")if(X.target==="draft-04"||X.target==="openapi-3.0")G.maximum=z,G.exclusiveMaximum=!0;else G.exclusiveMaximum=z;if(typeof H==="number"){if(G.maximum=H,typeof z==="number"&&X.target!=="draft-04")if(z<=H)delete G.maximum;else delete G.exclusiveMaximum}if(typeof B==="number")G.multipleOf=B},EY=(Q,X,W,Y)=>{W.type="boolean"};var IY=(Q,X,W,Y)=>{if(X.target==="openapi-3.0")W.type="string",W.nullable=!0,W.enum=[null];else W.type="null"};var bY=(Q,X,W,Y)=>{W.not={}};var TY=(Q,X,W,Y)=>{};var jY=(Q,X,W,Y)=>{let G=Q._zod.def,J=y1(G.entries);if(J.every((H)=>typeof H==="number"))W.type="number";if(J.every((H)=>typeof H==="string"))W.type="string";W.enum=J},RY=(Q,X,W,Y)=>{let G=Q._zod.def,J=[];for(let H of G.values)if(H===void 0){if(X.unrepresentable==="throw")throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof H==="bigint")if(X.unrepresentable==="throw")throw Error("BigInt literals cannot be represented in JSON Schema");else J.push(Number(H));else J.push(H);if(J.length===0);else if(J.length===1){let H=J[0];if(W.type=H===null?"null":typeof H,X.target==="draft-04"||X.target==="openapi-3.0")W.enum=[H];else W.const=H}else{if(J.every((H)=>typeof H==="number"))W.type="number";if(J.every((H)=>typeof H==="string"))W.type="string";if(J.every((H)=>typeof H==="boolean"))W.type="boolean";if(J.every((H)=>H===null))W.type="null";W.enum=J}};var SY=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Custom types cannot be represented in JSON Schema")};var CY=(Q,X,W,Y)=>{if(X.unrepresentable==="throw")throw Error("Transforms cannot be represented in JSON Schema")};var kY=(Q,X,W,Y)=>{let G=W,J=Q._zod.def,{minimum:H,maximum:$}=Q._zod.bag;if(typeof H==="number")G.minItems=H;if(typeof $==="number")G.maxItems=$;G.type="array",G.items=a(J.element,X,{...Y,path:[...Y.path,"items"]})},vY=(Q,X,W,Y)=>{let G=W,J=Q._zod.def;G.type="object",G.properties={};let H=J.shape;for(let z in H)G.properties[z]=a(H[z],X,{...Y,path:[...Y.path,"properties",z]});let $=new Set(Object.keys(H)),B=new Set([...$].filter((z)=>{let K=J.shape[z]._zod;if(X.io==="input")return K.optin===void 0;else return K.optout===void 0}));if(B.size>0)G.required=Array.from(B);if(J.catchall?._zod.def.type==="never")G.additionalProperties=!1;else if(!J.catchall){if(X.io==="output")G.additionalProperties=!1}else if(J.catchall)G.additionalProperties=a(J.catchall,X,{...Y,path:[...Y.path,"additionalProperties"]})},_Y=(Q,X,W,Y)=>{let G=Q._zod.def,J=G.inclusive===!1,H=G.options.map(($,B)=>a($,X,{...Y,path:[...Y.path,J?"oneOf":"anyOf",B]}));if(J)W.oneOf=H;else W.anyOf=H},xY=(Q,X,W,Y)=>{let G=Q._zod.def,J=a(G.left,X,{...Y,path:[...Y.path,"allOf",0]}),H=a(G.right,X,{...Y,path:[...Y.path,"allOf",1]}),$=(z)=>("allOf"in z)&&Object.keys(z).length===1,B=[...$(J)?J.allOf:[J],...$(H)?H.allOf:[H]];W.allOf=B};var gY=(Q,X,W,Y)=>{let G=W,J=Q._zod.def;G.type="object";let H=J.keyType,B=H._zod.bag?.patterns;if(J.mode==="loose"&&B&&B.size>0){let K=a(J.valueType,X,{...Y,path:[...Y.path,"patternProperties","*"]});G.patternProperties={};for(let F of B)G.patternProperties[F.source]=K}else{if(X.target==="draft-07"||X.target==="draft-2020-12")G.propertyNames=a(J.keyType,X,{...Y,path:[...Y.path,"propertyNames"]});G.additionalProperties=a(J.valueType,X,{...Y,path:[...Y.path,"additionalProperties"]})}let z=H._zod.values;if(z){let K=[...z].filter((F)=>typeof F==="string"||typeof F==="number");if(K.length>0)G.required=K}},yY=(Q,X,W,Y)=>{let G=Q._zod.def,J=a(G.innerType,X,Y),H=X.seen.get(Q);if(X.target==="openapi-3.0")H.ref=G.innerType,W.nullable=!0;else W.anyOf=[J,{type:"null"}]},hY=(Q,X,W,Y)=>{let G=Q._zod.def;a(G.innerType,X,Y);let J=X.seen.get(Q);J.ref=G.innerType},uY=(Q,X,W,Y)=>{let G=Q._zod.def;a(G.innerType,X,Y);let J=X.seen.get(Q);J.ref=G.innerType,W.default=JSON.parse(JSON.stringify(G.defaultValue))},fY=(Q,X,W,Y)=>{let G=Q._zod.def;a(G.innerType,X,Y);let J=X.seen.get(Q);if(J.ref=G.innerType,X.io==="input")W._prefault=JSON.parse(JSON.stringify(G.defaultValue))},lY=(Q,X,W,Y)=>{let G=Q._zod.def;a(G.innerType,X,Y);let J=X.seen.get(Q);J.ref=G.innerType;let H;try{H=G.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}W.default=H},mY=(Q,X,W,Y)=>{let G=Q._zod.def,J=X.io==="input"?G.in._zod.def.type==="transform"?G.out:G.in:G.out;a(J,X,Y);let H=X.seen.get(Q);H.ref=J},cY=(Q,X,W,Y)=>{let G=Q._zod.def;a(G.innerType,X,Y);let J=X.seen.get(Q);J.ref=G.innerType,W.readOnly=!0};var x6=(Q,X,W,Y)=>{let G=Q._zod.def;a(G.innerType,X,Y);let J=X.seen.get(Q);J.ref=G.innerType};function Z1(Q){return!!Q._zod}function t0(Q,X){if(Z1(Q))return m1(Q,X);return Q.safeParse(X)}function n9(Q){if(!Q)return;let X;if(Z1(Q))X=Q._zod?.def?.shape;else X=Q.shape;if(!X)return;if(typeof X==="function")try{return X()}catch{return}return X}function pY(Q){if(Z1(Q)){let J=Q._zod?.def;if(J){if(J.value!==void 0)return J.value;if(Array.isArray(J.values)&&J.values.length>0)return J.values[0]}}let W=Q._def;if(W){if(W.value!==void 0)return W.value;if(Array.isArray(W.values)&&W.values.length>0)return W.values[0]}let Y=Q.value;if(Y!==void 0)return Y;return}var n1={};TX(n1,{time:()=>h6,duration:()=>u6,datetime:()=>g6,date:()=>y6,ZodISOTime:()=>rY,ZodISODuration:()=>oY,ZodISODateTime:()=>dY,ZodISODate:()=>iY});var dY=U("ZodISODateTime",(Q,X)=>{QW.init(Q,X),i.init(Q,X)});function g6(Q){return $Y(dY,Q)}var iY=U("ZodISODate",(Q,X)=>{XW.init(Q,X),i.init(Q,X)});function y6(Q){return BY(iY,Q)}var rY=U("ZodISOTime",(Q,X)=>{WW.init(Q,X),i.init(Q,X)});function h6(Q){return zY(rY,Q)}var oY=U("ZodISODuration",(Q,X)=>{YW.init(Q,X),i.init(Q,X)});function u6(Q){return KY(oY,Q)}var nY=(Q,X)=>{x9.init(Q,X),Q.name="ZodError",Object.defineProperties(Q,{format:{value:(W)=>hX(Q,W)},flatten:{value:(W)=>yX(Q,W)},addIssue:{value:(W)=>{Q.issues.push(W),Q.message=JSON.stringify(Q.issues,D1,2)}},addIssues:{value:(W)=>{Q.issues.push(...W),Q.message=JSON.stringify(Q.issues,D1,2)}},isEmpty:{get(){return Q.issues.length===0}}})},VO=U("ZodError",nY),V0=U("ZodError",nY,{Parent:Error});var tY=g9(V0),aY=y9(V0),sY=l1(V0),eY=c1(V0),QG=uX(V0),XG=fX(V0),WG=lX(V0),YG=mX(V0),GG=cX(V0),JG=pX(V0),HG=dX(V0),$G=iX(V0);var o=U("ZodType",(Q,X)=>{return c.init(Q,X),Object.assign(Q["~standard"],{jsonSchema:{input:r1(Q,"input"),output:r1(Q,"output")}}),Q.toJSONSchema=NY(Q,{}),Q.def=X,Q.type=X.type,Object.defineProperty(Q,"_def",{value:X}),Q.check=(...W)=>{return Q.clone(y.mergeDefs(X,{checks:[...X.checks??[],...W.map((Y)=>typeof Y==="function"?{_zod:{check:Y,def:{check:"custom"},onattach:[]}}:Y)]}),{parent:!0})},Q.with=Q.check,Q.clone=(W,Y)=>I0(Q,W,Y),Q.brand=()=>Q,Q.register=(W,Y)=>{return W.add(Q,Y),Q},Q.parse=(W,Y)=>tY(Q,W,Y,{callee:Q.parse}),Q.safeParse=(W,Y)=>sY(Q,W,Y),Q.parseAsync=async(W,Y)=>aY(Q,W,Y,{callee:Q.parseAsync}),Q.safeParseAsync=async(W,Y)=>eY(Q,W,Y),Q.spa=Q.safeParseAsync,Q.encode=(W,Y)=>QG(Q,W,Y),Q.decode=(W,Y)=>XG(Q,W,Y),Q.encodeAsync=async(W,Y)=>WG(Q,W,Y),Q.decodeAsync=async(W,Y)=>YG(Q,W,Y),Q.safeEncode=(W,Y)=>GG(Q,W,Y),Q.safeDecode=(W,Y)=>JG(Q,W,Y),Q.safeEncodeAsync=async(W,Y)=>HG(Q,W,Y),Q.safeDecodeAsync=async(W,Y)=>$G(Q,W,Y),Q.refine=(W,Y)=>Q.check(BB(W,Y)),Q.superRefine=(W)=>Q.check(zB(W)),Q.overwrite=(W)=>Q.check(n0(W)),Q.optional=()=>t(Q),Q.exactOptional=()=>t$(Q),Q.nullable=()=>KG(Q),Q.nullish=()=>t(KG(Q)),Q.nonoptional=(W)=>WB(Q,W),Q.array=()=>v(Q),Q.or=(W)=>m([Q,W]),Q.and=(W)=>a9(Q,W),Q.transform=(W)=>l6(Q,UG(W)),Q.default=(W)=>e$(Q,W),Q.prefault=(W)=>XB(Q,W),Q.catch=(W)=>GB(Q,W),Q.pipe=(W)=>l6(Q,W),Q.readonly=()=>$B(Q),Q.describe=(W)=>{let Y=Q.clone();return $1.add(Y,{description:W}),Y},Object.defineProperty(Q,"description",{get(){return $1.get(Q)?.description},configurable:!0}),Q.meta=(...W)=>{if(W.length===0)return $1.get(Q);let Y=Q.clone();return $1.add(Y,W[0]),Y},Q.isOptional=()=>Q.safeParse(void 0).success,Q.isNullable=()=>Q.safeParse(null).success,Q.apply=(W)=>W(Q),Q}),FG=U("_ZodString",(Q,X)=>{c9.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(Y,G,J)=>wY(Q,Y,G,J);let W=Q._zod.bag;Q.format=W.format??null,Q.minLength=W.minimum??null,Q.maxLength=W.maximum??null,Q.regex=(...Y)=>Q.check(N6(...Y)),Q.includes=(...Y)=>Q.check(E6(...Y)),Q.startsWith=(...Y)=>Q.check(I6(...Y)),Q.endsWith=(...Y)=>Q.check(b6(...Y)),Q.min=(...Y)=>Q.check(q1(...Y)),Q.max=(...Y)=>Q.check(r9(...Y)),Q.length=(...Y)=>Q.check(o9(...Y)),Q.nonempty=(...Y)=>Q.check(q1(1,...Y)),Q.lowercase=(Y)=>Q.check(w6(Y)),Q.uppercase=(Y)=>Q.check(P6(Y)),Q.trim=()=>Q.check(j6()),Q.normalize=(...Y)=>Q.check(T6(...Y)),Q.toLowerCase=()=>Q.check(R6()),Q.toUpperCase=()=>Q.check(S6()),Q.slugify=()=>Q.check(C6())}),O$=U("ZodString",(Q,X)=>{c9.init(Q,X),FG.init(Q,X),Q.email=(W)=>Q.check(fW(M$,W)),Q.url=(W)=>Q.check(dW(N$,W)),Q.jwt=(W)=>Q.check(HY(g$,W)),Q.emoji=(W)=>Q.check(iW(w$,W)),Q.guid=(W)=>Q.check(M6(BG,W)),Q.uuid=(W)=>Q.check(lW(t9,W)),Q.uuidv4=(W)=>Q.check(mW(t9,W)),Q.uuidv6=(W)=>Q.check(cW(t9,W)),Q.uuidv7=(W)=>Q.check(pW(t9,W)),Q.nanoid=(W)=>Q.check(rW(P$,W)),Q.guid=(W)=>Q.check(M6(BG,W)),Q.cuid=(W)=>Q.check(oW(E$,W)),Q.cuid2=(W)=>Q.check(nW(I$,W)),Q.ulid=(W)=>Q.check(tW(b$,W)),Q.base64=(W)=>Q.check(YY(v$,W)),Q.base64url=(W)=>Q.check(GY(_$,W)),Q.xid=(W)=>Q.check(aW(T$,W)),Q.ksuid=(W)=>Q.check(sW(j$,W)),Q.ipv4=(W)=>Q.check(eW(R$,W)),Q.ipv6=(W)=>Q.check(QY(S$,W)),Q.cidrv4=(W)=>Q.check(XY(C$,W)),Q.cidrv6=(W)=>Q.check(WY(k$,W)),Q.e164=(W)=>Q.check(JY(x$,W)),Q.datetime=(W)=>Q.check(g6(W)),Q.date=(W)=>Q.check(y6(W)),Q.time=(W)=>Q.check(h6(W)),Q.duration=(W)=>Q.check(u6(W))});function D(Q){return uW(O$,Q)}var i=U("ZodStringFormat",(Q,X)=>{p.init(Q,X),FG.init(Q,X)}),M$=U("ZodEmail",(Q,X)=>{d4.init(Q,X),i.init(Q,X)});var BG=U("ZodGUID",(Q,X)=>{c4.init(Q,X),i.init(Q,X)});var t9=U("ZodUUID",(Q,X)=>{p4.init(Q,X),i.init(Q,X)});var N$=U("ZodURL",(Q,X)=>{i4.init(Q,X),i.init(Q,X)});var w$=U("ZodEmoji",(Q,X)=>{r4.init(Q,X),i.init(Q,X)});var P$=U("ZodNanoID",(Q,X)=>{o4.init(Q,X),i.init(Q,X)});var E$=U("ZodCUID",(Q,X)=>{n4.init(Q,X),i.init(Q,X)});var I$=U("ZodCUID2",(Q,X)=>{t4.init(Q,X),i.init(Q,X)});var b$=U("ZodULID",(Q,X)=>{a4.init(Q,X),i.init(Q,X)});var T$=U("ZodXID",(Q,X)=>{s4.init(Q,X),i.init(Q,X)});var j$=U("ZodKSUID",(Q,X)=>{e4.init(Q,X),i.init(Q,X)});var R$=U("ZodIPv4",(Q,X)=>{GW.init(Q,X),i.init(Q,X)});var S$=U("ZodIPv6",(Q,X)=>{JW.init(Q,X),i.init(Q,X)});var C$=U("ZodCIDRv4",(Q,X)=>{HW.init(Q,X),i.init(Q,X)});var k$=U("ZodCIDRv6",(Q,X)=>{$W.init(Q,X),i.init(Q,X)});var v$=U("ZodBase64",(Q,X)=>{zW.init(Q,X),i.init(Q,X)});var _$=U("ZodBase64URL",(Q,X)=>{KW.init(Q,X),i.init(Q,X)});var x$=U("ZodE164",(Q,X)=>{FW.init(Q,X),i.init(Q,X)});var g$=U("ZodJWT",(Q,X)=>{LW.init(Q,X),i.init(Q,X)});var LG=U("ZodNumber",(Q,X)=>{V6.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(Y,G,J)=>PY(Q,Y,G,J),Q.gt=(Y,G)=>Q.check(d9(Y,G)),Q.gte=(Y,G)=>Q.check(i1(Y,G)),Q.min=(Y,G)=>Q.check(i1(Y,G)),Q.lt=(Y,G)=>Q.check(p9(Y,G)),Q.lte=(Y,G)=>Q.check(d1(Y,G)),Q.max=(Y,G)=>Q.check(d1(Y,G)),Q.int=(Y)=>Q.check(zG(Y)),Q.safe=(Y)=>Q.check(zG(Y)),Q.positive=(Y)=>Q.check(d9(0,Y)),Q.nonnegative=(Y)=>Q.check(i1(0,Y)),Q.negative=(Y)=>Q.check(p9(0,Y)),Q.nonpositive=(Y)=>Q.check(d1(0,Y)),Q.multipleOf=(Y,G)=>Q.check(i9(Y,G)),Q.step=(Y,G)=>Q.check(i9(Y,G)),Q.finite=()=>Q;let W=Q._zod.bag;Q.minValue=Math.max(W.minimum??Number.NEGATIVE_INFINITY,W.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,Q.maxValue=Math.min(W.maximum??Number.POSITIVE_INFINITY,W.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,Q.isInt=(W.format??"").includes("int")||Number.isSafeInteger(W.multipleOf??0.5),Q.isFinite=!0,Q.format=W.format??null});function f(Q){return FY(LG,Q)}var y$=U("ZodNumberFormat",(Q,X)=>{AW.init(Q,X),LG.init(Q,X)});function zG(Q){return LY(y$,Q)}var h$=U("ZodBoolean",(Q,X)=>{DW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>EY(Q,W,Y,G)});function e(Q){return AY(h$,Q)}var u$=U("ZodNull",(Q,X)=>{UW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>IY(Q,W,Y,G)});function m6(Q){return DY(u$,Q)}var f$=U("ZodUnknown",(Q,X)=>{VW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>TY(Q,W,Y,G)});function r(){return UY(f$)}var l$=U("ZodNever",(Q,X)=>{qW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>bY(Q,W,Y,G)});function m$(Q){return VY(l$,Q)}var c$=U("ZodArray",(Q,X)=>{ZW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>kY(Q,W,Y,G),Q.element=X.element,Q.min=(W,Y)=>Q.check(q1(W,Y)),Q.nonempty=(W)=>Q.check(q1(1,W)),Q.max=(W,Y)=>Q.check(r9(W,Y)),Q.length=(W,Y)=>Q.check(o9(W,Y)),Q.unwrap=()=>Q.element});function v(Q,X){return qY(c$,Q,X)}var AG=U("ZodObject",(Q,X)=>{NW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>vY(Q,W,Y,G),y.defineLazy(Q,"shape",()=>{return X.shape}),Q.keyof=()=>F0(Object.keys(Q._zod.def.shape)),Q.catchall=(W)=>Q.clone({...Q._zod.def,catchall:W}),Q.passthrough=()=>Q.clone({...Q._zod.def,catchall:r()}),Q.loose=()=>Q.clone({...Q._zod.def,catchall:r()}),Q.strict=()=>Q.clone({...Q._zod.def,catchall:m$()}),Q.strip=()=>Q.clone({...Q._zod.def,catchall:void 0}),Q.extend=(W)=>{return y.extend(Q,W)},Q.safeExtend=(W)=>{return y.safeExtend(Q,W)},Q.merge=(W)=>y.merge(Q,W),Q.pick=(W)=>y.pick(Q,W),Q.omit=(W)=>y.omit(Q,W),Q.partial=(...W)=>y.partial(VG,Q,W[0]),Q.required=(...W)=>y.required(qG,Q,W[0])});function N(Q,X){let W={type:"object",shape:Q??{},...y.normalizeParams(X)};return new AG(W)}function B0(Q,X){return new AG({type:"object",shape:Q,catchall:r(),...y.normalizeParams(X)})}var DG=U("ZodUnion",(Q,X)=>{q6.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>_Y(Q,W,Y,G),Q.options=X.options});function m(Q,X){return new DG({type:"union",options:Q,...y.normalizeParams(X)})}var p$=U("ZodDiscriminatedUnion",(Q,X)=>{DG.init(Q,X),wW.init(Q,X)});function c6(Q,X,W){return new p$({type:"union",options:X,discriminator:Q,...y.normalizeParams(W)})}var d$=U("ZodIntersection",(Q,X)=>{PW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>xY(Q,W,Y,G)});function a9(Q,X){return new d$({type:"intersection",left:Q,right:X})}var i$=U("ZodRecord",(Q,X)=>{EW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>gY(Q,W,Y,G),Q.keyType=X.keyType,Q.valueType=X.valueType});function n(Q,X,W){return new i$({type:"record",keyType:Q,valueType:X,...y.normalizeParams(W)})}var f6=U("ZodEnum",(Q,X)=>{IW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(Y,G,J)=>jY(Q,Y,G,J),Q.enum=X.entries,Q.options=Object.values(X.entries);let W=new Set(Object.keys(X.entries));Q.extract=(Y,G)=>{let J={};for(let H of Y)if(W.has(H))J[H]=X.entries[H];else throw Error(`Key ${H} not found in enum`);return new f6({...X,checks:[],...y.normalizeParams(G),entries:J})},Q.exclude=(Y,G)=>{let J={...X.entries};for(let H of Y)if(W.has(H))delete J[H];else throw Error(`Key ${H} not found in enum`);return new f6({...X,checks:[],...y.normalizeParams(G),entries:J})}});function F0(Q,X){let W=Array.isArray(Q)?Object.fromEntries(Q.map((Y)=>[Y,Y])):Q;return new f6({type:"enum",entries:W,...y.normalizeParams(X)})}var r$=U("ZodLiteral",(Q,X)=>{bW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>RY(Q,W,Y,G),Q.values=new Set(X.values),Object.defineProperty(Q,"value",{get(){if(X.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return X.values[0]}})});function w(Q,X){return new r$({type:"literal",values:Array.isArray(Q)?Q:[Q],...y.normalizeParams(X)})}var o$=U("ZodTransform",(Q,X)=>{TW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>CY(Q,W,Y,G),Q._zod.parse=(W,Y)=>{if(Y.direction==="backward")throw new x1(Q.constructor.name);W.addIssue=(J)=>{if(typeof J==="string")W.issues.push(y.issue(J,W.value,X));else{let H=J;if(H.fatal)H.continue=!1;H.code??(H.code="custom"),H.input??(H.input=W.value),H.inst??(H.inst=Q),W.issues.push(y.issue(H))}};let G=X.transform(W.value,W);if(G instanceof Promise)return G.then((J)=>{return W.value=J,W});return W.value=G,W}});function UG(Q){return new o$({type:"transform",transform:Q})}var VG=U("ZodOptional",(Q,X)=>{Z6.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>x6(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType});function t(Q){return new VG({type:"optional",innerType:Q})}var n$=U("ZodExactOptional",(Q,X)=>{jW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>x6(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType});function t$(Q){return new n$({type:"optional",innerType:Q})}var a$=U("ZodNullable",(Q,X)=>{RW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>yY(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType});function KG(Q){return new a$({type:"nullable",innerType:Q})}var s$=U("ZodDefault",(Q,X)=>{SW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>uY(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType,Q.removeDefault=Q.unwrap});function e$(Q,X){return new s$({type:"default",innerType:Q,get defaultValue(){return typeof X==="function"?X():y.shallowClone(X)}})}var QB=U("ZodPrefault",(Q,X)=>{CW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>fY(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType});function XB(Q,X){return new QB({type:"prefault",innerType:Q,get defaultValue(){return typeof X==="function"?X():y.shallowClone(X)}})}var qG=U("ZodNonOptional",(Q,X)=>{kW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>hY(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType});function WB(Q,X){return new qG({type:"nonoptional",innerType:Q,...y.normalizeParams(X)})}var YB=U("ZodCatch",(Q,X)=>{vW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>lY(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType,Q.removeCatch=Q.unwrap});function GB(Q,X){return new YB({type:"catch",innerType:Q,catchValue:typeof X==="function"?X:()=>X})}var JB=U("ZodPipe",(Q,X)=>{_W.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>mY(Q,W,Y,G),Q.in=X.in,Q.out=X.out});function l6(Q,X){return new JB({type:"pipe",in:Q,out:X})}var HB=U("ZodReadonly",(Q,X)=>{xW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>cY(Q,W,Y,G),Q.unwrap=()=>Q._zod.def.innerType});function $B(Q){return new HB({type:"readonly",innerType:Q})}var ZG=U("ZodCustom",(Q,X)=>{gW.init(Q,X),o.init(Q,X),Q._zod.processJSONSchema=(W,Y,G)=>SY(Q,W,Y,G)});function OG(Q,X){return ZY(ZG,Q??(()=>!0),X)}function BB(Q,X={}){return OY(ZG,Q,X)}function zB(Q){return MY(Q)}function p6(Q,X){return l6(UG(Q),X)}Z0(O6());var d6="2025-11-25";var MG=[d6,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],a0="io.modelcontextprotocol/related-task",e9="2.0",X0=OG((Q)=>Q!==null&&(typeof Q==="object"||typeof Q==="function")),NG=m([D(),f().int()]),wG=D(),vM=B0({ttl:m([f(),m6()]).optional(),pollInterval:f().optional()}),KB=N({ttl:f().optional()}),FB=N({taskId:D()}),i6=B0({progressToken:NG.optional(),[a0]:FB.optional()}),q0=N({_meta:i6.optional()}),t1=q0.extend({task:KB.optional()}),PG=(Q)=>t1.safeParse(Q).success,W0=N({method:D(),params:q0.loose().optional()}),O0=N({_meta:i6.optional()}),M0=N({method:D(),params:O0.loose().optional()}),Y0=B0({_meta:i6.optional()}),QQ=m([D(),f().int()]),EG=N({jsonrpc:w(e9),id:QQ,...W0.shape}).strict(),r6=(Q)=>EG.safeParse(Q).success,IG=N({jsonrpc:w(e9),...M0.shape}).strict(),bG=(Q)=>IG.safeParse(Q).success,o6=N({jsonrpc:w(e9),id:QQ,result:Y0}).strict(),a1=(Q)=>o6.safeParse(Q).success;var _;(function(Q){Q[Q.ConnectionClosed=-32000]="ConnectionClosed",Q[Q.RequestTimeout=-32001]="RequestTimeout",Q[Q.ParseError=-32700]="ParseError",Q[Q.InvalidRequest=-32600]="InvalidRequest",Q[Q.MethodNotFound=-32601]="MethodNotFound",Q[Q.InvalidParams=-32602]="InvalidParams",Q[Q.InternalError=-32603]="InternalError",Q[Q.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(_||(_={}));var n6=N({jsonrpc:w(e9),id:QQ.optional(),error:N({code:f().int(),message:D(),data:r().optional()})}).strict();var TG=(Q)=>n6.safeParse(Q).success;var jG=m([EG,IG,o6,n6]),_M=m([o6,n6]),XQ=Y0.strict(),LB=O0.extend({requestId:QQ.optional(),reason:D().optional()}),WQ=M0.extend({method:w("notifications/cancelled"),params:LB}),AB=N({src:D(),mimeType:D().optional(),sizes:v(D()).optional(),theme:F0(["light","dark"]).optional()}),s1=N({icons:v(AB).optional()}),O1=N({name:D(),title:D().optional()}),RG=O1.extend({...O1.shape,...s1.shape,version:D(),websiteUrl:D().optional(),description:D().optional()}),DB=a9(N({applyDefaults:e().optional()}),n(D(),r())),UB=p6((Q)=>{if(Q&&typeof Q==="object"&&!Array.isArray(Q)){if(Object.keys(Q).length===0)return{form:{}}}return Q},a9(N({form:DB.optional(),url:X0.optional()}),n(D(),r()).optional())),VB=B0({list:X0.optional(),cancel:X0.optional(),requests:B0({sampling:B0({createMessage:X0.optional()}).optional(),elicitation:B0({create:X0.optional()}).optional()}).optional()}),qB=B0({list:X0.optional(),cancel:X0.optional(),requests:B0({tools:B0({call:X0.optional()}).optional()}).optional()}),ZB=N({experimental:n(D(),X0).optional(),sampling:N({context:X0.optional(),tools:X0.optional()}).optional(),elicitation:UB.optional(),roots:N({listChanged:e().optional()}).optional(),tasks:VB.optional()}),OB=q0.extend({protocolVersion:D(),capabilities:ZB,clientInfo:RG}),t6=W0.extend({method:w("initialize"),params:OB});var MB=N({experimental:n(D(),X0).optional(),logging:X0.optional(),completions:X0.optional(),prompts:N({listChanged:e().optional()}).optional(),resources:N({subscribe:e().optional(),listChanged:e().optional()}).optional(),tools:N({listChanged:e().optional()}).optional(),tasks:qB.optional()}),NB=Y0.extend({protocolVersion:D(),capabilities:MB,serverInfo:RG,instructions:D().optional()}),a6=M0.extend({method:w("notifications/initialized"),params:O0.optional()});var YQ=W0.extend({method:w("ping"),params:q0.optional()}),wB=N({progress:f(),total:t(f()),message:t(D())}),PB=N({...O0.shape,...wB.shape,progressToken:NG}),GQ=M0.extend({method:w("notifications/progress"),params:PB}),EB=q0.extend({cursor:wG.optional()}),e1=W0.extend({params:EB.optional()}),Q9=Y0.extend({nextCursor:wG.optional()}),IB=F0(["working","input_required","completed","failed","cancelled"]),X9=N({taskId:D(),status:IB,ttl:m([f(),m6()]),createdAt:D(),lastUpdatedAt:D(),pollInterval:t(f()),statusMessage:t(D())}),M1=Y0.extend({task:X9}),bB=O0.merge(X9),W9=M0.extend({method:w("notifications/tasks/status"),params:bB}),JQ=W0.extend({method:w("tasks/get"),params:q0.extend({taskId:D()})}),HQ=Y0.merge(X9),$Q=W0.extend({method:w("tasks/result"),params:q0.extend({taskId:D()})}),xM=Y0.loose(),BQ=e1.extend({method:w("tasks/list")}),zQ=Q9.extend({tasks:v(X9)}),KQ=W0.extend({method:w("tasks/cancel"),params:q0.extend({taskId:D()})}),SG=Y0.merge(X9),CG=N({uri:D(),mimeType:t(D()),_meta:n(D(),r()).optional()}),kG=CG.extend({text:D()}),s6=D().refine((Q)=>{try{return atob(Q),!0}catch{return!1}},{message:"Invalid Base64 string"}),vG=CG.extend({blob:s6}),Y9=F0(["user","assistant"]),N1=N({audience:v(Y9).optional(),priority:f().min(0).max(1).optional(),lastModified:n1.datetime({offset:!0}).optional()}),_G=N({...O1.shape,...s1.shape,uri:D(),description:t(D()),mimeType:t(D()),annotations:N1.optional(),_meta:t(B0({}))}),TB=N({...O1.shape,...s1.shape,uriTemplate:D(),description:t(D()),mimeType:t(D()),annotations:N1.optional(),_meta:t(B0({}))}),jB=e1.extend({method:w("resources/list")}),RB=Q9.extend({resources:v(_G)}),SB=e1.extend({method:w("resources/templates/list")}),CB=Q9.extend({resourceTemplates:v(TB)}),e6=q0.extend({uri:D()}),kB=e6,vB=W0.extend({method:w("resources/read"),params:kB}),_B=Y0.extend({contents:v(m([kG,vG]))}),xB=M0.extend({method:w("notifications/resources/list_changed"),params:O0.optional()}),gB=e6,yB=W0.extend({method:w("resources/subscribe"),params:gB}),hB=e6,uB=W0.extend({method:w("resources/unsubscribe"),params:hB}),fB=O0.extend({uri:D()}),lB=M0.extend({method:w("notifications/resources/updated"),params:fB}),mB=N({name:D(),description:t(D()),required:t(e())}),cB=N({...O1.shape,...s1.shape,description:t(D()),arguments:t(v(mB)),_meta:t(B0({}))}),pB=e1.extend({method:w("prompts/list")}),dB=Q9.extend({prompts:v(cB)}),iB=q0.extend({name:D(),arguments:n(D(),D()).optional()}),rB=W0.extend({method:w("prompts/get"),params:iB}),Q8=N({type:w("text"),text:D(),annotations:N1.optional(),_meta:n(D(),r()).optional()}),X8=N({type:w("image"),data:s6,mimeType:D(),annotations:N1.optional(),_meta:n(D(),r()).optional()}),W8=N({type:w("audio"),data:s6,mimeType:D(),annotations:N1.optional(),_meta:n(D(),r()).optional()}),oB=N({type:w("tool_use"),name:D(),id:D(),input:n(D(),r()),_meta:n(D(),r()).optional()}),nB=N({type:w("resource"),resource:m([kG,vG]),annotations:N1.optional(),_meta:n(D(),r()).optional()}),tB=_G.extend({type:w("resource_link")}),Y8=m([Q8,X8,W8,tB,nB]),aB=N({role:Y9,content:Y8}),sB=Y0.extend({description:D().optional(),messages:v(aB)}),eB=M0.extend({method:w("notifications/prompts/list_changed"),params:O0.optional()}),Qz=N({title:D().optional(),readOnlyHint:e().optional(),destructiveHint:e().optional(),idempotentHint:e().optional(),openWorldHint:e().optional()}),Xz=N({taskSupport:F0(["required","optional","forbidden"]).optional()}),xG=N({...O1.shape,...s1.shape,description:D().optional(),inputSchema:N({type:w("object"),properties:n(D(),X0).optional(),required:v(D()).optional()}).catchall(r()),outputSchema:N({type:w("object"),properties:n(D(),X0).optional(),required:v(D()).optional()}).catchall(r()).optional(),annotations:Qz.optional(),execution:Xz.optional(),_meta:n(D(),r()).optional()}),G8=e1.extend({method:w("tools/list")}),Wz=Q9.extend({tools:v(xG)}),FQ=Y0.extend({content:v(Y8).default([]),structuredContent:n(D(),r()).optional(),isError:e().optional()}),gM=FQ.or(Y0.extend({toolResult:r()})),Yz=t1.extend({name:D(),arguments:n(D(),r()).optional()}),G9=W0.extend({method:w("tools/call"),params:Yz}),Gz=M0.extend({method:w("notifications/tools/list_changed"),params:O0.optional()}),yM=N({autoRefresh:e().default(!0),debounceMs:f().int().nonnegative().default(300)}),J9=F0(["debug","info","notice","warning","error","critical","alert","emergency"]),Jz=q0.extend({level:J9}),J8=W0.extend({method:w("logging/setLevel"),params:Jz}),Hz=O0.extend({level:J9,logger:D().optional(),data:r()}),$z=M0.extend({method:w("notifications/message"),params:Hz}),Bz=N({name:D().optional()}),zz=N({hints:v(Bz).optional(),costPriority:f().min(0).max(1).optional(),speedPriority:f().min(0).max(1).optional(),intelligencePriority:f().min(0).max(1).optional()}),Kz=N({mode:F0(["auto","required","none"]).optional()}),Fz=N({type:w("tool_result"),toolUseId:D().describe("The unique identifier for the corresponding tool call."),content:v(Y8).default([]),structuredContent:N({}).loose().optional(),isError:e().optional(),_meta:n(D(),r()).optional()}),Lz=c6("type",[Q8,X8,W8]),s9=c6("type",[Q8,X8,W8,oB,Fz]),Az=N({role:Y9,content:m([s9,v(s9)]),_meta:n(D(),r()).optional()}),Dz=t1.extend({messages:v(Az),modelPreferences:zz.optional(),systemPrompt:D().optional(),includeContext:F0(["none","thisServer","allServers"]).optional(),temperature:f().optional(),maxTokens:f().int(),stopSequences:v(D()).optional(),metadata:X0.optional(),tools:v(xG).optional(),toolChoice:Kz.optional()}),Uz=W0.extend({method:w("sampling/createMessage"),params:Dz}),H8=Y0.extend({model:D(),stopReason:t(F0(["endTurn","stopSequence","maxTokens"]).or(D())),role:Y9,content:Lz}),$8=Y0.extend({model:D(),stopReason:t(F0(["endTurn","stopSequence","maxTokens","toolUse"]).or(D())),role:Y9,content:m([s9,v(s9)])}),Vz=N({type:w("boolean"),title:D().optional(),description:D().optional(),default:e().optional()}),qz=N({type:w("string"),title:D().optional(),description:D().optional(),minLength:f().optional(),maxLength:f().optional(),format:F0(["email","uri","date","date-time"]).optional(),default:D().optional()}),Zz=N({type:F0(["number","integer"]),title:D().optional(),description:D().optional(),minimum:f().optional(),maximum:f().optional(),default:f().optional()}),Oz=N({type:w("string"),title:D().optional(),description:D().optional(),enum:v(D()),default:D().optional()}),Mz=N({type:w("string"),title:D().optional(),description:D().optional(),oneOf:v(N({const:D(),title:D()})),default:D().optional()}),Nz=N({type:w("string"),title:D().optional(),description:D().optional(),enum:v(D()),enumNames:v(D()).optional(),default:D().optional()}),wz=m([Oz,Mz]),Pz=N({type:w("array"),title:D().optional(),description:D().optional(),minItems:f().optional(),maxItems:f().optional(),items:N({type:w("string"),enum:v(D())}),default:v(D()).optional()}),Ez=N({type:w("array"),title:D().optional(),description:D().optional(),minItems:f().optional(),maxItems:f().optional(),items:N({anyOf:v(N({const:D(),title:D()}))}),default:v(D()).optional()}),Iz=m([Pz,Ez]),bz=m([Nz,wz,Iz]),Tz=m([bz,Vz,qz,Zz]),jz=t1.extend({mode:w("form").optional(),message:D(),requestedSchema:N({type:w("object"),properties:n(D(),Tz),required:v(D()).optional()})}),Rz=t1.extend({mode:w("url"),message:D(),elicitationId:D(),url:D().url()}),Sz=m([jz,Rz]),Cz=W0.extend({method:w("elicitation/create"),params:Sz}),kz=O0.extend({elicitationId:D()}),vz=M0.extend({method:w("notifications/elicitation/complete"),params:kz}),LQ=Y0.extend({action:F0(["accept","decline","cancel"]),content:p6((Q)=>Q===null?void 0:Q,n(D(),m([D(),f(),e(),v(D())])).optional())}),_z=N({type:w("ref/resource"),uri:D()});var xz=N({type:w("ref/prompt"),name:D()}),gz=q0.extend({ref:m([xz,_z]),argument:N({name:D(),value:D()}),context:N({arguments:n(D(),D()).optional()}).optional()}),yz=W0.extend({method:w("completion/complete"),params:gz});var hz=Y0.extend({completion:B0({values:v(D()).max(100),total:t(f().int()),hasMore:t(e())})}),uz=N({uri:D().startsWith("file://"),name:D().optional(),_meta:n(D(),r()).optional()}),fz=W0.extend({method:w("roots/list"),params:q0.optional()}),B8=Y0.extend({roots:v(uz)}),lz=M0.extend({method:w("notifications/roots/list_changed"),params:O0.optional()}),hM=m([YQ,t6,yz,J8,rB,pB,jB,SB,vB,yB,uB,G9,G8,JQ,$Q,BQ,KQ]),uM=m([WQ,GQ,a6,lz,W9]),fM=m([XQ,H8,$8,LQ,B8,HQ,zQ,M1]),lM=m([YQ,Uz,Cz,fz,JQ,$Q,BQ,KQ]),mM=m([WQ,GQ,$z,lB,xB,Gz,eB,W9,vz]),cM=m([XQ,NB,hz,sB,dB,RB,CB,_B,FQ,Wz,HQ,zQ,M1]);class C extends Error{constructor(Q,X,W){super(`MCP error ${Q}: ${X}`);this.code=Q,this.data=W,this.name="McpError"}static fromError(Q,X,W){if(Q===_.UrlElicitationRequired&&W){let Y=W;if(Y.elicitations)return new gG(Y.elicitations,X)}return new C(Q,X,W)}}class gG extends C{constructor(Q,X=`URL elicitation${Q.length>1?"s":""} required`){super(_.UrlElicitationRequired,X,{elicitations:Q})}get elicitations(){return this.data?.elicitations??[]}}function s0(Q){return Q==="completed"||Q==="failed"||Q==="cancelled"}var mz=Symbol("Let zodToJsonSchema decide on which parser to use");var wN=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function z8(Q){let W=n9(Q)?.method;if(!W)throw Error("Schema is missing a method literal");let Y=pY(W);if(typeof Y!=="string")throw Error("Schema method literal must be a string");return Y}function K8(Q,X){let W=t0(Q,X);if(!W.success)throw W.error;return W.data}var oz=60000;class F8{constructor(Q){if(this._options=Q,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(WQ,(X)=>{this._oncancel(X)}),this.setNotificationHandler(GQ,(X)=>{this._onprogress(X)}),this.setRequestHandler(YQ,(X)=>({})),this._taskStore=Q?.taskStore,this._taskMessageQueue=Q?.taskMessageQueue,this._taskStore)this.setRequestHandler(JQ,async(X,W)=>{let Y=await this._taskStore.getTask(X.params.taskId,W.sessionId);if(!Y)throw new C(_.InvalidParams,"Failed to retrieve task: Task not found");return{...Y}}),this.setRequestHandler($Q,async(X,W)=>{let Y=async()=>{let G=X.params.taskId;if(this._taskMessageQueue){let H;while(H=await this._taskMessageQueue.dequeue(G,W.sessionId)){if(H.type==="response"||H.type==="error"){let $=H.message,B=$.id,z=this._requestResolvers.get(B);if(z)if(this._requestResolvers.delete(B),H.type==="response")z($);else{let K=$,F=new C(K.error.code,K.error.message,K.error.data);z(F)}else{let K=H.type==="response"?"Response":"Error";this._onerror(Error(`${K} handler missing for request ${B}`))}continue}await this._transport?.send(H.message,{relatedRequestId:W.requestId})}}let J=await this._taskStore.getTask(G,W.sessionId);if(!J)throw new C(_.InvalidParams,`Task not found: ${G}`);if(!s0(J.status))return await this._waitForTaskUpdate(G,W.signal),await Y();if(s0(J.status)){let H=await this._taskStore.getTaskResult(G,W.sessionId);return this._clearTaskQueue(G),{...H,_meta:{...H._meta,[a0]:{taskId:G}}}}return await Y()};return await Y()}),this.setRequestHandler(BQ,async(X,W)=>{try{let{tasks:Y,nextCursor:G}=await this._taskStore.listTasks(X.params?.cursor,W.sessionId);return{tasks:Y,nextCursor:G,_meta:{}}}catch(Y){throw new C(_.InvalidParams,`Failed to list tasks: ${Y instanceof Error?Y.message:String(Y)}`)}}),this.setRequestHandler(KQ,async(X,W)=>{try{let Y=await this._taskStore.getTask(X.params.taskId,W.sessionId);if(!Y)throw new C(_.InvalidParams,`Task not found: ${X.params.taskId}`);if(s0(Y.status))throw new C(_.InvalidParams,`Cannot cancel task in terminal status: ${Y.status}`);await this._taskStore.updateTaskStatus(X.params.taskId,"cancelled","Client cancelled task execution.",W.sessionId),this._clearTaskQueue(X.params.taskId);let G=await this._taskStore.getTask(X.params.taskId,W.sessionId);if(!G)throw new C(_.InvalidParams,`Task not found after cancellation: ${X.params.taskId}`);return{_meta:{},...G}}catch(Y){if(Y instanceof C)throw Y;throw new C(_.InvalidRequest,`Failed to cancel task: ${Y instanceof Error?Y.message:String(Y)}`)}})}async _oncancel(Q){if(!Q.params.requestId)return;this._requestHandlerAbortControllers.get(Q.params.requestId)?.abort(Q.params.reason)}_setupTimeout(Q,X,W,Y,G=!1){this._timeoutInfo.set(Q,{timeoutId:setTimeout(Y,X),startTime:Date.now(),timeout:X,maxTotalTimeout:W,resetTimeoutOnProgress:G,onTimeout:Y})}_resetTimeout(Q){let X=this._timeoutInfo.get(Q);if(!X)return!1;let W=Date.now()-X.startTime;if(X.maxTotalTimeout&&W>=X.maxTotalTimeout)throw this._timeoutInfo.delete(Q),C.fromError(_.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:X.maxTotalTimeout,totalElapsed:W});return clearTimeout(X.timeoutId),X.timeoutId=setTimeout(X.onTimeout,X.timeout),!0}_cleanupTimeout(Q){let X=this._timeoutInfo.get(Q);if(X)clearTimeout(X.timeoutId),this._timeoutInfo.delete(Q)}async connect(Q){this._transport=Q;let X=this.transport?.onclose;this._transport.onclose=()=>{X?.(),this._onclose()};let W=this.transport?.onerror;this._transport.onerror=(G)=>{W?.(G),this._onerror(G)};let Y=this._transport?.onmessage;this._transport.onmessage=(G,J)=>{if(Y?.(G,J),a1(G)||TG(G))this._onresponse(G);else if(r6(G))this._onrequest(G,J);else if(bG(G))this._onnotification(G);else this._onerror(Error(`Unknown message type: ${JSON.stringify(G)}`))},await this._transport.start()}_onclose(){let Q=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();let X=C.fromError(_.ConnectionClosed,"Connection closed");this._transport=void 0,this.onclose?.();for(let W of Q.values())W(X)}_onerror(Q){this.onerror?.(Q)}_onnotification(Q){let X=this._notificationHandlers.get(Q.method)??this.fallbackNotificationHandler;if(X===void 0)return;Promise.resolve().then(()=>X(Q)).catch((W)=>this._onerror(Error(`Uncaught error in notification handler: ${W}`)))}_onrequest(Q,X){let W=this._requestHandlers.get(Q.method)??this.fallbackRequestHandler,Y=this._transport,G=Q.params?._meta?.[a0]?.taskId;if(W===void 0){let z={jsonrpc:"2.0",id:Q.id,error:{code:_.MethodNotFound,message:"Method not found"}};if(G&&this._taskMessageQueue)this._enqueueTaskMessage(G,{type:"error",message:z,timestamp:Date.now()},Y?.sessionId).catch((K)=>this._onerror(Error(`Failed to enqueue error response: ${K}`)));else Y?.send(z).catch((K)=>this._onerror(Error(`Failed to send an error response: ${K}`)));return}let J=new AbortController;this._requestHandlerAbortControllers.set(Q.id,J);let H=PG(Q.params)?Q.params.task:void 0,$=this._taskStore?this.requestTaskStore(Q,Y?.sessionId):void 0,B={signal:J.signal,sessionId:Y?.sessionId,_meta:Q.params?._meta,sendNotification:async(z)=>{let K={relatedRequestId:Q.id};if(G)K.relatedTask={taskId:G};await this.notification(z,K)},sendRequest:async(z,K,F)=>{let A={...F,relatedRequestId:Q.id};if(G&&!A.relatedTask)A.relatedTask={taskId:G};let L=A.relatedTask?.taskId??G;if(L&&$)await $.updateTaskStatus(L,"input_required");return await this.request(z,K,A)},authInfo:X?.authInfo,requestId:Q.id,requestInfo:X?.requestInfo,taskId:G,taskStore:$,taskRequestedTtl:H?.ttl,closeSSEStream:X?.closeSSEStream,closeStandaloneSSEStream:X?.closeStandaloneSSEStream};Promise.resolve().then(()=>{if(H)this.assertTaskHandlerCapability(Q.method)}).then(()=>W(Q,B)).then(async(z)=>{if(J.signal.aborted)return;let K={result:z,jsonrpc:"2.0",id:Q.id};if(G&&this._taskMessageQueue)await this._enqueueTaskMessage(G,{type:"response",message:K,timestamp:Date.now()},Y?.sessionId);else await Y?.send(K)},async(z)=>{if(J.signal.aborted)return;let K={jsonrpc:"2.0",id:Q.id,error:{code:Number.isSafeInteger(z.code)?z.code:_.InternalError,message:z.message??"Internal error",...z.data!==void 0&&{data:z.data}}};if(G&&this._taskMessageQueue)await this._enqueueTaskMessage(G,{type:"error",message:K,timestamp:Date.now()},Y?.sessionId);else await Y?.send(K)}).catch((z)=>this._onerror(Error(`Failed to send response: ${z}`))).finally(()=>{this._requestHandlerAbortControllers.delete(Q.id)})}_onprogress(Q){let{progressToken:X,...W}=Q.params,Y=Number(X),G=this._progressHandlers.get(Y);if(!G){this._onerror(Error(`Received a progress notification for an unknown token: ${JSON.stringify(Q)}`));return}let J=this._responseHandlers.get(Y),H=this._timeoutInfo.get(Y);if(H&&J&&H.resetTimeoutOnProgress)try{this._resetTimeout(Y)}catch($){this._responseHandlers.delete(Y),this._progressHandlers.delete(Y),this._cleanupTimeout(Y),J($);return}G(W)}_onresponse(Q){let X=Number(Q.id),W=this._requestResolvers.get(X);if(W){if(this._requestResolvers.delete(X),a1(Q))W(Q);else{let J=new C(Q.error.code,Q.error.message,Q.error.data);W(J)}return}let Y=this._responseHandlers.get(X);if(Y===void 0){this._onerror(Error(`Received a response for an unknown message ID: ${JSON.stringify(Q)}`));return}this._responseHandlers.delete(X),this._cleanupTimeout(X);let G=!1;if(a1(Q)&&Q.result&&typeof Q.result==="object"){let J=Q.result;if(J.task&&typeof J.task==="object"){let H=J.task;if(typeof H.taskId==="string")G=!0,this._taskProgressTokens.set(H.taskId,X)}}if(!G)this._progressHandlers.delete(X);if(a1(Q))Y(Q);else{let J=C.fromError(Q.error.code,Q.error.message,Q.error.data);Y(J)}}get transport(){return this._transport}async close(){await this._transport?.close()}async*requestStream(Q,X,W){let{task:Y}=W??{};if(!Y){try{yield{type:"result",result:await this.request(Q,X,W)}}catch(J){yield{type:"error",error:J instanceof C?J:new C(_.InternalError,String(J))}}return}let G;try{let J=await this.request(Q,M1,W);if(J.task)G=J.task.taskId,yield{type:"taskCreated",task:J.task};else throw new C(_.InternalError,"Task creation did not return a task");while(!0){let H=await this.getTask({taskId:G},W);if(yield{type:"taskStatus",task:H},s0(H.status)){if(H.status==="completed")yield{type:"result",result:await this.getTaskResult({taskId:G},X,W)};else if(H.status==="failed")yield{type:"error",error:new C(_.InternalError,`Task ${G} failed`)};else if(H.status==="cancelled")yield{type:"error",error:new C(_.InternalError,`Task ${G} was cancelled`)};return}if(H.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:G},X,W)};return}let $=H.pollInterval??this._options?.defaultTaskPollInterval??1000;await new Promise((B)=>setTimeout(B,$)),W?.signal?.throwIfAborted()}}catch(J){yield{type:"error",error:J instanceof C?J:new C(_.InternalError,String(J))}}}request(Q,X,W){let{relatedRequestId:Y,resumptionToken:G,onresumptiontoken:J,task:H,relatedTask:$}=W??{};return new Promise((B,z)=>{let K=(Z)=>{z(Z)};if(!this._transport){K(Error("Not connected"));return}if(this._options?.enforceStrictCapabilities===!0)try{if(this.assertCapabilityForMethod(Q.method),H)this.assertTaskCapability(Q.method)}catch(Z){K(Z);return}W?.signal?.throwIfAborted();let F=this._requestMessageId++,A={...Q,jsonrpc:"2.0",id:F};if(W?.onprogress)this._progressHandlers.set(F,W.onprogress),A.params={...Q.params,_meta:{...Q.params?._meta||{},progressToken:F}};if(H)A.params={...A.params,task:H};if($)A.params={...A.params,_meta:{...A.params?._meta||{},[a0]:$}};let L=(Z)=>{this._responseHandlers.delete(F),this._progressHandlers.delete(F),this._cleanupTimeout(F),this._transport?.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:F,reason:String(Z)}},{relatedRequestId:Y,resumptionToken:G,onresumptiontoken:J}).catch((I)=>this._onerror(Error(`Failed to send cancellation: ${I}`)));let T=Z instanceof C?Z:new C(_.RequestTimeout,String(Z));z(T)};this._responseHandlers.set(F,(Z)=>{if(W?.signal?.aborted)return;if(Z instanceof Error)return z(Z);try{let T=t0(X,Z.result);if(!T.success)z(T.error);else B(T.data)}catch(T){z(T)}}),W?.signal?.addEventListener("abort",()=>{L(W?.signal?.reason)});let V=W?.timeout??oz,q=()=>L(C.fromError(_.RequestTimeout,"Request timed out",{timeout:V}));this._setupTimeout(F,V,W?.maxTotalTimeout,q,W?.resetTimeoutOnProgress??!1);let O=$?.taskId;if(O){let Z=(T)=>{let I=this._responseHandlers.get(F);if(I)I(T);else this._onerror(Error(`Response handler missing for side-channeled request ${F}`))};this._requestResolvers.set(F,Z),this._enqueueTaskMessage(O,{type:"request",message:A,timestamp:Date.now()}).catch((T)=>{this._cleanupTimeout(F),z(T)})}else this._transport.send(A,{relatedRequestId:Y,resumptionToken:G,onresumptiontoken:J}).catch((Z)=>{this._cleanupTimeout(F),z(Z)})})}async getTask(Q,X){return this.request({method:"tasks/get",params:Q},HQ,X)}async getTaskResult(Q,X,W){return this.request({method:"tasks/result",params:Q},X,W)}async listTasks(Q,X){return this.request({method:"tasks/list",params:Q},zQ,X)}async cancelTask(Q,X){return this.request({method:"tasks/cancel",params:Q},SG,X)}async notification(Q,X){if(!this._transport)throw Error("Not connected");this.assertNotificationCapability(Q.method);let W=X?.relatedTask?.taskId;if(W){let H={...Q,jsonrpc:"2.0",params:{...Q.params,_meta:{...Q.params?._meta||{},[a0]:X.relatedTask}}};await this._enqueueTaskMessage(W,{type:"notification",message:H,timestamp:Date.now()});return}if((this._options?.debouncedNotificationMethods??[]).includes(Q.method)&&!Q.params&&!X?.relatedRequestId&&!X?.relatedTask){if(this._pendingDebouncedNotifications.has(Q.method))return;this._pendingDebouncedNotifications.add(Q.method),Promise.resolve().then(()=>{if(this._pendingDebouncedNotifications.delete(Q.method),!this._transport)return;let H={...Q,jsonrpc:"2.0"};if(X?.relatedTask)H={...H,params:{...H.params,_meta:{...H.params?._meta||{},[a0]:X.relatedTask}}};this._transport?.send(H,X).catch(($)=>this._onerror($))});return}let J={...Q,jsonrpc:"2.0"};if(X?.relatedTask)J={...J,params:{...J.params,_meta:{...J.params?._meta||{},[a0]:X.relatedTask}}};await this._transport.send(J,X)}setRequestHandler(Q,X){let W=z8(Q);this.assertRequestHandlerCapability(W),this._requestHandlers.set(W,(Y,G)=>{let J=K8(Q,Y);return Promise.resolve(X(J,G))})}removeRequestHandler(Q){this._requestHandlers.delete(Q)}assertCanSetRequestHandler(Q){if(this._requestHandlers.has(Q))throw Error(`A request handler for ${Q} already exists, which would be overridden`)}setNotificationHandler(Q,X){let W=z8(Q);this._notificationHandlers.set(W,(Y)=>{let G=K8(Q,Y);return Promise.resolve(X(G))})}removeNotificationHandler(Q){this._notificationHandlers.delete(Q)}_cleanupTaskProgressHandler(Q){let X=this._taskProgressTokens.get(Q);if(X!==void 0)this._progressHandlers.delete(X),this._taskProgressTokens.delete(Q)}async _enqueueTaskMessage(Q,X,W){if(!this._taskStore||!this._taskMessageQueue)throw Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");let Y=this._options?.maxTaskQueueSize;await this._taskMessageQueue.enqueue(Q,X,W,Y)}async _clearTaskQueue(Q,X){if(this._taskMessageQueue){let W=await this._taskMessageQueue.dequeueAll(Q,X);for(let Y of W)if(Y.type==="request"&&r6(Y.message)){let G=Y.message.id,J=this._requestResolvers.get(G);if(J)J(new C(_.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(G);else this._onerror(Error(`Resolver missing for request ${G} during task ${Q} cleanup`))}}}async _waitForTaskUpdate(Q,X){let W=this._options?.defaultTaskPollInterval??1000;try{let Y=await this._taskStore?.getTask(Q);if(Y?.pollInterval)W=Y.pollInterval}catch{}return new Promise((Y,G)=>{if(X.aborted){G(new C(_.InvalidRequest,"Request cancelled"));return}let J=setTimeout(Y,W);X.addEventListener("abort",()=>{clearTimeout(J),G(new C(_.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(Q,X){let W=this._taskStore;if(!W)throw Error("No task store configured");return{createTask:async(Y)=>{if(!Q)throw Error("No request provided");return await W.createTask(Y,Q.id,{method:Q.method,params:Q.params},X)},getTask:async(Y)=>{let G=await W.getTask(Y,X);if(!G)throw new C(_.InvalidParams,"Failed to retrieve task: Task not found");return G},storeTaskResult:async(Y,G,J)=>{await W.storeTaskResult(Y,G,J,X);let H=await W.getTask(Y,X);if(H){let $=W9.parse({method:"notifications/tasks/status",params:H});if(await this.notification($),s0(H.status))this._cleanupTaskProgressHandler(Y)}},getTaskResult:(Y)=>{return W.getTaskResult(Y,X)},updateTaskStatus:async(Y,G,J)=>{let H=await W.getTask(Y,X);if(!H)throw new C(_.InvalidParams,`Task "${Y}" not found - it may have been cleaned up`);if(s0(H.status))throw new C(_.InvalidParams,`Cannot update task "${Y}" from terminal status "${H.status}" to "${G}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await W.updateTaskStatus(Y,G,J,X);let $=await W.getTask(Y,X);if($){let B=W9.parse({method:"notifications/tasks/status",params:$});if(await this.notification(B),s0($.status))this._cleanupTaskProgressHandler(Y)}},listTasks:(Y)=>{return W.listTasks(Y,X)}}}}function yG(Q){return Q!==null&&typeof Q==="object"&&!Array.isArray(Q)}function hG(Q,X){let W={...Q};for(let Y in X){let G=Y,J=X[G];if(J===void 0)continue;let H=W[G];if(yG(H)&&yG(J))W[G]={...H,...J};else W[G]=J}return W}var U3=bX(JX(),1),V3=bX(D3(),1);function YZ(){let Q=new U3.default({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return V3.default(Q),Q}class UX{constructor(Q){this._ajv=Q??YZ()}getValidator(Q){let X="$id"in Q&&typeof Q.$id==="string"?this._ajv.getSchema(Q.$id)??this._ajv.compile(Q):this._ajv.compile(Q);return(W)=>{if(X(W))return{valid:!0,data:W,errorMessage:void 0};else return{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(X.errors)}}}}class VX{constructor(Q){this._server=Q}requestStream(Q,X,W){return this._server.requestStream(Q,X,W)}async getTask(Q,X){return this._server.getTask({taskId:Q},X)}async getTaskResult(Q,X,W){return this._server.getTaskResult({taskId:Q},X,W)}async listTasks(Q,X){return this._server.listTasks(Q?{cursor:Q}:void 0,X)}async cancelTask(Q,X){return this._server.cancelTask({taskId:Q},X)}}function q3(Q,X,W){if(!Q)throw Error(`${W} does not support task creation (required for ${X})`);switch(X){case"tools/call":if(!Q.tools?.call)throw Error(`${W} does not support task creation for tools/call (required for ${X})`);break;default:break}}function Z3(Q,X,W){if(!Q)throw Error(`${W} does not support task creation (required for ${X})`);switch(X){case"sampling/createMessage":if(!Q.sampling?.createMessage)throw Error(`${W} does not support task creation for sampling/createMessage (required for ${X})`);break;case"elicitation/create":if(!Q.elicitation?.create)throw Error(`${W} does not support task creation for elicitation/create (required for ${X})`);break;default:break}}class qX extends F8{constructor(Q,X){super(X);if(this._serverInfo=Q,this._loggingLevels=new Map,this.LOG_LEVEL_SEVERITY=new Map(J9.options.map((W,Y)=>[W,Y])),this.isMessageIgnored=(W,Y)=>{let G=this._loggingLevels.get(Y);return G?this.LOG_LEVEL_SEVERITY.get(W)<this.LOG_LEVEL_SEVERITY.get(G):!1},this._capabilities=X?.capabilities??{},this._instructions=X?.instructions,this._jsonSchemaValidator=X?.jsonSchemaValidator??new UX,this.setRequestHandler(t6,(W)=>this._oninitialize(W)),this.setNotificationHandler(a6,()=>this.oninitialized?.()),this._capabilities.logging)this.setRequestHandler(J8,async(W,Y)=>{let G=Y.sessionId||Y.requestInfo?.headers["mcp-session-id"]||void 0,{level:J}=W.params,H=J9.safeParse(J);if(H.success)this._loggingLevels.set(G,H.data);return{}})}get experimental(){if(!this._experimental)this._experimental={tasks:new VX(this)};return this._experimental}registerCapabilities(Q){if(this.transport)throw Error("Cannot register capabilities after connecting to transport");this._capabilities=hG(this._capabilities,Q)}setRequestHandler(Q,X){let Y=n9(Q)?.method;if(!Y)throw Error("Schema is missing a method literal");let G;if(Z1(Y)){let H=Y;G=H._zod?.def?.value??H.value}else{let H=Y;G=H._def?.value??H.value}if(typeof G!=="string")throw Error("Schema method literal must be a string");if(G==="tools/call"){let H=async($,B)=>{let z=t0(G9,$);if(!z.success){let L=z.error instanceof Error?z.error.message:String(z.error);throw new C(_.InvalidParams,`Invalid tools/call request: ${L}`)}let{params:K}=z.data,F=await Promise.resolve(X($,B));if(K.task){let L=t0(M1,F);if(!L.success){let V=L.error instanceof Error?L.error.message:String(L.error);throw new C(_.InvalidParams,`Invalid task creation result: ${V}`)}return L.data}let A=t0(FQ,F);if(!A.success){let L=A.error instanceof Error?A.error.message:String(A.error);throw new C(_.InvalidParams,`Invalid tools/call result: ${L}`)}return A.data};return super.setRequestHandler(Q,H)}return super.setRequestHandler(Q,X)}assertCapabilityForMethod(Q){switch(Q){case"sampling/createMessage":if(!this._clientCapabilities?.sampling)throw Error(`Client does not support sampling (required for ${Q})`);break;case"elicitation/create":if(!this._clientCapabilities?.elicitation)throw Error(`Client does not support elicitation (required for ${Q})`);break;case"roots/list":if(!this._clientCapabilities?.roots)throw Error(`Client does not support listing roots (required for ${Q})`);break;case"ping":break}}assertNotificationCapability(Q){switch(Q){case"notifications/message":if(!this._capabilities.logging)throw Error(`Server does not support logging (required for ${Q})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw Error(`Server does not support notifying about resources (required for ${Q})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw Error(`Server does not support notifying of tool list changes (required for ${Q})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw Error(`Server does not support notifying of prompt list changes (required for ${Q})`);break;case"notifications/elicitation/complete":if(!this._clientCapabilities?.elicitation?.url)throw Error(`Client does not support URL elicitation (required for ${Q})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(Q){if(!this._capabilities)return;switch(Q){case"completion/complete":if(!this._capabilities.completions)throw Error(`Server does not support completions (required for ${Q})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw Error(`Server does not support logging (required for ${Q})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw Error(`Server does not support prompts (required for ${Q})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw Error(`Server does not support resources (required for ${Q})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw Error(`Server does not support tools (required for ${Q})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw Error(`Server does not support tasks capability (required for ${Q})`);break;case"ping":case"initialize":break}}assertTaskCapability(Q){Z3(this._clientCapabilities?.tasks?.requests,Q,"Client")}assertTaskHandlerCapability(Q){if(!this._capabilities)return;q3(this._capabilities.tasks?.requests,Q,"Server")}async _oninitialize(Q){let X=Q.params.protocolVersion;return this._clientCapabilities=Q.params.capabilities,this._clientVersion=Q.params.clientInfo,{protocolVersion:MG.includes(X)?X:d6,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},XQ)}async createMessage(Q,X){if(Q.tools||Q.toolChoice){if(!this._clientCapabilities?.sampling?.tools)throw Error("Client does not support sampling tools capability.")}if(Q.messages.length>0){let W=Q.messages[Q.messages.length-1],Y=Array.isArray(W.content)?W.content:[W.content],G=Y.some((B)=>B.type==="tool_result"),J=Q.messages.length>1?Q.messages[Q.messages.length-2]:void 0,H=J?Array.isArray(J.content)?J.content:[J.content]:[],$=H.some((B)=>B.type==="tool_use");if(G){if(Y.some((B)=>B.type!=="tool_result"))throw Error("The last message must contain only tool_result content if any is present");if(!$)throw Error("tool_result blocks are not matching any tool_use from the previous message")}if($){let B=new Set(H.filter((K)=>K.type==="tool_use").map((K)=>K.id)),z=new Set(Y.filter((K)=>K.type==="tool_result").map((K)=>K.toolUseId));if(B.size!==z.size||![...B].every((K)=>z.has(K)))throw Error("ids of tool_result blocks and tool_use blocks from previous message do not match")}}if(Q.tools)return this.request({method:"sampling/createMessage",params:Q},$8,X);return this.request({method:"sampling/createMessage",params:Q},H8,X)}async elicitInput(Q,X){switch(Q.mode??"form"){case"url":{if(!this._clientCapabilities?.elicitation?.url)throw Error("Client does not support url elicitation.");let Y=Q;return this.request({method:"elicitation/create",params:Y},LQ,X)}case"form":{if(!this._clientCapabilities?.elicitation?.form)throw Error("Client does not support form elicitation.");let Y=Q.mode==="form"?Q:{...Q,mode:"form"},G=await this.request({method:"elicitation/create",params:Y},LQ,X);if(G.action==="accept"&&G.content&&Y.requestedSchema)try{let H=this._jsonSchemaValidator.getValidator(Y.requestedSchema)(G.content);if(!H.valid)throw new C(_.InvalidParams,`Elicitation response content does not match requested schema: ${H.errorMessage}`)}catch(J){if(J instanceof C)throw J;throw new C(_.InternalError,`Error validating elicitation response: ${J instanceof Error?J.message:String(J)}`)}return G}}}createElicitationCompletionNotifier(Q,X){if(!this._clientCapabilities?.elicitation?.url)throw Error("Client does not support URL elicitation (required for notifications/elicitation/complete)");return()=>this.notification({method:"notifications/elicitation/complete",params:{elicitationId:Q}},X)}async listRoots(Q,X){return this.request({method:"roots/list",params:Q},B8,X)}async sendLoggingMessage(Q,X){if(this._capabilities.logging){if(!this.isMessageIgnored(Q.level,X))return this.notification({method:"notifications/message",params:Q})}}async sendResourceUpdated(Q){return this.notification({method:"notifications/resources/updated",params:Q})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}}import M3 from"node:process";class ZX{append(Q){this._buffer=this._buffer?Buffer.concat([this._buffer,Q]):Q}readMessage(){if(!this._buffer)return null;let Q=this._buffer.indexOf(`
`);if(Q===-1)return null;let X=this._buffer.toString("utf8",0,Q).replace(/\r$/,"");return this._buffer=this._buffer.subarray(Q+1),GZ(X)}clear(){this._buffer=void 0}}function GZ(Q){return jG.parse(JSON.parse(Q))}function O3(Q){return JSON.stringify(Q)+`
`}class OX{constructor(Q=M3.stdin,X=M3.stdout){this._stdin=Q,this._stdout=X,this._readBuffer=new ZX,this._started=!1,this._ondata=(W)=>{this._readBuffer.append(W),this.processReadBuffer()},this._onerror=(W)=>{this.onerror?.(W)}}async start(){if(this._started)throw Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){while(!0)try{let Q=this._readBuffer.readMessage();if(Q===null)break;this.onmessage?.(Q)}catch(Q){this.onerror?.(Q)}}async close(){if(this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._stdin.listenerCount("data")===0)this._stdin.pause();this._readBuffer.clear(),this.onclose?.()}send(Q){return new Promise((X)=>{let W=O3(Q);if(this._stdout.write(W))X();else this._stdout.once("drain",X)})}}var v1=process.env.BANKR_API_KEY,MX=process.env.BANKR_API_URL||"https://api.bankr.bot",w3=`
To use the Bankr agent, you need to:

1. Create an API key at https://bankr.bot/api (make sure "Agent API" is enabled)

2. Add it to your shell configuration file (~/.bashrc or ~/.zshrc):
   export BANKR_API_KEY=bk_your_api_key_here

3. Apply the changes by running:
   source ~/.bashrc   # or source ~/.zshrc

4. Restart Claude Code to pick up the new environment variable

Alternatively, export it directly in your current session and restart Claude Code:
   export BANKR_API_KEY=bk_your_api_key_here`,NX=`BANKR_API_KEY environment variable is not set.
${w3}`,wX=`The Bankr API key is invalid or inactive.

This can happen if:
- The API key was revoked or expired
- The "Agent API" feature is not enabled for this key
- The API key was entered incorrectly
${w3}`;async function JZ(Q){if(!v1)throw Error(NX);let X=await fetch(`${MX}/agent/prompt`,{method:"POST",headers:{"x-api-key":v1,"Content-Type":"application/json"},body:JSON.stringify({prompt:Q})});if(!X.ok){if(X.status===401)throw Error(wX);let W=await X.text();throw Error(`API request failed: ${X.status} - ${W}`)}return X.json()}async function HZ(Q){if(!v1)throw Error(NX);let X=await fetch(`${MX}/agent/job/${Q}`,{method:"GET",headers:{"x-api-key":v1}});if(!X.ok){if(X.status===401)throw Error(wX);let W=await X.text();throw Error(`API request failed: ${X.status} - ${W}`)}return X.json()}async function $Z(Q){if(!v1)throw Error(NX);let X=await fetch(`${MX}/agent/job/${Q}/cancel`,{method:"POST",headers:{"x-api-key":v1,"Content-Type":"application/json"}});if(!X.ok){if(X.status===401)throw Error(wX);let W=await X.text();throw Error(`API request failed: ${X.status} - ${W}`)}return X.json()}function N3(Q){let X=[];if(X.push(`Job ID: ${Q.jobId}`),X.push(`Status: ${Q.status}`),X.push(`Prompt: ${Q.prompt}`),Q.statusUpdates&&Q.statusUpdates.length>0){X.push(`
Status Updates:`);for(let W of Q.statusUpdates)X.push(`  - ${W.message}`)}if(Q.response)X.push(`
Response:
${Q.response}`);if(Q.transactions&&Q.transactions.length>0){X.push(`
Transactions:`);for(let W of Q.transactions)if(W.metadata?.humanReadableMessage)X.push(`  - ${W.metadata.humanReadableMessage}`);else X.push(`  - ${W.type}`)}if(Q.error)X.push(`
Error: ${Q.error}`);if(Q.processingTime)X.push(`
Processing time: ${Q.processingTime}ms`);return X.join(`
`)}var PX=new qX({name:"bankr-agent-api",version:"0.1.0"},{capabilities:{tools:{}}});PX.setRequestHandler(G8,async()=>{return{tools:[{name:"bankr_agent_submit_prompt",description:"Submit a prompt to the Bankr API for crypto trading, market analysis, or Polymarket predictions. Returns a job ID that can be used to check status.",inputSchema:{type:"object",properties:{prompt:{type:"string",description:"The prompt to send to Bankr (e.g., 'Buy $50 of ETH on Base', 'What is the price of Bitcoin?', 'Bet $5 on the Eagles to win')"}},required:["prompt"]}},{name:"bankr_agent_get_job_status",description:"Get the status of a Bankr job. Use this to poll for results after submitting a prompt. Status can be: pending, processing, completed, failed, or cancelled.",inputSchema:{type:"object",properties:{job_id:{type:"string",description:"The job ID returned from bankr_agent_submit_prompt"}},required:["job_id"]}},{name:"bankr_agent_cancel_job",description:"Cancel a running Bankr job. Use this if the user wants to stop a job that is still processing.",inputSchema:{type:"object",properties:{job_id:{type:"string",description:"The job ID to cancel"}},required:["job_id"]}}]}});PX.setRequestHandler(G9,async(Q)=>{let{name:X,arguments:W}=Q.params;try{switch(X){case"bankr_agent_submit_prompt":{let Y=W?.prompt;if(!Y)throw Error("prompt is required");let G=await JZ(Y);if(!G.success)return{content:[{type:"text",text:`Failed to submit prompt: ${G.error||G.message||"Unknown error"}`}],isError:!0};return{content:[{type:"text",text:`Prompt submitted successfully.

Job ID: ${G.jobId}
Status: ${G.status||"pending"}

Use bankr_agent_get_job_status with this job ID to check for results. Poll every 2 seconds until status is "completed", "failed", or "cancelled".`}]}}case"bankr_agent_get_job_status":{let Y=W?.job_id;if(!Y)throw Error("job_id is required");let G=await HZ(Y);return{content:[{type:"text",text:N3(G)}]}}case"bankr_agent_cancel_job":{let Y=W?.job_id;if(!Y)throw Error("job_id is required");let G=await $Z(Y);return{content:[{type:"text",text:`Job cancelled.

${N3(G)}`}]}}default:throw Error(`Unknown tool: ${X}`)}}catch(Y){return{content:[{type:"text",text:`Error: ${Y instanceof Error?Y.message:String(Y)}`}],isError:!0}}});async function BZ(){let Q=new OX;await PX.connect(Q),console.error("Bankr Agent MCP server running on stdio")}BZ().catch((Q)=>{console.error("Fatal error:",Q),process.exit(1)});
